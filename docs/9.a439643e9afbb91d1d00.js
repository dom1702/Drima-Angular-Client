(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0UkJ":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("CcnG"),i=t("k3Z3");e.RecaptchaV3Module=function(){function n(){}return n.decorators=[{type:l.NgModule,args:[{providers:[i.ReCaptchaV3Service]}]}],n}()},"15PL":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("CcnG"),i=(t("p4DR"),t("wrqk"),0);e.RecaptchaComponent=function(){function n(n,e,t,r){this.elementRef=n,this.loader=e,this.zone=t,this.id="ngrecaptcha-"+i++,this.resolved=new l.EventEmitter,r&&(this.siteKey=r.siteKey,this.theme=r.theme,this.type=r.type,this.size=r.size,this.badge=r.badge)}return n.prototype.ngAfterViewInit=function(){var n=this;this.subscription=this.loader.ready.subscribe((function(e){null!=e&&e.render instanceof Function&&(n.grecaptcha=e,n.renderRecaptcha())}))},n.prototype.ngOnDestroy=function(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()},n.prototype.execute=function(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)},n.prototype.reset=function(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())},n.prototype.expired=function(){this.resolved.emit(null)},n.prototype.captchaResponseCallback=function(n){this.resolved.emit(n)},n.prototype.grecaptchaReset=function(){var n=this;null!=this.widget&&this.zone.runOutsideAngular((function(){return n.grecaptcha.reset(n.widget)}))},n.prototype.renderRecaptcha=function(){var n=this;this.widget=this.grecaptcha.render(this.elementRef.nativeElement,{badge:this.badge,callback:function(e){n.zone.run((function(){return n.captchaResponseCallback(e)}))},"expired-callback":function(){n.zone.run((function(){return n.expired()}))},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type}),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())},n.decorators=[{type:l.Component,args:[{exportAs:"reCaptcha",selector:"re-captcha",template:""}]}],n.propDecorators={id:[{type:l.Input},{type:l.HostBinding,args:["attr.id"]}],siteKey:[{type:l.Input}],theme:[{type:l.Input}],type:[{type:l.Input}],size:[{type:l.Input}],tabIndex:[{type:l.Input}],badge:[{type:l.Input}],resolved:[{type:l.Output}]},n}()},5756:function(n,e,t){var l=function(){"use strict";return l=function(n){if(this.REQUEST_TYPE={LOGIN:"LOGIN",RENEW_TOKEN:"RENEW_TOKEN",UNKNOWN:"UNKNOWN"},this.RESPONSE_TYPE={ID_TOKEN_TOKEN:"id_token token",TOKEN:"token"},this.CONSTANTS={ACCESS_TOKEN:"access_token",EXPIRES_IN:"expires_in",ID_TOKEN:"id_token",ERROR_DESCRIPTION:"error_description",SESSION_STATE:"session_state",ERROR:"error",STORAGE:{TOKEN_KEYS:"adal.token.keys",ACCESS_TOKEN_KEY:"adal.access.token.key",EXPIRATION_KEY:"adal.expiration.key",STATE_LOGIN:"adal.state.login",STATE_RENEW:"adal.state.renew",NONCE_IDTOKEN:"adal.nonce.idtoken",SESSION_STATE:"adal.session.state",USERNAME:"adal.username",IDTOKEN:"adal.idtoken",ERROR:"adal.error",ERROR_DESCRIPTION:"adal.error.description",LOGIN_REQUEST:"adal.login.request",LOGIN_ERROR:"adal.login.error",RENEW_STATUS:"adal.token.renew.status",ANGULAR_LOGIN_REQUEST:"adal.angular.login.request"},RESOURCE_DELIMETER:"|",CACHE_DELIMETER:"||",LOADFRAME_TIMEOUT:6e3,TOKEN_RENEW_STATUS_CANCELED:"Canceled",TOKEN_RENEW_STATUS_COMPLETED:"Completed",TOKEN_RENEW_STATUS_IN_PROGRESS:"In Progress",LOGGING_LEVEL:{ERROR:0,WARN:1,INFO:2,VERBOSE:3},LEVEL_STRING_MAP:{0:"ERROR:",1:"WARNING:",2:"INFO:",3:"VERBOSE:"},POPUP_WIDTH:483,POPUP_HEIGHT:600},l.prototype._singletonInstance)return l.prototype._singletonInstance;if(l.prototype._singletonInstance=this,this.instance="https://login.microsoftonline.com/",this.config={},this.callback=null,this.popUp=!1,this.isAngular=!1,this._user=null,this._activeRenewals={},this._loginInProgress=!1,this._acquireTokenInProgress=!1,this._renewStates=[],this._callBackMappedToRenewStates={},this._callBacksMappedToRenewStates={},this._openedWindows=[],this._requestType=this.REQUEST_TYPE.LOGIN,window._adalInstance=this,n.displayCall&&"function"!=typeof n.displayCall)throw new Error("displayCall is not a function");if(!n.clientId)throw new Error("clientId is required");this.config=this._cloneConfig(n),void 0===this.config.navigateToLoginRequestUrl&&(this.config.navigateToLoginRequestUrl=!0),this.config.popUp&&(this.popUp=!0),this.config.callback&&"function"==typeof this.config.callback&&(this.callback=this.config.callback),this.config.instance&&(this.instance=this.config.instance),this.config.loginResource||(this.config.loginResource=this.config.clientId),this.config.redirectUri||(this.config.redirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.postLogoutRedirectUri||(this.config.postLogoutRedirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.anonymousEndpoints||(this.config.anonymousEndpoints=[]),this.config.isAngular&&(this.isAngular=this.config.isAngular),this.config.loadFrameTimeout&&(this.CONSTANTS.LOADFRAME_TIMEOUT=this.config.loadFrameTimeout)},"undefined"!=typeof window&&(window.Logging={piiLoggingEnabled:!1,level:0,log:function(n){}}),l.prototype.login=function(){if(this._loginInProgress)this.info("Login in progress");else{this._loginInProgress=!0;var n=this._guid();this.config.state=n,this._idTokenNonce=this._guid();var e=this._getItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST);e&&""!==e?this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""):e=window.location.href,this.verbose("Expected state: "+n+" startPage:"+e),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,e),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,n,!0),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var t=this._getNavigateUrl("id_token",null)+"&nonce="+encodeURIComponent(this._idTokenNonce);this.config.displayCall?this.config.displayCall(t):this.popUp?(this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._renewStates.push(n),this.registerCallback(n,this.config.clientId,this.callback),this._loginPopup(t)):this.promptUser(t)}},l.prototype._openPopup=function(n,e,t,l){try{var i=window.screenLeft?window.screenLeft:window.screenX,r=window.screenTop?window.screenTop:window.screenY,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.open(n,e,"width="+t+", height="+l+", top="+(s/2-l/2+r)+", left="+(o/2-t/2+i));return a.focus&&a.focus(),a}catch(u){return this.warn("Error opening popup, "+u.message),this._loginInProgress=!1,this._acquireTokenInProgress=!1,null}},l.prototype._handlePopupError=function(n,e,t,l,i){this.warn(l),this._saveItem(this.CONSTANTS.STORAGE.ERROR,t),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,l),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,i),e&&this._activeRenewals[e]&&(this._activeRenewals[e]=null),this._loginInProgress=!1,this._acquireTokenInProgress=!1,n&&n(l,null,t)},l.prototype._loginPopup=function(n,e,t){var l=this._openPopup(n,"login",this.CONSTANTS.POPUP_WIDTH,this.CONSTANTS.POPUP_HEIGHT),i=t||this.callback;if(null!=l){if(this._openedWindows.push(l),-1!=this.config.redirectUri.indexOf("#"))var r=this.config.redirectUri.split("#")[0];else r=this.config.redirectUri;var o=this,s=window.setInterval((function(){if(!l||l.closed||void 0===l.closed){var n="Popup Window closed",t="Popup Window closed by UI action/ Popup Window handle destroyed due to cross zone navigation in IE/Edge";return o.isAngular&&o._broadcast("adal:popUpClosed",t+o.CONSTANTS.RESOURCE_DELIMETER+n),o._handlePopupError(i,e,n,t,t),void window.clearInterval(s)}try{var a=l.location;if(-1!=encodeURI(a.href).indexOf(encodeURI(r)))return o.isAngular?o._broadcast("adal:popUpHashChanged",a.hash):o.handleWindowCallback(a.hash),window.clearInterval(s),o._loginInProgress=!1,o._acquireTokenInProgress=!1,o.info("Closing popup window"),o._openedWindows=[],void l.close()}catch(u){}}),1)}else{var a="Popup Window is null. This can happen if you are using IE";this._handlePopupError(i,e,"Error opening popup",a,a)}},l.prototype._broadcast=function(n,e){!function(){if("function"==typeof window.CustomEvent)return!1;function n(n,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(n,e.bubbles,e.cancelable,e.detail),t}n.prototype=window.Event.prototype,window.CustomEvent=n}();var t=new CustomEvent(n,{detail:e});window.dispatchEvent(t)},l.prototype.loginInProgress=function(){return this._loginInProgress},l.prototype._hasResource=function(n){var e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);return e&&!this._isEmpty(e)&&e.indexOf(n+this.CONSTANTS.RESOURCE_DELIMETER)>-1},l.prototype.getCachedToken=function(n){if(!this._hasResource(n))return null;var e=this._getItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n),t=this._getItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n),l=this.config.expireOffsetSeconds||300;return t&&t>this._now()+l?e:(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,0),null)},l.prototype.getCachedUser=function(){if(this._user)return this._user;var n=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);return this._user=this._createUser(n),this._user},l.prototype.registerCallback=function(n,e,t){this._activeRenewals[e]=n,this._callBacksMappedToRenewStates[n]||(this._callBacksMappedToRenewStates[n]=[]);var l=this;this._callBacksMappedToRenewStates[n].push(t),this._callBackMappedToRenewStates[n]||(this._callBackMappedToRenewStates[n]=function(t,i,r,o){l._activeRenewals[e]=null;for(var s=0;s<l._callBacksMappedToRenewStates[n].length;++s)try{l._callBacksMappedToRenewStates[n][s](t,i,r,o)}catch(r){l.warn(r)}l._callBacksMappedToRenewStates[n]=null,l._callBackMappedToRenewStates[n]=null})},l.prototype._renewToken=function(n,e,t){this.info("renewToken is called for resource:"+n);var l=this._addAdalFrame("adalRenewFrame"+n),i=this._guid()+"|"+n;this.config.state=i,this._renewStates.push(i),this.verbose("Renew token Expected state: "+i);var r=this._urlRemoveQueryStringParameter(this._getNavigateUrl(t=t||"token",n),"prompt");t===this.RESPONSE_TYPE.ID_TOKEN_TOKEN&&(this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),r+="&nonce="+encodeURIComponent(this._idTokenNonce)),r=this._addHintParameters(r+="&prompt=none"),this.registerCallback(i,n,e),this.verbosePii("Navigate to:"+r),l.src="about:blank",this._loadFrameTimeout(r,"adalRenewFrame"+n,n)},l.prototype._renewIdToken=function(n,e){this.info("renewIdToken is called");var t=this._addAdalFrame("adalIdTokenFrame"),l=this._guid()+"|"+this.config.clientId;this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this.config.state=l,this._renewStates.push(l),this.verbose("Renew Idtoken Expected state: "+l);var i=null==e?null:this.config.clientId,r=this._urlRemoveQueryStringParameter(this._getNavigateUrl(e=e||"id_token",i),"prompt");r=this._addHintParameters(r+="&prompt=none"),r+="&nonce="+encodeURIComponent(this._idTokenNonce),this.registerCallback(l,this.config.clientId,n),this.verbosePii("Navigate to:"+r),t.src="about:blank",this._loadFrameTimeout(r,"adalIdTokenFrame",this.config.clientId)},l.prototype._urlContainsQueryStringParameter=function(n,e){return new RegExp("[\\?&]"+n+"=").test(e)},l.prototype._urlRemoveQueryStringParameter=function(n,e){var t=new RegExp("(\\&"+e+"=)[^&]+");return n=n.replace(t,""),t=new RegExp("("+e+"=)[^&]+&"),n=n.replace(t,""),t=new RegExp("("+e+"=)[^&]+"),n.replace(t,"")},l.prototype._loadFrameTimeout=function(n,e,t){this.verbose("Set loading state to pending for: "+t),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+t,this.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS),this._loadFrame(n,e);var l=this;setTimeout((function(){if(l._getItem(l.CONSTANTS.STORAGE.RENEW_STATUS+t)===l.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS){l.verbose("Loading frame has timed out after: "+l.CONSTANTS.LOADFRAME_TIMEOUT/1e3+" seconds for resource "+t);var n=l._activeRenewals[t];n&&l._callBackMappedToRenewStates[n]&&l._callBackMappedToRenewStates[n]("Token renewal operation failed due to timeout",null,"Token Renewal Failed"),l._saveItem(l.CONSTANTS.STORAGE.RENEW_STATUS+t,l.CONSTANTS.TOKEN_RENEW_STATUS_CANCELED)}}),l.CONSTANTS.LOADFRAME_TIMEOUT)},l.prototype._loadFrame=function(n,e){var t=this;t.info("LoadFrame: "+e);var l=e;setTimeout((function(){var e=t._addAdalFrame(l);""!==e.src&&"about:blank"!==e.src||(e.src=n,t._loadFrame(n,l))}),500)},l.prototype.acquireToken=function(n,e){if(this._isEmpty(n))return this.warn("resource is required"),void e("resource is required",null,"resource is required");var t=this.getCachedToken(n);return t?(this.info("Token is already in cache for resource:"+n),void e(null,t,null)):this._user||this.config.extraQueryParameter&&-1!==this.config.extraQueryParameter.indexOf("login_hint")?void(this._activeRenewals[n]?this.registerCallback(this._activeRenewals[n],n,e):(this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,n===this.config.clientId?this._user?(this.verbose("renewing idtoken"),this._renewIdToken(e)):(this.verbose("renewing idtoken and access_token"),this._renewIdToken(e,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)):this._user?(this.verbose("renewing access_token"),this._renewToken(n,e)):(this.verbose("renewing idtoken and access_token"),this._renewToken(n,e,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)))):(this.warn("User login is required"),void e("User login is required",null,"login required"))},l.prototype.acquireTokenPopup=function(n,e,t,l){if(this._isEmpty(n))return this.warn("resource is required"),void l("resource is required",null,"resource is required");if(!this._user)return this.warn("User login is required"),void l("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void l("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var i=this._guid()+"|"+n;this.config.state=i,this._renewStates.push(i),this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,this.verbose("Renew token Expected state: "+i);var r=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",n),"prompt");if(r+="&prompt=select_account",e&&(r+=e),t&&-1===r.indexOf("&claims"))r+="&claims="+encodeURIComponent(t);else if(t&&-1!==r.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");r=this._addHintParameters(r),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+n),this.registerCallback(i,n,l),this._loginPopup(r,n,l)},l.prototype.acquireTokenRedirect=function(n,e,t){if(this._isEmpty(n))return this.warn("resource is required"),void l("resource is required",null,"resource is required");var l=this.callback;if(!this._user)return this.warn("User login is required"),void l("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void l("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var i=this._guid()+"|"+n;this.config.state=i,this.verbose("Renew token Expected state: "+i);var r=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",n),"prompt");if(r+="&prompt=select_account",e&&(r+=e),t&&-1===r.indexOf("&claims"))r+="&claims="+encodeURIComponent(t);else if(t&&-1!==r.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");r=this._addHintParameters(r),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+n),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,window.location.href),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,i,!0),this.promptUser(r)},l.prototype.promptUser=function(n){n?(this.infoPii("Navigate to:"+n),window.location.replace(n)):this.info("Navigate url is empty")},l.prototype.clearCache=function(){this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._renewStates=[],this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"");var n=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);if(!this._isEmpty(n)){n=n.split(this.CONSTANTS.RESOURCE_DELIMETER);for(var e=0;e<n.length&&""!==n[e];e++)this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n[e],""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n[e],0)}this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,"")},l.prototype.clearCacheForResource=function(n){this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._hasResource(n)&&(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,0))},l.prototype.logOut=function(){var n;if(this.clearCache(),this._user=null,this.config.logOutUri)n=this.config.logOutUri;else{var e="common",t="";this.config.tenant&&(e=this.config.tenant),this.config.postLogoutRedirectUri&&(t="post_logout_redirect_uri="+encodeURIComponent(this.config.postLogoutRedirectUri)),n=this.instance+e+"/oauth2/logout?"+t}this.infoPii("Logout navigate to: "+n),this.promptUser(n)},l.prototype._isEmpty=function(n){return void 0===n||!n||0===n.length},l.prototype.getUser=function(n){if("function"!=typeof n)throw new Error("callback is not a function");if(this._user)n(null,this._user);else{var e=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);this._isEmpty(e)?(this.warn("User information is not available"),n("User information is not available",null)):(this.info("User exists in cache: "),this._user=this._createUser(e),n(null,this._user))}},l.prototype._addHintParameters=function(n){if(this._user&&this._user.profile)if(this._user.profile.sid&&-1!==n.indexOf("&prompt=none"))this._urlContainsQueryStringParameter("sid",n)||(n+="&sid="+encodeURIComponent(this._user.profile.sid));else if(this._user.profile.upn&&(this._urlContainsQueryStringParameter("login_hint",n)||(n+="&login_hint="+encodeURIComponent(this._user.profile.upn)),!this._urlContainsQueryStringParameter("domain_hint",n)&&this._user.profile.upn.indexOf("@")>-1)){var e=this._user.profile.upn.split("@");n+="&domain_hint="+encodeURIComponent(e[e.length-1])}return n},l.prototype._createUser=function(n){var e=null,t=this._extractIdToken(n);return t&&t.hasOwnProperty("aud")&&(t.aud.toLowerCase()===this.config.clientId.toLowerCase()?(e={userName:"",profile:t},t.hasOwnProperty("upn")?e.userName=t.upn:t.hasOwnProperty("email")&&(e.userName=t.email)):this.warn("IdToken has invalid aud field")),e},l.prototype._getHash=function(n){return n.indexOf("#/")>-1?n=n.substring(n.indexOf("#/")+2):n.indexOf("#")>-1&&(n=n.substring(1)),n},l.prototype.isCallback=function(n){n=this._getHash(n);var e=this._deserialize(n);return e.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||e.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||e.hasOwnProperty(this.CONSTANTS.ID_TOKEN)},l.prototype.getLoginError=function(){return this._getItem(this.CONSTANTS.STORAGE.LOGIN_ERROR)},l.prototype.getRequestInfo=function(n){n=this._getHash(n);var e=this._deserialize(n),t={valid:!1,parameters:{},stateMatch:!1,stateResponse:"",requestType:this.REQUEST_TYPE.UNKNOWN};if(e&&(t.parameters=e,e.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||e.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||e.hasOwnProperty(this.CONSTANTS.ID_TOKEN))){if(t.valid=!0,!e.hasOwnProperty("state"))return this.warn("No state returned"),t;if(this.verbose("State: "+e.state),t.stateResponse=e.state,this._matchState(t))return t;if(!t.stateMatch&&window.parent){t.requestType=this._requestType;for(var l=this._renewStates,i=0;i<l.length;i++)if(l[i]===t.stateResponse){t.stateMatch=!0;break}}}return t},l.prototype._matchNonce=function(n){var e=this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN);if(e){e=e.split(this.CONSTANTS.CACHE_DELIMETER);for(var t=0;t<e.length;t++)if(e[t]===n.profile.nonce)return!0}return!1},l.prototype._matchState=function(n){var e=this._getItem(this.CONSTANTS.STORAGE.STATE_LOGIN);if(e){e=e.split(this.CONSTANTS.CACHE_DELIMETER);for(var t=0;t<e.length;t++)if(e[t]===n.stateResponse)return n.requestType=this.REQUEST_TYPE.LOGIN,n.stateMatch=!0,!0}var l=this._getItem(this.CONSTANTS.STORAGE.STATE_RENEW);if(l)for(l=l.split(this.CONSTANTS.CACHE_DELIMETER),t=0;t<l.length;t++)if(l[t]===n.stateResponse)return n.requestType=this.REQUEST_TYPE.RENEW_TOKEN,n.stateMatch=!0,!0;return!1},l.prototype._getResourceFromState=function(n){if(n){var e=n.indexOf("|");if(e>-1&&e+1<n.length)return n.substring(e+1)}return""},l.prototype.saveTokenFromHash=function(n){this.info("State status:"+n.stateMatch+"; Request type:"+n.requestType),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var e,t=this._getResourceFromState(n.stateResponse);n.parameters.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)?(this.infoPii("Error :"+n.parameters.error+"; Error description:"+n.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),this._saveItem(this.CONSTANTS.STORAGE.ERROR,n.parameters.error),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,n.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),n.requestType===this.REQUEST_TYPE.LOGIN&&(this._loginInProgress=!1,this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,n.parameters.error_description))):n.stateMatch?(this.info("State is right"),n.parameters.hasOwnProperty(this.CONSTANTS.SESSION_STATE)&&this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,n.parameters[this.CONSTANTS.SESSION_STATE]),n.parameters.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)&&(this.info("Fragment has access token"),this._hasResource(t)||(e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,e+t+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t,n.parameters[this.CONSTANTS.ACCESS_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t,this._expiresIn(n.parameters[this.CONSTANTS.EXPIRES_IN]))),n.parameters.hasOwnProperty(this.CONSTANTS.ID_TOKEN)&&(this.info("Fragment has id token"),this._loginInProgress=!1,this._user=this._createUser(n.parameters[this.CONSTANTS.ID_TOKEN]),this._user&&this._user.profile?this._matchNonce(this._user)?(this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,n.parameters[this.CONSTANTS.ID_TOKEN]),this._hasResource(t=this.config.loginResource?this.config.loginResource:this.config.clientId)||(e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,e+t+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t,n.parameters[this.CONSTANTS.ID_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t,this._user.profile.exp)):(this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"Nonce received: "+this._user.profile.nonce+" is not same as requested: "+this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN)),this._user=null):(n.parameters.error="invalid id_token",n.parameters.error_description="Invalid id_token. id_token: "+n.parameters[this.CONSTANTS.ID_TOKEN],this._saveItem(this.CONSTANTS.STORAGE.ERROR,"invalid id_token"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid id_token. id_token: "+n.parameters[this.CONSTANTS.ID_TOKEN])))):(n.parameters.error="Invalid_state",n.parameters.error_description="Invalid_state. state: "+n.stateResponse,this._saveItem(this.CONSTANTS.STORAGE.ERROR,"Invalid_state"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid_state. state: "+n.stateResponse)),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+t,this.CONSTANTS.TOKEN_RENEW_STATUS_COMPLETED)},l.prototype.getResourceForEndpoint=function(n){if(this.config&&this.config.anonymousEndpoints)for(var e=0;e<this.config.anonymousEndpoints.length;e++)if(n.indexOf(this.config.anonymousEndpoints[e])>-1)return null;if(this.config&&this.config.endpoints)for(var t in this.config.endpoints)if(n.indexOf(t)>-1)return this.config.endpoints[t];return n.indexOf("http://")>-1||n.indexOf("https://")>-1?this._getHostFromUri(n)===this._getHostFromUri(this.config.redirectUri)?this.config.loginResource:null:this.config.loginResource},l.prototype._getHostFromUri=function(n){return String(n).replace(/^(https?:)\/\//,"").split("/")[0]},l.prototype.handleWindowCallback=function(n){if(null==n&&(n=window.location.hash),this.isCallback(n)){var e=null,t=!1;this._openedWindows.length>0&&this._openedWindows[this._openedWindows.length-1].opener&&this._openedWindows[this._openedWindows.length-1].opener._adalInstance?(e=this._openedWindows[this._openedWindows.length-1].opener._adalInstance,t=!0):window.parent&&window.parent._adalInstance&&(e=window.parent._adalInstance);var l,i,r=e.getRequestInfo(n),o=null;i=t||window.parent!==window?e._callBackMappedToRenewStates[r.stateResponse]:e.callback,e.info("Returned from redirect url"),e.saveTokenFromHash(r),r.requestType===this.REQUEST_TYPE.RENEW_TOKEN&&window.parent?(window.parent!==window?e.verbose("Window is in iframe, acquiring token silently"):e.verbose("acquiring token interactive in progress"),l=r.parameters[e.CONSTANTS.ACCESS_TOKEN]||r.parameters[e.CONSTANTS.ID_TOKEN],o=e.CONSTANTS.ACCESS_TOKEN):r.requestType===this.REQUEST_TYPE.LOGIN&&(l=r.parameters[e.CONSTANTS.ID_TOKEN],o=e.CONSTANTS.ID_TOKEN);var s=r.parameters[e.CONSTANTS.ERROR_DESCRIPTION],a=r.parameters[e.CONSTANTS.ERROR];try{i&&i(s,l,a,o)}catch(u){e.error("Error occurred in user defined callback function: "+u)}window.parent!==window||t||(e.config.navigateToLoginRequestUrl?window.location.href=e._getItem(e.CONSTANTS.STORAGE.LOGIN_REQUEST):window.location.hash="")}},l.prototype._getNavigateUrl=function(n,e){var t="common";this.config.tenant&&(t=this.config.tenant);var l=this.instance+t+"/oauth2/authorize"+this._serialize(n,this.config,e)+this._addLibMetadata();return this.info("Navigate url:"+l),l},l.prototype._extractIdToken=function(n){var e=this._decodeJwt(n);if(!e)return null;try{var t=this._base64DecodeStringUrlSafe(e.JWSPayload);return t?JSON.parse(t):(this.info("The returned id_token could not be base64 url safe decoded."),null)}catch(l){this.error("The returned id_token could not be decoded",l)}return null},l.prototype._base64DecodeStringUrlSafe=function(n){return n=n.replace(/-/g,"+").replace(/_/g,"/"),window.atob?decodeURIComponent(escape(window.atob(n))):decodeURIComponent(escape(this._decode(n)))},l.prototype._decode=function(n){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=(n=String(n).replace(/=+$/,"")).length;if(t%4==1)throw new Error("The token to be decoded is not correctly encoded.");for(var l,i,r,o,s,a,u,c="",d=0;d<t;d+=4){if(l=e.indexOf(n.charAt(d)),i=e.indexOf(n.charAt(d+1)),r=e.indexOf(n.charAt(d+2)),o=e.indexOf(n.charAt(d+3)),d+2===t-1){a=(s=l<<18|i<<12|r<<6)>>16&255,u=s>>8&255,c+=String.fromCharCode(a,u);break}if(d+1===t-1){a=(s=l<<18|i<<12)>>16&255,c+=String.fromCharCode(a);break}a=(s=l<<18|i<<12|r<<6|o)>>16&255,u=s>>8&255,c+=String.fromCharCode(a,u,255&s)}return c},l.prototype._decodeJwt=function(n){if(this._isEmpty(n))return null;var e=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);return!e||e.length<4?(this.warn("The returned id_token is not parseable."),null):{header:e[1],JWSPayload:e[2],JWSSig:e[3]}},l.prototype._convertUrlSafeToRegularBase64EncodedString=function(n){return n.replace("-","+").replace("_","/")},l.prototype._serialize=function(n,e,t){var l=[];if(null!==e){l.push("?response_type="+n),l.push("client_id="+encodeURIComponent(e.clientId)),t&&l.push("resource="+encodeURIComponent(t)),l.push("redirect_uri="+encodeURIComponent(e.redirectUri)),l.push("state="+encodeURIComponent(e.state)),e.hasOwnProperty("slice")&&l.push("slice="+encodeURIComponent(e.slice)),e.hasOwnProperty("extraQueryParameter")&&l.push(e.extraQueryParameter);var i=e.correlationId?e.correlationId:this._guid();l.push("client-request-id="+encodeURIComponent(i))}return l.join("&")},l.prototype._deserialize=function(n){var e,t=/\+/g,l=/([^&=]+)=([^&]*)/g,i=function(n){return decodeURIComponent(n.replace(t," "))},r={};for(e=l.exec(n);e;)r[i(e[1])]=i(e[2]),e=l.exec(n);return r},l.prototype._decimalToHex=function(n){for(var e=n.toString(16);e.length<2;)e="0"+e;return e},l.prototype._guid=function(){var n=window.crypto||window.msCrypto;if(n&&n.getRandomValues){var e=new Uint8Array(16);return n.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,this._decimalToHex(e[0])+this._decimalToHex(e[1])+this._decimalToHex(e[2])+this._decimalToHex(e[3])+"-"+this._decimalToHex(e[4])+this._decimalToHex(e[5])+"-"+this._decimalToHex(e[6])+this._decimalToHex(e[7])+"-"+this._decimalToHex(e[8])+this._decimalToHex(e[9])+"-"+this._decimalToHex(e[10])+this._decimalToHex(e[11])+this._decimalToHex(e[12])+this._decimalToHex(e[13])+this._decimalToHex(e[14])+this._decimalToHex(e[15])}for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",l="0123456789abcdef",i=0,r="",o=0;o<36;o++)"-"!==t[o]&&"4"!==t[o]&&(i=16*Math.random()|0),"x"===t[o]?r+=l[i]:"y"===t[o]?(i&=3,r+=l[i|=8]):r+=t[o];return r},l.prototype._expiresIn=function(n){return n||(n=3599),this._now()+parseInt(n,10)},l.prototype._now=function(){return Math.round((new Date).getTime()/1e3)},l.prototype._addAdalFrame=function(n){if(void 0!==n){this.info("Add adal frame to document:"+n);var e=document.getElementById(n);if(!e){if(document.createElement&&document.documentElement&&(window.opera||-1===window.navigator.userAgent.indexOf("MSIE 5.0"))){var t=document.createElement("iframe");t.setAttribute("id",n),t.setAttribute("aria-hidden","true"),t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height=t.borderWidth="0px",e=document.getElementsByTagName("body")[0].appendChild(t)}else document.body&&document.body.insertAdjacentHTML&&document.body.insertAdjacentHTML("beforeEnd",'<iframe name="'+n+'" id="'+n+'" style="display:none"></iframe>');window.frames&&window.frames[n]&&(e=window.frames[n])}return e}},l.prototype._saveItem=function(n,e,t){if(this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation){if(!this._supportsLocalStorage())return this.info("Local storage is not supported"),!1;if(t){var l=this._getItem(n)||"";localStorage.setItem(n,l+e+this.CONSTANTS.CACHE_DELIMETER)}else localStorage.setItem(n,e);return!0}return this._supportsSessionStorage()?(sessionStorage.setItem(n,e),!0):(this.info("Session storage is not supported"),!1)},l.prototype._getItem=function(n){return this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation?this._supportsLocalStorage()?localStorage.getItem(n):(this.info("Local storage is not supported"),null):this._supportsSessionStorage()?sessionStorage.getItem(n):(this.info("Session storage is not supported"),null)},l.prototype._supportsLocalStorage=function(){try{return!!window.localStorage&&(window.localStorage.setItem("storageTest","A"),"A"==window.localStorage.getItem("storageTest")&&(window.localStorage.removeItem("storageTest"),!window.localStorage.getItem("storageTest")))}catch(n){return!1}},l.prototype._supportsSessionStorage=function(){try{return!!window.sessionStorage&&(window.sessionStorage.setItem("storageTest","A"),"A"==window.sessionStorage.getItem("storageTest")&&(window.sessionStorage.removeItem("storageTest"),!window.sessionStorage.getItem("storageTest")))}catch(n){return!1}},l.prototype._cloneConfig=function(n){if(null===n||"object"!=typeof n)return n;var e={};for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},l.prototype._addLibMetadata=function(){return"&x-client-SKU=Js&x-client-Ver="+this._libVersion()},l.prototype.log=function(n,e,t,l){if(n<=Logging.level){if(!Logging.piiLoggingEnabled&&l)return;var i=(new Date).toUTCString(),r="";r=this.config.correlationId?i+":"+this.config.correlationId+"-"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[n]+" "+e:i+":"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[n]+" "+e,t&&(r+="\nstack:\n"+t.stack),Logging.log(r)}},l.prototype.error=function(n,e){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,n,e)},l.prototype.warn=function(n){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,n,null)},l.prototype.info=function(n){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,n,null)},l.prototype.verbose=function(n){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,n,null)},l.prototype.errorPii=function(n,e){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,n,e,!0)},l.prototype.warnPii=function(n){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,n,null,!0)},l.prototype.infoPii=function(n){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,n,null,!0)},l.prototype.verbosePii=function(n){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,n,null,!0)},l.prototype._libVersion=function(){return"1.0.17"},n.exports&&(n.exports=l,n.exports.inject=function(n){return new l(n)}),l}()},"9cOK":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("15PL");e.RecaptchaComponent=l.RecaptchaComponent;var i=t("p4DR");e.RecaptchaLoaderService=i.RecaptchaLoaderService,e.RECAPTCHA_LANGUAGE=i.RECAPTCHA_LANGUAGE,e.RECAPTCHA_BASE_URL=i.RECAPTCHA_BASE_URL,e.RECAPTCHA_NONCE=i.RECAPTCHA_NONCE;var r=t("uOf+");e.RecaptchaModule=r.RecaptchaModule;var o=t("wrqk");e.RECAPTCHA_SETTINGS=o.RECAPTCHA_SETTINGS;var s=t("0UkJ");e.RecaptchaV3Module=s.RecaptchaV3Module;var a=t("k3Z3");e.ReCaptchaV3Service=a.ReCaptchaV3Service,e.RECAPTCHA_V3_SITE_KEY=a.RECAPTCHA_V3_SITE_KEY},DPfx:function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),i=function(){return function(){}}(),r=t("z5nN"),o=t("pMnS"),s=t("Ip0R"),a=t("gIcY"),u=t("S8ex"),c=t("O7Fb"),d=t("kPyj"),p=t("DQlY"),h=t("lqqz"),g=t("mrSG"),f=t("Q86s"),m=t("KALY"),v=(t("Jc0W"),t("2WpN")),y=function(n){function e(e,t){var l=n.call(this,t)||this;return l._accountService=e,l.tenancyName="",l.active=!1,l.saving=!1,l}return Object(g.__extends)(e,n),e.prototype.show=function(n){this.tenancyName=n,this.active=!0,this.modal.show()},e.prototype.onShown=function(){this.tenancyNameInput.nativeElement.focus()},e.prototype.save=function(){var n=this;if(!this.tenancyName)return abp.multiTenancy.setTenantIdCookie(void 0),this.close(),void location.reload();var e=new m.mc;e.tenancyName=this.tenancyName,this.saving=!0,this._accountService.isTenantAvailable(e).pipe(Object(v.a)((function(){n.saving=!1}))).subscribe((function(e){switch(e.state){case m.Pd.Available:return abp.multiTenancy.setTenantIdCookie(e.tenantId),n.close(),void location.reload();case m.Pd.InActive:n.message.warn(n.l("TenantIsNotActive",n.tenancyName));break;case m.Pd.NotFound:n.message.warn(n.l("ThereIsNoTenantDefinedWithName{0}",n.tenancyName))}}))},e.prototype.close=function(){this.active=!1,this.modal.hide()},e}(f.a),S=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,2).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,2).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.save()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](2,4210688,[["changeTenantForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](4,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](5,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,3,"h5",[["class","modal-title"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,0,"button",[["aria-hidden","true"],["class","close"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.close()&&l),l}),null,null)),(n()(),l["\u0275eld"](11,0,null,null,17,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,2,"label",[["class","float-left"]],null,null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),l["\u0275ppd"](15,1),(n()(),l["\u0275eld"](16,0,[[2,0],["tenancyNameInput",1]],null,9,"input",[["class","form-control"],["maxlength","64"],["name","TenancyName"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,19)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,19).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,19)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,19)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.tenancyName=t)&&i),i}),null,null)),l["\u0275did"](17,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](18,{edited:0}),l["\u0275did"](19,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](20,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](23,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](25,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](26,0,null,null,2,"span",[["class","float-left m-form__help"]],null,null,null,null,null)),(n()(),l["\u0275ted"](27,null,["",""])),l["\u0275ppd"](28,1),(n()(),l["\u0275eld"](29,0,null,null,9,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](30,0,null,null,2,"button",[["class","btn btn-secondary close-button"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.close()&&l),l}),null,null)),(n()(),l["\u0275ted"](31,null,["",""])),l["\u0275ppd"](32,1),(n()(),l["\u0275eld"](33,0,null,null,5,"button",[["class","btn btn-primary save-button"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),l["\u0275did"](34,4276224,null,0,u.a,[l.ElementRef,c.a],{buttonBusy:[0,"buttonBusy"],busyText:[1,"busyText"]},null),(n()(),l["\u0275eld"](35,0,null,null,0,"i",[["class","fa fa-save"]],null,null,null,null,null)),(n()(),l["\u0275eld"](36,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](37,null,["",""])),l["\u0275ppd"](38,1)],(function(n,e){var t=e.component,l=n(e,18,0,t.tenancyName);n(e,17,0,"form-control",l),n(e,20,0,"64"),n(e,23,0,"TenancyName",t.tenancyName),n(e,34,0,t.saving,t.l("SavingWithThreeDot"))}),(function(n,e){var t=e.component;n(e,0,0,l["\u0275nov"](e,4).ngClassUntouched,l["\u0275nov"](e,4).ngClassTouched,l["\u0275nov"](e,4).ngClassPristine,l["\u0275nov"](e,4).ngClassDirty,l["\u0275nov"](e,4).ngClassValid,l["\u0275nov"](e,4).ngClassInvalid,l["\u0275nov"](e,4).ngClassPending);var i=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"ChangeTenant"));n(e,8,0,i);var r=l["\u0275unv"](e,14,0,n(e,15,0,l["\u0275nov"](e.parent,0),"TenancyName"));n(e,14,0,r),n(e,16,0,l["\u0275nov"](e,20).maxlength?l["\u0275nov"](e,20).maxlength:null,l["\u0275nov"](e,25).ngClassUntouched,l["\u0275nov"](e,25).ngClassTouched,l["\u0275nov"](e,25).ngClassPristine,l["\u0275nov"](e,25).ngClassDirty,l["\u0275nov"](e,25).ngClassValid,l["\u0275nov"](e,25).ngClassInvalid,l["\u0275nov"](e,25).ngClassPending);var o=l["\u0275unv"](e,27,0,n(e,28,0,l["\u0275nov"](e.parent,0),"LeaveEmptyToSwitchToHost"));n(e,27,0,o),n(e,30,0,t.saving);var s=l["\u0275unv"](e,31,0,n(e,32,0,l["\u0275nov"](e.parent,0),"Cancel"));n(e,31,0,s),n(e,33,0,!l["\u0275nov"](e,2).form.valid);var a=l["\u0275unv"](e,37,0,n(e,38,0,l["\u0275nov"](e.parent,0),"Save"));n(e,37,0,a)}))}function C(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),l["\u0275qud"](402653184,1,{modal:0}),l["\u0275qud"](671088640,2,{tenancyNameInput:0}),(n()(),l["\u0275eld"](3,16777216,null,null,6,"div",[["aria-hidden","true"],["aria-labelledby","tenantChangeModal"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"onShown"],[null,"click"],[null,"keydown.esc"]],(function(n,e,t){var i=!0,r=n.component;return"click"===e&&(i=!1!==l["\u0275nov"](n,4).onClick(t)&&i),"keydown.esc"===e&&(i=!1!==l["\u0275nov"](n,4).onEsc(t)&&i),"onShown"===e&&(i=!1!==r.onShown()&&i),i}),null,null)),l["\u0275did"](4,212992,[[1,4],["tenantChangeModal",4]],0,p.d,[l.ElementRef,l.ViewContainerRef,l.Renderer2,h.a],{config:[0,"config"]},{onShown:"onShown"}),l["\u0275pod"](5,{backdrop:0}),(n()(),l["\u0275eld"](6,0,null,null,3,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](9,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component,l=n(e,5,0,"static");n(e,4,0,l),n(e,9,0,t.active)}),null)}var E=function(n){function e(e,t){var l=n.call(this,e)||this;return l._accountService=t,l}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){this.appSession.tenant&&(this.tenancyName=this.appSession.tenant.tenancyName,this.name=this.appSession.tenant.name)},Object.defineProperty(e.prototype,"isMultiTenancyEnabled",{get:function(){return abp.multiTenancy.isEnabled},enumerable:!0,configurable:!0}),e.prototype.showChangeModal=function(){this.tenantChangeModal.show(this.tenancyName)},e}(f.a),x=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function w(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[],[[8,"title",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""]))],null,(function(n,e){var t=e.component;n(e,0,0,l["\u0275inlineInterpolate"](1,"",t.name,"")),n(e,2,0,t.tenancyName)}))}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""])),l["\u0275ppd"](2,1)],null,(function(n,e){var t=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent.parent,0),"NotSelected"));n(e,1,0,t)}))}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,12,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" ",": "])),l["\u0275ppd"](2,1),(n()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](4,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](6,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275ted"](-1,null,[" ("])),(n()(),l["\u0275eld"](8,0,null,null,1,"a",[["href","javascript:;"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.showChangeModal()&&l),l}),null,null)),(n()(),l["\u0275ted"](9,null,["",""])),(n()(),l["\u0275ted"](-1,null,[") "])),(n()(),l["\u0275eld"](11,0,null,null,1,"tenantChangeModal",[],null,null,null,C,S)),l["\u0275did"](12,49152,[[1,4],["tenantChangeModal",4]],0,y,[m.b,l.Injector],null,null)],(function(n,e){var t=e.component;n(e,4,0,t.tenancyName),n(e,6,0,!t.tenancyName)}),(function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"CurrentTenant"));n(e,1,0,i),n(e,9,0,t.l("Change"))}))}function T(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),l["\u0275qud"](671088640,1,{tenantChangeModal:0}),(n()(),l["\u0275and"](16777216,null,null,1,null,_)),l["\u0275did"](3,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,3,0,e.component.isMultiTenancyEnabled)}),null)}var I=t("ZYCi"),R=t("LvDl"),N=function(n){function e(e){var t=n.call(this,e)||this;return t.languages=[],t}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){this.languages=R.filter(abp.localization.languages,(function(n){return!1===n.isDisabled})),this.currentLanguage=abp.localization.currentLanguage},e.prototype.changeLanguage=function(n){abp.utils.setCookieValue("Abp.Localization.CultureName",n.name,new Date((new Date).getTime()+15768e7),abp.appPath),location.reload()},e}(f.a),F=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function P(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"a",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.changeLanguage(n.context.$implicit)&&l),l}),null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"span",[],[[8,"title",0]],null,null,null,null)),l["\u0275did"](2,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](3,{"language-icon-current":0}),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[],[[8,"className",0],[1,"aria-label",0]],null,null,null,null))],(function(n,e){var t=n(e,3,0,e.context.$implicit.name==e.component.currentLanguage.name);n(e,2,0,t)}),(function(n,e){n(e,1,0,l["\u0275inlineInterpolate"](1,"",e.context.$implicit.displayName,"")),n(e,4,0,l["\u0275inlineInterpolate"](1,"",e.context.$implicit.icon,""),e.context.$implicit.displayName)}))}function O(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","language-switch-area"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,P)),l["\u0275did"](2,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,2,0,e.component.languages)}),null)}function D(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](1,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,1,0,e.component.languages.length>1)}),null)}var k=t("nS6G"),V=t("i3/Z"),L=t("wd/R"),H=t("w3U3"),B=t("zvtx"),U=t("wlJd"),M=t("ep+e"),q=t("Tr3h"),j=t("Q9gK"),K=t("t/Na"),G=t("K9Ia"),z=t("F/XL"),W=t("W0Ae"),$=t("XlPw"),J=t("VnD/"),Y=t("T1DM"),X=t("FFOo"),Q=t("60iU");function Z(n,e){void 0===e&&(e=Y.a);var t,l=(t=n)instanceof Date&&!isNaN(+t)?+n-e.now():Math.abs(n);return function(n){return n.lift(new nn(l,e))}}var nn=function(){function n(n,e){this.delay=n,this.scheduler=e}return n.prototype.call=function(n,e){return e.subscribe(new en(n,this.delay,this.scheduler))},n}(),en=function(n){function e(e,t,l){var i=n.call(this,e)||this;return i.delay=t,i.scheduler=l,i.queue=[],i.active=!1,i.errored=!1,i}return g.__extends(e,n),e.dispatch=function(n){for(var e=n.source,t=e.queue,l=n.scheduler,i=n.destination;t.length>0&&t[0].time-l.now()<=0;)t.shift().notification.observe(i);if(t.length>0){var r=Math.max(0,t[0].time-l.now());this.schedule(n,r)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(n){this.active=!0,this.destination.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(!0!==this.errored){var e=this.scheduler,t=new tn(e.now()+this.delay,n);this.queue.push(t),!1===this.active&&this._schedule(e)}},e.prototype._next=function(n){this.scheduleNotification(Q.a.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Q.a.createComplete()),this.unsubscribe()},e}(X.a),tn=function(){return function(n,e){this.time=n,this.notification=e}}(),ln=t("P6uZ"),rn=t("xMyE"),on=t("67Y/"),sn=t("9Z1F"),an=(t("gfpf"),function(){return function(){}}()),un=function(){return function(){}}(),cn=function(){return function(){}}(),dn=function(){function n(){}return n.prototype.getHashFragmentParams=function(n){var e=n||window.location.hash;if(0!==(e=decodeURIComponent(e)).indexOf("#"))return{};var t=e.indexOf("?");return e=e.substr(t>-1?t+1:1),this.parseQueryString(e)},n.prototype.parseQueryString=function(n){var e,t,l,i,r,o,s,a={};if(null===n)return a;e=n.split("&");for(var u=0;u<e.length;u++)-1===(l=(t=e[u]).indexOf("="))?(i=t,r=null):(i=t.substr(0,l),r=t.substr(l+1)),o=decodeURIComponent(i),s=decodeURIComponent(r),"/"===o.substr(0,1)&&(o=o.substr(1)),a[o]=s;return a},n}(),pn=function(){return function(n){this.type=n}}(),hn=function(n){function e(e,t){void 0===t&&(t=null);var l=n.call(this,e)||this;return l.info=t,l}return Object(g.__extends)(e,n),e}(pn),gn=function(n){function e(e,t){void 0===t&&(t=null);var l=n.call(this,e)||this;return l.info=t,l}return Object(g.__extends)(e,n),e}(pn),fn=function(n){function e(e,t,l){void 0===l&&(l=null);var i=n.call(this,e)||this;return i.reason=t,i.params=l,i}return Object(g.__extends)(e,n),e}(pn);function mn(n){var e=n.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(e).split("").map((function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)})).join(""))}var vn=function(){return function(n){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuthForPasswordFlow=!1,this.openUri=function(n){location.href=n},n&&Object.assign(this,n)}}(),yn=function(){function n(){}return n.prototype.encodeKey=function(n){return encodeURIComponent(n)},n.prototype.encodeValue=function(n){return encodeURIComponent(n)},n.prototype.decodeKey=function(n){return decodeURIComponent(n)},n.prototype.decodeValue=function(n){return decodeURIComponent(n)},n}(),Sn=function(n){function e(e,t,l,i,r,o,s){var a=n.call(this)||this;a.ngZone=e,a.http=t,a.config=r,a.urlHelper=o,a.logger=s,a.discoveryDocumentLoaded=!1,a.state="",a.eventsSubject=new G.a,a.discoveryDocumentLoadedSubject=new G.a,a.grantTypesSupported=[],a.inImplicitFlow=!1,a.discoveryDocumentLoaded$=a.discoveryDocumentLoadedSubject.asObservable(),a.events=a.eventsSubject.asObservable(),i&&(a.tokenValidationHandler=i),r&&a.configure(r);try{l?a.setStorage(l):"undefined"!=typeof sessionStorage&&a.setStorage(sessionStorage)}catch(u){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",u)}return a.setupRefreshTimer(),a}return Object(g.__extends)(e,n),e.prototype.configure=function(n){Object.assign(this,new vn,n),this.config=Object.assign({},new vn,n),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()},e.prototype.configChanged=function(){},e.prototype.restartSessionChecksIfStillLoggedIn=function(){this.hasValidIdToken()&&this.initSessionCheck()},e.prototype.restartRefreshTimerIfStillLoggedIn=function(){this.setupExpirationTimers()},e.prototype.setupSessionCheck=function(){var n=this;this.events.pipe(Object(J.a)((function(n){return"token_received"===n.type}))).subscribe((function(e){n.initSessionCheck()}))},e.prototype.setupAutomaticSilentRefresh=function(n){var e=this;void 0===n&&(n={}),this.events.pipe(Object(J.a)((function(n){return"token_expires"===n.type}))).subscribe((function(t){e.silentRefresh(n).catch((function(n){e.debug("Automatic silent refresh did not work")}))})),this.restartRefreshTimerIfStillLoggedIn()},e.prototype.loadDiscoveryDocumentAndTryLogin=function(n){var e=this;return void 0===n&&(n=null),this.loadDiscoveryDocument().then((function(t){return e.tryLogin(n)}))},e.prototype.loadDiscoveryDocumentAndLogin=function(n){var e=this;return void 0===n&&(n=null),this.loadDiscoveryDocumentAndTryLogin(n).then((function(n){return!(!e.hasValidIdToken()||!e.hasValidAccessToken())||(e.initImplicitFlow(),!1)}))},e.prototype.debug=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this.showDebugInformation&&this.logger.debug.apply(console,n)},e.prototype.validateUrlFromDiscoveryDocument=function(n){var e=[],t=this.validateUrlForHttps(n),l=this.validateUrlAgainstIssuer(n);return t||e.push("https for all urls required. Also for urls received by discovery."),l||e.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),e},e.prototype.validateUrlForHttps=function(n){if(!n)return!0;var e=n.toLowerCase();return!1===this.requireHttps||!(!e.match(/^http:\/\/localhost($|[:\/])/)&&!e.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps)||e.startsWith("https://")},e.prototype.validateUrlAgainstIssuer=function(n){return!this.strictDiscoveryDocumentValidation||!n||n.toLowerCase().startsWith(this.issuer.toLowerCase())},e.prototype.setupRefreshTimer=function(){var n=this;"undefined"!=typeof window?(this.hasValidIdToken()&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.events.pipe(Object(J.a)((function(n){return"token_received"===n.type}))).subscribe((function(e){n.clearAccessTokenTimer(),n.clearIdTokenTimer(),n.setupExpirationTimers()}))):this.debug("timer not supported on this plattform")},e.prototype.setupExpirationTimers=function(){var n=this.getIdTokenExpiration()||Number.MAX_VALUE,e=(this.getAccessTokenExpiration()||Number.MAX_VALUE)<=n;this.hasValidAccessToken()&&e&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&!e&&this.setupIdTokenTimer()},e.prototype.setupAccessTokenTimer=function(){var n=this,e=this.getAccessTokenExpiration(),t=this.getAccessTokenStoredAt(),l=this.calcTimeout(t,e);this.ngZone.runOutsideAngular((function(){n.accessTokenTimeoutSubscription=Object(z.a)(new gn("token_expires","access_token")).pipe(Z(l)).subscribe((function(e){n.ngZone.run((function(){n.eventsSubject.next(e)}))}))}))},e.prototype.setupIdTokenTimer=function(){var n=this,e=this.getIdTokenExpiration(),t=this.getIdTokenStoredAt(),l=this.calcTimeout(t,e);this.ngZone.runOutsideAngular((function(){n.idTokenTimeoutSubscription=Object(z.a)(new gn("token_expires","id_token")).pipe(Z(l)).subscribe((function(e){n.ngZone.run((function(){n.eventsSubject.next(e)}))}))}))},e.prototype.clearAccessTokenTimer=function(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()},e.prototype.clearIdTokenTimer=function(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()},e.prototype.calcTimeout=function(n,e){return(e-n)*this.timeoutFactor},e.prototype.setStorage=function(n){this._storage=n,this.configChanged()},e.prototype.loadDiscoveryDocument=function(n){var e=this;return void 0===n&&(n=null),new Promise((function(t,l){n||((n=e.issuer||"").endsWith("/")||(n+="/"),n+=".well-known/openid-configuration"),e.validateUrlForHttps(n)?e.http.get(n).subscribe((function(n){if(!e.validateDiscoveryDocument(n))return e.eventsSubject.next(new fn("discovery_document_validation_error",null)),void l("discovery_document_validation_error");e.loginUrl=n.authorization_endpoint,e.logoutUrl=n.end_session_endpoint||e.logoutUrl,e.grantTypesSupported=n.grant_types_supported,e.issuer=n.issuer,e.tokenEndpoint=n.token_endpoint,e.userinfoEndpoint=n.userinfo_endpoint,e.jwksUri=n.jwks_uri,e.sessionCheckIFrameUrl=n.check_session_iframe||e.sessionCheckIFrameUrl,e.discoveryDocumentLoaded=!0,e.discoveryDocumentLoadedSubject.next(n),e.sessionChecksEnabled&&e.restartSessionChecksIfStillLoggedIn(),e.loadJwks().then((function(l){var i=new hn("discovery_document_loaded",{discoveryDocument:n,jwks:l});e.eventsSubject.next(i),t(i)})).catch((function(n){e.eventsSubject.next(new fn("discovery_document_load_error",n)),l(n)}))}),(function(n){e.logger.error("error loading discovery document",n),e.eventsSubject.next(new fn("discovery_document_load_error",n)),l(n)})):l("issuer must use https, or config value for property requireHttps must allow http")}))},e.prototype.loadJwks=function(){var n=this;return new Promise((function(e,t){n.jwksUri?n.http.get(n.jwksUri).subscribe((function(t){n.jwks=t,n.eventsSubject.next(new hn("discovery_document_loaded")),e(t)}),(function(e){n.logger.error("error loading jwks",e),n.eventsSubject.next(new fn("jwks_load_error",e)),t(e)})):e(null)}))},e.prototype.validateDiscoveryDocument=function(n){var e;return this.skipIssuerCheck||n.issuer===this.issuer?(e=this.validateUrlFromDiscoveryDocument(n.authorization_endpoint)).length>0?(this.logger.error("error validating authorization_endpoint in discovery document",e),!1):(e=this.validateUrlFromDiscoveryDocument(n.end_session_endpoint)).length>0?(this.logger.error("error validating end_session_endpoint in discovery document",e),!1):((e=this.validateUrlFromDiscoveryDocument(n.token_endpoint)).length>0&&this.logger.error("error validating token_endpoint in discovery document",e),(e=this.validateUrlFromDiscoveryDocument(n.userinfo_endpoint)).length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",e),!1):(e=this.validateUrlFromDiscoveryDocument(n.jwks_uri)).length>0?(this.logger.error("error validating jwks_uri in discovery document",e),!1):(this.sessionChecksEnabled&&!n.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+n.issuer),!1)},e.prototype.fetchTokenUsingPasswordFlowAndLoadUserProfile=function(n,e,t){var l=this;return void 0===t&&(t=new K.HttpHeaders),this.fetchTokenUsingPasswordFlow(n,e,t).then((function(){return l.loadUserProfile()}))},e.prototype.loadUserProfile=function(){var n=this;if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use http, or config value for property requireHttps must allow http");return new Promise((function(e,t){var l=(new K.HttpHeaders).set("Authorization","Bearer "+n.getAccessToken());n.http.get(n.userinfoEndpoint,{headers:l}).subscribe((function(l){n.debug("userinfo received",l);var i=n.getIdentityClaims()||{};n.skipSubjectCheck||!n.oidc||i.sub&&l.sub===i.sub?(l=Object.assign({},i,l),n._storage.setItem("id_token_claims_obj",JSON.stringify(l)),n.eventsSubject.next(new hn("user_profile_loaded")),e(l)):t("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false")}),(function(e){n.logger.error("error loading user info",e),n.eventsSubject.next(new fn("user_profile_load_error",e)),t(e)}))}))},e.prototype.fetchTokenUsingPasswordFlow=function(n,e,t){var l=this;if(void 0===t&&(t=new K.HttpHeaders),!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use http, or config value for property requireHttps must allow http");return new Promise((function(i,r){var o,s,a=new K.HttpParams({encoder:new yn}).set("grant_type","password").set("scope",l.scope).set("username",n).set("password",e);if(l.useHttpBasicAuthForPasswordFlow){var u=btoa(l.clientId+":"+l.dummyClientSecret);t=t.set("Authorization","Basic "+u)}if(l.useHttpBasicAuthForPasswordFlow||(a=a.set("client_id",l.clientId)),!l.useHttpBasicAuthForPasswordFlow&&l.dummyClientSecret&&(a=a.set("client_secret",l.dummyClientSecret)),l.customQueryParams)try{for(var c=Object(g.__values)(Object.getOwnPropertyNames(l.customQueryParams)),d=c.next();!d.done;d=c.next()){var p=d.value;a=a.set(p,l.customQueryParams[p])}}catch(h){o={error:h}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}t=t.set("Content-Type","application/x-www-form-urlencoded"),l.http.post(l.tokenEndpoint,a,{headers:t}).subscribe((function(n){l.debug("tokenResponse",n),l.storeAccessTokenResponse(n.access_token,n.refresh_token,n.expires_in,n.scope),l.eventsSubject.next(new hn("token_received")),i(n)}),(function(n){l.logger.error("Error performing password flow",n),l.eventsSubject.next(new fn("token_error",n)),r(n)}))}))},e.prototype.refreshToken=function(){var n=this;if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use http, or config value for property requireHttps must allow http");return new Promise((function(e,t){var l,i,r=(new K.HttpParams).set("grant_type","refresh_token").set("client_id",n.clientId).set("scope",n.scope).set("refresh_token",n._storage.getItem("refresh_token"));if(n.dummyClientSecret&&(r=r.set("client_secret",n.dummyClientSecret)),n.customQueryParams)try{for(var o=Object(g.__values)(Object.getOwnPropertyNames(n.customQueryParams)),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.set(a,n.customQueryParams[a])}}catch(c){l={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(l)throw l.error}}var u=(new K.HttpHeaders).set("Content-Type","application/x-www-form-urlencoded");n.http.post(n.tokenEndpoint,r,{headers:u}).subscribe((function(t){n.debug("refresh tokenResponse",t),n.storeAccessTokenResponse(t.access_token,t.refresh_token,t.expires_in,t.scope),n.eventsSubject.next(new hn("token_received")),n.eventsSubject.next(new hn("token_refreshed")),e(t)}),(function(e){n.logger.error("Error performing password flow",e),n.eventsSubject.next(new fn("token_refresh_error",e)),t(e)}))}))},e.prototype.removeSilentRefreshEventListener=function(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)},e.prototype.setupSilentRefreshEventListener=function(){var n=this;this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=function(e){var t="#";if(n.silentRefreshMessagePrefix&&(t+=n.silentRefreshMessagePrefix),e&&e.data&&"string"==typeof e.data){var l=e.data;if(l.startsWith(t)){var i="#"+l.substr(t.length);n.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,onLoginError:function(e){n.eventsSubject.next(new fn("silent_refresh_error",e))},onTokenReceived:function(){n.eventsSubject.next(new hn("silently_refreshed"))}}).catch((function(e){return n.debug("tryLogin during silent refresh failed",e)}))}}},window.addEventListener("message",this.silentRefreshPostMessageEventListener)},e.prototype.silentRefresh=function(n,e){var t=this;void 0===n&&(n={}),void 0===e&&(e=!0);var l=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(n.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");if("undefined"==typeof document)throw new Error("silent refresh is not supported on this platform");var i=document.getElementById(this.silentRefreshIFrameName);i&&document.body.removeChild(i),this.silentRefreshSubject=l.sub;var r=document.createElement("iframe");r.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,e,n).then((function(n){r.setAttribute("src",n),t.silentRefreshShowIFrame||(r.style.display="none"),document.body.appendChild(r)}));var o=this.events.pipe(Object(J.a)((function(n){return n instanceof fn})),Object(ln.a)()),s=this.events.pipe(Object(J.a)((function(n){return"silently_refreshed"===n.type})),Object(ln.a)()),a=Object(z.a)(new fn("silent_refresh_timeout",null)).pipe(Z(this.silentRefreshTimeout));return Object(W.a)([o,s,a]).pipe(Object(rn.a)((function(n){"silent_refresh_timeout"===n.type&&t.eventsSubject.next(n)})),Object(on.a)((function(n){if(n instanceof fn)throw n;return n}))).toPromise()},e.prototype.canPerformSessionCheck=function(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?"undefined"!=typeof document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))},e.prototype.setupSessionCheckEventListener=function(){var n=this;this.removeSessionCheckEventListener(),this.sessionCheckEventListener=function(e){var t=e.origin.toLowerCase(),l=n.issuer.toLowerCase();switch(n.debug("sessionCheckEventListener"),l.startsWith(t)||n.debug("sessionCheckEventListener","wrong origin",t,"expected",l),e.data){case"unchanged":n.handleSessionUnchanged();break;case"changed":n.ngZone.run((function(){n.handleSessionChange()}));break;case"error":n.ngZone.run((function(){n.handleSessionError()}))}n.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular((function(){window.addEventListener("message",n.sessionCheckEventListener)}))},e.prototype.handleSessionUnchanged=function(){this.debug("session check","session unchanged")},e.prototype.handleSessionChange=function(){var n=this;this.eventsSubject.next(new gn("session_changed")),this.stopSessionCheckTimer(),this.silentRefreshRedirectUri?(this.silentRefresh().catch((function(e){return n.debug("silent refresh failed after session changed")})),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new gn("session_terminated")),this.logOut(!0))},e.prototype.waitForSilentRefreshAfterSessionChange=function(){var n=this;this.events.pipe(Object(J.a)((function(n){return"silently_refreshed"===n.type||"silent_refresh_timeout"===n.type||"silent_refresh_error"===n.type})),Object(ln.a)()).subscribe((function(e){"silently_refreshed"!==e.type&&(n.debug("silent refresh did not work after session changed"),n.eventsSubject.next(new gn("session_terminated")),n.logOut(!0))}))},e.prototype.handleSessionError=function(){this.stopSessionCheckTimer(),this.eventsSubject.next(new gn("session_error"))},e.prototype.removeSessionCheckEventListener=function(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)},e.prototype.initSessionCheck=function(){if(this.canPerformSessionCheck()){var n=document.getElementById(this.sessionCheckIFrameName);n&&document.body.removeChild(n);var e=document.createElement("iframe");e.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),e.setAttribute("src",this.sessionCheckIFrameUrl),e.style.display="none",document.body.appendChild(e),this.startSessionCheckTimer()}},e.prototype.startSessionCheckTimer=function(){var n=this;this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular((function(){n.sessionCheckTimer=setInterval(n.checkSession.bind(n),n.sessionCheckIntervall)}))},e.prototype.stopSessionCheckTimer=function(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)},e.prototype.checkSession=function(){var n=document.getElementById(this.sessionCheckIFrameName);n||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);var e=this.getSessionState();e||this.stopSessionCheckTimer(),n.contentWindow.postMessage(this.clientId+" "+e,this.issuer)},e.prototype.createLoginUrl=function(n,e,t,l,i){var r=this;void 0===n&&(n=""),void 0===e&&(e=""),void 0===t&&(t=""),void 0===l&&(l=!1),void 0===i&&(i={});var o,s=this;return o=t||this.redirectUri,this.createAndSaveNonce().then((function(t){var a,u,c,d;if(n=n?t+r.config.nonceStateSeparator+n:t,!r.requestAccessToken&&!r.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");r.responseType=r.config.responseType?r.config.responseType:r.oidc&&r.requestAccessToken?"id_token token":r.oidc&&!r.requestAccessToken?"id_token":"token";var p=s.loginUrl.indexOf("?")>-1?"&":"?",h=s.scope;r.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);var f=s.loginUrl+p+"response_type="+encodeURIComponent(s.responseType)+"&client_id="+encodeURIComponent(s.clientId)+"&state="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(o)+"&scope="+encodeURIComponent(h);e&&(f+="&login_hint="+encodeURIComponent(e)),s.resource&&(f+="&resource="+encodeURIComponent(s.resource)),s.oidc&&(f+="&nonce="+encodeURIComponent(t)),l&&(f+="&prompt=none");try{for(var m=Object(g.__values)(Object.keys(i)),v=m.next();!v.done;v=m.next()){var y=v.value;f+="&"+encodeURIComponent(y)+"="+encodeURIComponent(i[y])}}catch(C){a={error:C}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(a)throw a.error}}if(r.customQueryParams)try{for(var S=Object(g.__values)(Object.getOwnPropertyNames(r.customQueryParams)),b=S.next();!b.done;b=S.next())f+="&"+(y=b.value)+"="+encodeURIComponent(r.customQueryParams[y])}catch(E){c={error:E}}finally{try{b&&!b.done&&(d=S.return)&&d.call(S)}finally{if(c)throw c.error}}return f}))},e.prototype.initImplicitFlowInternal=function(n,e){var t=this;if(void 0===n&&(n=""),void 0===e&&(e=""),!this.inImplicitFlow){if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use http, or config value for property requireHttps must allow http");var l={},i=null;"string"==typeof e?i=e:"object"==typeof e&&(l=e),this.createLoginUrl(n,i,null,!1,l).then((function(n){location.href=n})).catch((function(n){console.error("Error in initImplicitFlow",n),t.inImplicitFlow=!1}))}},e.prototype.initImplicitFlow=function(n,e){var t=this;void 0===n&&(n=""),void 0===e&&(e=""),""!==this.loginUrl?this.initImplicitFlowInternal(n,e):this.events.pipe(Object(J.a)((function(n){return"discovery_document_loaded"===n.type}))).subscribe((function(l){return t.initImplicitFlowInternal(n,e)}))},e.prototype.callOnTokenReceivedIfExists=function(n){if(n.onTokenReceived){var e={idClaims:this.getIdentityClaims(),idToken:this.getIdToken(),accessToken:this.getAccessToken(),state:this.state};n.onTokenReceived(e)}},e.prototype.storeAccessTokenResponse=function(n,e,t,l){if(this._storage.setItem("access_token",n),l&&this._storage.setItem("granted_scopes",JSON.stringify(l.split("+"))),this._storage.setItem("access_token_stored_at",""+Date.now()),t){var i=1e3*t,r=(new Date).getTime()+i;this._storage.setItem("expires_at",""+r)}e&&this._storage.setItem("refresh_token",e)},e.prototype.tryLogin=function(n){var e,t=this;void 0===n&&(n=null),e=(n=n||{}).customHashFragment?this.urlHelper.getHashFragmentParams(n.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",e);var l=e.state,i=l;if(l){var r=l.indexOf(this.config.nonceStateSeparator);r>-1&&(i=l.substr(0,r),this.state=l.substr(r+this.config.nonceStateSeparator.length))}if(e.error){this.debug("error trying to login"),this.handleLoginError(n,e);var o=new fn("token_error",{},e);return this.eventsSubject.next(o),Promise.reject(o)}var s=e.access_token,a=e.id_token,u=e.session_state,c=e.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!s)return Promise.resolve(!1);if(this.requestAccessToken&&!n.disableOAuth2StateCheck&&!l)return Promise.resolve(!1);if(this.oidc&&!a)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!u&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableOAuth2StateCheck&&!this.validateNonceForAccessToken(s,i)){var d=new fn("invalid_nonce_in_state",null);return this.eventsSubject.next(d),Promise.reject(d)}return this.requestAccessToken&&this.storeAccessTokenResponse(s,null,e.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c),this.oidc?this.processIdToken(a,s).then((function(e){return n.validationHandler?n.validationHandler({accessToken:s,idClaims:e.idTokenClaims,idToken:e.idToken,state:l}).then((function(n){return e})):e})).then((function(e){return t.storeIdToken(e),t.storeSessionState(u),t.clearHashAfterLogin&&(location.hash=""),t.eventsSubject.next(new hn("token_received")),t.callOnTokenReceivedIfExists(n),t.inImplicitFlow=!1,!0})).catch((function(n){return t.eventsSubject.next(new fn("token_validation_error",n)),t.logger.error("Error validating tokens"),t.logger.error(n),Promise.reject(n)})):(this.eventsSubject.next(new hn("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&(location.hash=""),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))},e.prototype.validateNonceForAccessToken=function(n,e){var t=this._storage.getItem("nonce");return t===e||(console.error("Validating access_token failed, wrong state/nonce.",t,e),!1)},e.prototype.storeIdToken=function(n){this._storage.setItem("id_token",n.idToken),this._storage.setItem("id_token_claims_obj",n.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+n.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+Date.now())},e.prototype.storeSessionState=function(n){this._storage.setItem("session_state",n)},e.prototype.getSessionState=function(){return this._storage.getItem("session_state")},e.prototype.handleLoginError=function(n,e){n.onLoginError&&n.onLoginError(e),this.clearHashAfterLogin&&(location.hash="")},e.prototype.processIdToken=function(n,e){var t=this,l=n.split("."),i=mn(this.padBase64(l[0])),r=JSON.parse(i),o=mn(this.padBase64(l[1])),s=JSON.parse(o),a=this._storage.getItem("nonce");if(Array.isArray(s.aud)){if(s.aud.every((function(n){return n!==t.clientId}))){var u="Wrong audience: "+s.aud.join(",");return this.logger.warn(u),Promise.reject(u)}}else if(s.aud!==this.clientId)return this.logger.warn(u="Wrong audience: "+s.aud),Promise.reject(u);if(!s.sub)return this.logger.warn(u="No sub claim in id_token"),Promise.reject(u);if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==s.sub)return this.logger.warn(u="After refreshing, we got an id_token for another user (sub). Expected sub: "+this.silentRefreshSubject+", received sub: "+s.sub),Promise.reject(u);if(!s.iat)return this.logger.warn(u="No iat claim in id_token"),Promise.reject(u);if(s.iss!==this.issuer)return this.logger.warn(u="Wrong issuer: "+s.iss),Promise.reject(u);if(s.nonce!==a)return this.logger.warn(u="Wrong nonce: "+s.nonce),Promise.reject(u);if(!this.disableAtHashCheck&&this.requestAccessToken&&!s.at_hash)return this.logger.warn(u="An at_hash is needed!"),Promise.reject(u);var c=Date.now(),d=1e3*s.iat,p=1e3*s.exp;if(d-6e5>=c||p+6e5<=c)return u="Token has expired",console.error(u),console.error({now:c,issuedAtMSec:d,expiresAtMSec:p}),Promise.reject(u);var h={accessToken:e,idToken:n,jwks:this.jwks,idTokenClaims:s,idTokenHeader:r,loadKeys:function(){return t.loadJwks()}};return this.checkAtHash(h).then((function(e){if(!t.disableAtHashCheck&&t.requestAccessToken&&!e){var l="Wrong at_hash";return t.logger.warn(l),Promise.reject(l)}return t.checkSignature(h).then((function(e){return{idToken:n,idTokenClaims:s,idTokenClaimsJson:o,idTokenHeader:r,idTokenHeaderJson:i,idTokenExpiresAt:p}}))}))},e.prototype.getIdentityClaims=function(){var n=this._storage.getItem("id_token_claims_obj");return n?JSON.parse(n):null},e.prototype.getGrantedScopes=function(){var n=this._storage.getItem("granted_scopes");return n?JSON.parse(n):null},e.prototype.getIdToken=function(){return this._storage?this._storage.getItem("id_token"):null},e.prototype.padBase64=function(n){for(;n.length%4!=0;)n+="=";return n},e.prototype.getAccessToken=function(){return this._storage.getItem("access_token")},e.prototype.getRefreshToken=function(){return this._storage.getItem("refresh_token")},e.prototype.getAccessTokenExpiration=function(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null},e.prototype.getAccessTokenStoredAt=function(){return parseInt(this._storage.getItem("access_token_stored_at"),10)},e.prototype.getIdTokenStoredAt=function(){return parseInt(this._storage.getItem("id_token_stored_at"),10)},e.prototype.getIdTokenExpiration=function(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null},e.prototype.hasValidAccessToken=function(){if(this.getAccessToken()){var n=this._storage.getItem("expires_at"),e=new Date;return!(n&&parseInt(n,10)<e.getTime())}return!1},e.prototype.hasValidIdToken=function(){if(this.getIdToken()){var n=this._storage.getItem("id_token_expires_at"),e=new Date;return!(n&&parseInt(n,10)<e.getTime())}return!1},e.prototype.authorizationHeader=function(){return"Bearer "+this.getAccessToken()},e.prototype.logOut=function(n){void 0===n&&(n=!1);var e=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this._storage.removeItem("nonce"),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.silentRefreshSubject=null,this.eventsSubject.next(new gn("logout")),this.logoutUrl&&!n&&(e||this.postLogoutRedirectUri)){var t;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl must use http, or config value for property requireHttps must allow http");if(this.logoutUrl.indexOf("{{")>-1)t=this.logoutUrl.replace(/\{\{id_token\}\}/,e).replace(/\{\{client_id\}\}/,this.clientId);else{var l=new K.HttpParams;e&&(l=l.set("id_token_hint",e));var i=this.postLogoutRedirectUri||this.redirectUri;i&&(l=l.set("post_logout_redirect_uri",i)),t=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+l.toString()}location.href=t}},e.prototype.createAndSaveNonce=function(){var n=this;return this.createNonce().then((function(e){return n._storage.setItem("nonce",e),e}))},e.prototype.createNonce=function(){var n=this;return new Promise((function(e,t){if(n.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");for(var l="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<40;r++)l+=i.charAt(Math.floor(Math.random()*i.length));e(l)}))},e.prototype.checkAtHash=function(n){return Object(g.__awaiter)(this,void 0,void 0,(function(){return Object(g.__generator)(this,(function(e){return this.tokenValidationHandler?[2,this.tokenValidationHandler.validateAtHash(n)]:(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),[2,!0])}))}))},e.prototype.checkSignature=function(n){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))},e}(vn),bn=function(){return function(){}}(),Cn=function(){return function(){}}(),En=function(){function n(){}return n.prototype.handleError=function(n){return Object($.a)(n)},n}(),xn=function(){function n(n,e,t){this.authStorage=n,this.errorHandler=e,this.moduleConfig=t}return n.prototype.checkUrl=function(n){return!!this.moduleConfig.resourceServer.allowedUrls.find((function(e){return n.startsWith(e)}))},n.prototype.intercept=function(n,e){var t=this,l=n.url.toLowerCase();if(!this.moduleConfig)return e.handle(n);if(!this.moduleConfig.resourceServer)return e.handle(n);if(this.moduleConfig.resourceServer.allowedUrls&&!this.checkUrl(l))return e.handle(n);if(this.moduleConfig.resourceServer.sendAccessToken&&this.authStorage.getItem("access_token")){var i=this.authStorage.getItem("access_token"),r=n.headers.set("Authorization","Bearer "+i);n=n.clone({headers:r})}return e.handle(n).pipe(Object(sn.a)((function(n){return t.errorHandler.handleError(n)})))},n}(),wn=function(){function n(){}return n.prototype.validateSignature=function(n){return Promise.resolve(null)},n.prototype.validateAtHash=function(n){return Promise.resolve(!0)},n}();function An(){return console}function _n(){return"undefined"!=typeof sessionStorage?sessionStorage:null}var Tn=function(){function n(){}return n.forRoot=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=wn),{ngModule:n,providers:[Sn,dn,{provide:an,useFactory:An},{provide:un,useFactory:_n},{provide:cn,useClass:t},{provide:Cn,useClass:En},{provide:bn,useValue:e},{provide:K.HTTP_INTERCEPTORS,useClass:xn,multi:!0}]}},n}(),In=(new l.InjectionToken("AUTH_CONFIG"),t("5756")),Rn=function(n){function e(t){var l=n.call(this)||this;return l.initialized=!1,l.name=t.name,l.clientId=t.clientId,l.additionalParams=t.additionalParams,l.icon=e.getSocialIcon(l.name),l}return Object(g.__extends)(e,n),e.getSocialIcon=function(n){return"google"===(n=n.toLowerCase())&&(n="googleplus"),n},e.FACEBOOK="Facebook",e.GOOGLE="Google",e.MICROSOFT="Microsoft",e.OPENID="OpenIdConnect",e.WSFEDERATION="WsFederation",e}(m.vb),Nn=function(){function n(n,e,t,l,i,r,o){this._tokenAuthService=n,this._router=e,this._utilsService=t,this._messageService=l,this._tokenService=i,this._logService=r,this.oauthService=o,this.externalLoginProviders=[],this.clear()}return n.prototype.authenticate=function(e,t){var l=this;e=e||function(){abp.ui.clearBusy()},this.authenticateModel.twoFactorRememberClientToken=this._utilsService.getCookieValue(n.twoFactorRememberClientTokenName),this.authenticateModel.singleSignIn=q.a.getSingleSignIn(),this.authenticateModel.returnUrl=q.a.getReturnUrl(),this._tokenAuthService.authenticate(this.authenticateModel).pipe(Object(v.a)(e)).subscribe((function(n){l.processAuthenticateResult(n,t)}))},n.prototype.externalAuthenticate=function(n){var e=this;this.ensureExternalLoginProviderInitialized(n,(function(){n.name===Rn.FACEBOOK?FB.login((function(n){e.facebookLoginStatusChangeCallback(n)}),{scope:"email"}):n.name===Rn.GOOGLE?gapi.auth2.getAuthInstance().signIn().then((function(){e.googleLoginStatusChangeCallback(gapi.auth2.getAuthInstance().isSignedIn.get())})):n.name===Rn.MICROSOFT&&WL.login({scope:["wl.signin","wl.basic","wl.emails"]})}))},n.prototype.init=function(){this.initExternalLoginProviders()},n.prototype.processAuthenticateResult=function(n,e){this.authenticateResult=n,n.shouldResetPassword?(this._router.navigate(["account/reset-password"],{queryParams:{userId:n.userId,tenantId:abp.session.tenantId,resetCode:n.passwordResetCode}}),this.clear()):n.requiresTwoFactorVerification?this._router.navigate(["account/send-code"]):n.accessToken?(n.returnUrl&&!e&&(e=n.returnUrl),this.login(n.accessToken,n.encryptedAccessToken,n.expireInSeconds,this.rememberMe,n.twoFactorRememberClientToken,e)):(this._logService.warn("Unexpected authenticateResult!"),this._router.navigate(["account/login"]))},n.prototype.login=function(e,t,l,i,r,o){var s=i?new Date((new Date).getTime()+1e3*l):void 0;if(this._tokenService.setToken(e,s),this._utilsService.setCookieValue(k.a.authorization.encrptedAuthTokenName,t,s,abp.appPath),r&&this._utilsService.setCookieValue(n.twoFactorRememberClientTokenName,r,new Date((new Date).getTime()+31536e6),abp.appPath),o)location.href=o;else{var a=q.a.initialUrl;a.indexOf("/account")>0&&(a=k.a.appBaseUrl),location.href=a}},n.prototype.clear=function(){this.authenticateModel=new m.j,this.authenticateModel.rememberClient=!1,this.authenticateResult=null,this.rememberMe=!1},n.prototype.initExternalLoginProviders=function(n){var e=this;this._tokenAuthService.getExternalAuthenticationProviders().subscribe((function(t){e.externalLoginProviders=R.map(t,(function(n){return new Rn(n)})),n&&n()}))},n.prototype.ensureExternalLoginProviderInitialized=function(n,e){var t=this;if(n.initialized)e();else if(n.name===Rn.FACEBOOK)(new j.a).load("//connect.facebook.net/en_US/sdk.js").then((function(){FB.init({appId:n.clientId,cookie:!1,xfbml:!0,version:"v2.5"}),FB.getLoginStatus((function(n){t.facebookLoginStatusChangeCallback(n),"connected"!==n.status&&e()}))}));else if(n.name===Rn.GOOGLE)(new j.a).load("https://apis.google.com/js/api.js").then((function(){gapi.load("client:auth2",(function(){gapi.client.init({clientId:n.clientId,scope:"openid profile email"}).then((function(){e()}))}))}));else if(n.name===Rn.MICROSOFT)(new j.a).load("//js.live.net/v5.0/wl.js").then((function(){WL.Event.subscribe("auth.login",t.microsoftLogin),WL.init({client_id:n.clientId,scope:["wl.signin","wl.basic","wl.emails"],redirect_uri:k.a.appBaseUrl,response_type:"token"})}));else if(n.name===Rn.OPENID){var l=this.getOpenIdConnectConfig(n);this.oauthService.configure(l),this.oauthService.initImplicitFlow("openIdConnect=1")}else if(n.name===Rn.WSFEDERATION){var i=this.getWsFederationConnectConfig(n);this.wsFederationAuthenticationContext=new In(i),this.wsFederationAuthenticationContext.login()}},n.prototype.getWsFederationConnectConfig=function(n){var e={clientId:n.clientId,popUp:!0,callback:this.wsFederationLoginStatusChangeCallback.bind(this)};return n.additionalParams.Tenant&&(e.tenant=n.additionalParams.Tenant),e},n.prototype.getOpenIdConnectConfig=function(n){var e=new vn;return e.loginUrl=n.additionalParams.LoginUrl,e.issuer=n.additionalParams.Authority,e.skipIssuerCheck="false"===n.additionalParams.ValidateIssuer,e.clientId=n.clientId,e.responseType="id_token",e.redirectUri=window.location.origin+"/account/login",e.scope="openid",e.requestAccessToken=!1,e},n.prototype.facebookLoginStatusChangeCallback=function(n){var e=this;if("connected"===n.status){var t=new m.ub;t.authProvider=Rn.FACEBOOK,t.providerAccessCode=n.authResponse.accessToken,t.providerKey=n.authResponse.userID,t.singleSignIn=q.a.getSingleSignIn(),t.returnUrl=q.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(t).subscribe((function(n){n.waitingForActivation?e._messageService.info("You have successfully registered. Waiting for activation!"):e.login(n.accessToken,n.encryptedAccessToken,n.expireInSeconds,!1,"",n.returnUrl)}))}},n.prototype.openIdConnectLoginCallback=function(n){var e=this;this.initExternalLoginProviders((function(){var n=R.filter(e.externalLoginProviders,{name:"OpenIdConnect"})[0],t=e.getOpenIdConnectConfig(n);e.oauthService.configure(t),abp.ui.setBusy(),e.oauthService.tryLogin().then((function(){var n=e.oauthService.getIdentityClaims(),t=new m.ub;t.authProvider=Rn.OPENID,t.providerAccessCode=e.oauthService.getIdToken(),t.providerKey=n.sub,t.singleSignIn=q.a.getSingleSignIn(),t.returnUrl=q.a.getReturnUrl(),e._tokenAuthService.externalAuthenticate(t).pipe(Object(v.a)((function(){abp.ui.unblock()}))).subscribe((function(n){n.waitingForActivation?e._messageService.info("You have successfully registered. Waiting for activation!"):e.login(n.accessToken,n.encryptedAccessToken,n.expireInSeconds,!1,"",n.returnUrl)}))}))}))},n.prototype.googleLoginStatusChangeCallback=function(n){var e=this;if(n){var t=new m.ub;t.authProvider=Rn.GOOGLE,t.providerAccessCode=gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token,t.providerKey=gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getId(),t.singleSignIn=q.a.getSingleSignIn(),t.returnUrl=q.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(t).subscribe((function(n){n.waitingForActivation?e._messageService.info("You have successfully registered. Waiting for activation!"):e.login(n.accessToken,n.encryptedAccessToken,n.expireInSeconds,!1,"",n.returnUrl)}))}},n.prototype.wsFederationLoginStatusChangeCallback=function(n,e,t,l){var i=this,r=this.wsFederationAuthenticationContext.getCachedUser(),o=new m.ub;o.authProvider=Rn.WSFEDERATION,o.providerAccessCode=e,o.providerKey=r.profile.sub,o.singleSignIn=q.a.getSingleSignIn(),o.returnUrl=q.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(o).subscribe((function(n){if(n.waitingForActivation)return i._messageService.info("You have successfully registered. Waiting for activation!"),void i._router.navigate(["account/login"]);i.login(n.accessToken,n.encryptedAccessToken,n.expireInSeconds,!1,"",n.returnUrl)}))},n.prototype.microsoftLogin=function(){var n=this;this._logService.debug(WL.getSession());var e=new m.ub;e.authProvider=Rn.MICROSOFT,e.providerAccessCode=WL.getSession().access_token,e.providerKey=WL.getSession().id,e.singleSignIn=q.a.getSingleSignIn(),e.returnUrl=q.a.getReturnUrl(),this._tokenAuthService.externalAuthenticate(e).subscribe((function(e){e.waitingForActivation?n._messageService.info("You have successfully registered. Waiting for activation!"):n.login(e.accessToken,e.encryptedAccessToken,e.expireInSeconds,!1,"",e.returnUrl)}))},n.twoFactorRememberClientTokenName="TwoFactorRememberClientToken",n}(),Fn=function(n){function e(e,t,l,i,r){var o=n.call(this,e)||this;return o._router=t,o._loginService=l,o._uiCustomizationService=i,o.currentYear=L().year(),o.remoteServiceBaseUrl=k.a.remoteServiceBaseUrl,o.tenantChangeDisabledRoutes=["select-edition","buy","upgrade","extend","register-tenant","stripe-purchase","stripe-subscribe","stripe-update-subscription","paypal-purchase","enrollment"],o.viewContainerRef=r,o}return Object(g.__extends)(e,n),e.prototype.showTenantChange=function(){var n=this;return!!this._router.url&&!R.filter(this.tenantChangeDisabledRoutes,(function(e){return n._router.url.indexOf("/account/"+e)>=0})).length&&abp.multiTenancy.isEnabled&&!this.supportsTenancyNameInUrl()},e.prototype.useFullWidthLayout=function(){return this._router.url.indexOf("/account/select-edition")>=0||this._router.url.indexOf("/account/enrollment")>=0},e.prototype.ngOnInit=function(){this._loginService.init(),document.body.className=this._uiCustomizationService.getAccountModuleBodyClass()},e.prototype.goToHome=function(){window.location.href="/"},e.prototype.getBgUrl=function(){return"url(./assets/metronic/assets/demo/"+this.currentTheme.baseSettings.layout.themeColor+"/media/img/bg/bg-4.jpg)"},e.prototype.supportsTenancyNameInUrl=function(){return k.a.appBaseUrlFormat&&k.a.appBaseUrlFormat.indexOf(k.a.tenancyNamePlaceHolderInUrl)>=0},e}(f.a),Pn=l["\u0275crt"]({encapsulation:2,styles:[[".login{background-color:#364150!important}.login .logo{margin:60px auto 0;padding:15px;text-align:center}.login .content{background-color:#eceef1;border-radius:7px;width:400px;margin:40px auto 10px;padding:10px 30px 30px;overflow:hidden;position:relative}.login .content h3{color:#4db3a5;text-align:center;font-size:28px;font-weight:400!important}.login .content h4{color:#555}.login .content .hint{color:#999;padding:0;margin:15px 0 7px}.login .content .forget-form,.login .content .login-form{padding:0;margin:0}.login .content .form-control{border:1px solid #dde3ec;background-color:#dde3ec;height:43px;color:#8290a3}.login .content .form-control:active,.login .content .form-control:focus{border:1px solid #c3ccda}.login .content .form-control::-moz-placeholder{color:#8290a3;opacity:1}.login .content .form-control:-ms-input-placeholder{color:#8290a3}.login .content .form-control::-webkit-input-placeholder{color:#8290a3}.login .content select.form-control{padding-left:9px;padding-right:9px}.login .content .form-title{font-weight:300;margin-bottom:25px}.login .content .form-actions{clear:both;border:0;border-bottom:1px solid #eee;padding:0 30px 25px;margin-left:-30px;margin-right:-30px}.login-options{margin-bottom:30px;overflow:hidden}.login-options h4{float:left;font-weight:600;font-size:15px;color:#7d91aa!important}.login-options .social-icons{float:right;padding-top:3px}.social-icons{padding:0;margin:0}.social-icons li{float:left;display:inline;list-style:none;margin-right:5px;margin-bottom:5px;text-indent:-9999px}.social-icons li>a{cursor:pointer;border-radius:2px;width:28px;height:28px;display:block;background-position:0 0;background-repeat:no-repeat;transition:all .3s ease-in-out;-o-transition:.3s ease-in-out;-ms-transition:all .3s ease-in-out;-moz-transition:.3s ease-in-out;-webkit-transition:.3s ease-in-out}.social-icons li:hover>a{background-position:0 -38px}.social-icons li .twitter{background:url(/Drima-Angular-Client/assets/common/images/social/twitter.png) no-repeat}.social-icons li .facebook{background:url(/Drima-Angular-Client/assets/common/images/social/facebook.png) no-repeat}.social-icons li .googleplus{background:url(/Drima-Angular-Client/assets/common/images/social/google.png) no-repeat}.social-icons li .microsoft{background:url(/Drima-Angular-Client/assets/common/images/social/microsoft.png) no-repeat}.social-icons li .openidconnect{background:url(/Drima-Angular-Client/assets/common/images/social/open-id-connect.png) no-repeat}.social-icons li .wsfederation{background:url(/Drima-Angular-Client/assets/common/images/social/ws-federation.png) no-repeat}.login-options .social-icons li a{border-radius:15px!important;-moz-border-radius:15px!important;-webkit-border-radius:15px 15px 15px 15px!important}.login .content .form-actions .checkbox{margin-left:0;padding-left:0}.login .content .forget-form .form-actions{border:0;margin-bottom:0;padding-bottom:20px}.login .content .register-form .form-actions{border:0;margin-bottom:0;padding-bottom:0}.login .content .form-actions .btn{margin-top:1px}.login .content .form-actions .btn-success{font-weight:600;padding:10px 20px!important}.login .content .form-actions .btn-default{font-weight:600;padding:10px 25px!important;color:#6c7a8d;background-color:#fff;border:none}.login .content .form-actions .btn-default:hover{background-color:#fafaff;color:#45b6af}.login .content .forget-password{font-size:14px;float:right;display:inline-block;margin-top:10px}.login .content .check{color:#8290a3}.login .content .rememberme{margin-left:8px;margin-top:10px}.login .content .create-account{margin:0 -40px -40px;padding:15px 0 17px;text-align:center;background-color:#6c7a8d;border-radius:0 0 7px 7px}.login .content .create-account p a{font-weight:600;font-size:14px;color:#c3cedd}.login .content .create-account .pipe-divider{color:#c3cedd}.login .content .create-account a{display:inline-block;margin-top:5px}.login .content .alert{margin-bottom:10px}.login .content .alert:last-child{margin-bottom:0}.login .copyright{text-align:center;margin:0 auto 30px 0;padding:10px;color:#7a8ca5;font-size:13px}.language-switch-area{text-align:center;padding:10px}.language-switch-area a{cursor:pointer;margin-right:5px}.language-switch-area a span{-ms-opacity:.5;opacity:.5}.language-switch-area a span.language-icon-current{-ms-opacity:1;opacity:1}@media (max-width:440px){.login .logo{margin-top:10px}.login .content{width:280px;margin-top:10px}.login .content h3{font-size:22px}.forget-password{display:inline-block;margin-top:20px}.login-options .social-icons{float:left;padding-top:3px}.login .checkbox{font-size:13px}}.content.account-forms{margin-top:10px}.content.tenant-change-box{padding:16px;text-align:center}"]],data:{}});function On(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"img",[["alt","logo"],["height","38"]],[[8,"src",4]],null,null,null,null))],null,(function(n,e){n(e,0,0,e.component.appRootUrl()+"assets/common/images/logo.svg")}))}function Dn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"img",[["alt","logo"],["height","38"]],[[8,"src",4]],null,null,null,null))],null,(function(n,e){var t=e.component;n(e,0,0,t.remoteServiceBaseUrl+"/TenantCustomization/GetTenantLogo?skin=light&tenantId="+t.appSession.tenant.id+"&id="+t.appSession.tenant.logoId)}))}function kn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","content tenant-change-box"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"tenant-change",[],null,null,null,T,x)),l["\u0275did"](2,114688,null,0,E,[l.Injector,m.b],null,null)],(function(n,e){n(e,2,0)}),null)}function Vn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","m-grid__item m-grid__item--fluid m-grid m-grid--center m-grid--hor m-grid__item--order-tablet-and-mobile-1 m-login__content m-grid-item--center"]],[[4,"background-image",null]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"div",[["class","m-grid__item m-grid__item--middle"]],null,null,null,null,null))],null,(function(n,e){n(e,0,0,e.component.getBgUrl())}))}function Ln(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,30,"div",[],[[4,"text-align",null]],null,null,null,null)),l["\u0275did"](1,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](2,{"m-grid m-grid--hor m-grid--root m-page":0,"m-content":1}),(n()(),l["\u0275eld"](3,0,null,null,27,"div",[["id","m_login"]],null,null,null,null,null)),l["\u0275did"](4,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](5,{"m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-grid--tablet-and-mobile m-grid--hor-tablet-and-mobile m-login m-login--1 m-login--singin":0,row:1}),(n()(),l["\u0275eld"](6,0,null,null,22,"div",[],null,null,null,null,null)),l["\u0275did"](7,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](8,{"m-grid__item m-grid__item--order-tablet-and-mobile-2 m-login__aside":0,"col-md-12":1}),(n()(),l["\u0275eld"](9,0,null,null,19,"div",[],null,null,null,null,null)),l["\u0275did"](10,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](11,{"m-stack m-stack--hor m-stack--desktop":0}),(n()(),l["\u0275eld"](12,0,null,null,16,"div",[],null,null,null,null,null)),l["\u0275did"](13,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](14,{"m-stack__item m-stack__item--fluid":0}),(n()(),l["\u0275eld"](15,0,null,null,10,"div",[["class","m-login__wrapper"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,5,"div",[["class","m-login__logo"]],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,4,"a",[],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.goToHome()&&l),l}),null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,On)),l["\u0275did"](19,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Dn)),l["\u0275did"](21,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,kn)),l["\u0275did"](23,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](24,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](25,212992,null,0,I.RouterOutlet,[I.ChildrenOutletContexts,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null),(n()(),l["\u0275eld"](26,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](27,0,null,null,1,"language-switch",[],null,null,null,D,F)),l["\u0275did"](28,114688,null,0,N,[l.Injector],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,Vn)),l["\u0275did"](30,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component,l=n(e,2,0,!t.useFullWidthLayout(),t.useFullWidthLayout());n(e,1,0,l);var i=n(e,5,0,!t.useFullWidthLayout(),t.useFullWidthLayout());n(e,4,0,i);var r=n(e,8,0,!t.useFullWidthLayout(),t.useFullWidthLayout());n(e,7,0,r);var o=n(e,11,0,!t.useFullWidthLayout());n(e,10,0,o);var s=n(e,14,0,!t.useFullWidthLayout());n(e,13,0,s),n(e,19,0,!t.appSession.tenant||!t.appSession.tenant.logoId),n(e,21,0,t.appSession.tenant&&t.appSession.tenant.logoId),n(e,23,0,t.showTenantChange()),n(e,25,0),n(e,28,0),n(e,30,0,!t.useFullWidthLayout())}),(function(n,e){n(e,0,0,e.component.useFullWidthLayout()?"center":"left")}))}function Hn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,16777216,null,null,1,"ng-component",[],null,null,null,Ln,Pn)),l["\u0275did"](1,114688,null,0,Fn,[l.Injector,I.Router,Nn,V.a,l.ViewContainerRef],null,null)],(function(n,e){n(e,1,0)}),null)}var Bn=l["\u0275ccf"]("ng-component",Fn,Hn,{},{},[]),Un=t("+Muo"),Mn=t("kgQi"),qn=t("ooh5"),jn=t("xDbU"),Kn=function(n){function e(e,t,l,i,r){var o=n.call(this,e)||this;return o.loginService=t,o._router=l,o._sessionService=i,o._sessionAppService=r,o.submitting=!1,o.isMultiTenancyEnabled=o.multiTenancy.isEnabled,o}return Object(g.__extends)(e,n),Object.defineProperty(e.prototype,"multiTenancySideIsTeanant",{get:function(){return this._sessionService.tenantId>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTenantSelfRegistrationAllowed",{get:function(){return this.setting.getBoolean("App.TenantManagement.AllowSelfRegistration")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelfRegistrationAllowed",{get:function(){return!!this._sessionService.tenantId&&this.setting.getBoolean("App.UserManagement.AllowSelfRegistration")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._sessionService.userId>0&&q.a.getReturnUrl()&&q.a.getSingleSignIn()&&this._sessionAppService.updateUserSignInToken().subscribe((function(n){var e=q.a.getReturnUrl(),t=e+(e.indexOf("?")>=0?"&":"?")+"accessToken="+n.signInToken+"&userId="+n.encodedUserId+"&tenantId="+n.encodedTenantId;location.href=t}));var n=q.a.getQueryParametersUsingHash().state;n&&n.indexOf("openIdConnect")>=0&&this.loginService.openIdConnectLoginCallback({})},e.prototype.login=function(){var n=this;abp.ui.setBusy(void 0,"",1),this.submitting=!0,this.loginService.authenticate((function(){n.submitting=!1,abp.ui.clearBusy()}))},e.prototype.externalLogin=function(n){this.loginService.externalAuthenticate(n)},e}(f.a),Gn=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function zn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](1,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null)],(function(n,e){n(e,1,0,l["\u0275nov"](e.parent,17))}),null)}function Wn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](1,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null)],(function(n,e){n(e,1,0,l["\u0275nov"](e.parent,31))}),null)}function $n(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"a",[],[[8,"className",0],[8,"title",0]],[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.externalLogin(n.context.$implicit)&&l),l}),null,null))],null,(function(n,e){n(e,1,0,l["\u0275inlineInterpolate"](1,"social-login-icon social-icon-color ",e.context.$implicit.icon,""),l["\u0275inlineInterpolate"](1,"",e.context.$implicit.name,""))}))}function Jn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","login-options"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"h4",[],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1),(n()(),l["\u0275eld"](4,0,null,null,2,"ul",[["class","social-icons"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,$n)),l["\u0275did"](6,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,6,0,e.component.loginService.externalLoginProviders)}),(function(n,e){var t=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"LoginWith"));n(e,2,0,t)}))}function Yn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"a",[["class","m-link m-link--primary m-login__account-link"],["id","register-btn"],["routerLink","/account/register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),l["\u0275did"](2,671744,null,0,I.RouterLinkWithHref,[I.Router,I.ActivatedRoute,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](3,null,["",""])),l["\u0275ppd"](4,1),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","pipe-divider"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" | "]))],(function(n,e){n(e,2,0,"/account/register")}),(function(n,e){n(e,1,0,l["\u0275nov"](e,2).target,l["\u0275nov"](e,2).href);var t=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e.parent,0),"CreateAnAccount"));n(e,3,0,t)}))}function Xn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"a",[["class","m-link m-link--primary m-login__account-link"],["id","register-btn"],["routerLink","/account/select-edition"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),l["\u0275did"](2,671744,null,0,I.RouterLinkWithHref,[I.Router,I.ActivatedRoute,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](3,null,["",""])),l["\u0275ppd"](4,1),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","pipe-divider"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" | "]))],(function(n,e){n(e,2,0,"/account/select-edition")}),(function(n,e){n(e,1,0,l["\u0275nov"](e,2).target,l["\u0275nov"](e,2).href);var t=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e.parent,0),"NewTenant"));n(e,3,0,t)}))}function Qn(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,68,"div",[["class","m-login__signin"]],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275ppd"](5,1),(n()(),l["\u0275eld"](6,0,null,null,51,"form",[["class","m-login__form m-form login-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,8).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,8).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.login()&&i),i}),null,null)),l["\u0275did"](7,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](8,4210688,[["loginForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](10,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](11,0,null,null,12,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,9,"input",[["autoFocus",""],["autocomplete","off"],["class","form-control m-input"],["name","userNameOrEmailAddress"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,13)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,13).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,13)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,13)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.loginService.authenticateModel.userNameOrEmailAddress=t)&&i),i}),null,null)),l["\u0275did"](13,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](14,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](17,671744,[["userNameOrEmailAddressInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](19,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](20,4210688,null,0,qn.a,[l.ElementRef],null,null),l["\u0275ppd"](21,1),(n()(),l["\u0275and"](16777216,null,null,1,null,zn)),l["\u0275did"](23,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](24,0,null,null,12,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,9,"input",[["autocomplete","off"],["class","form-control m-input"],["maxlength","32"],["name","password"],["required",""],["type","password"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,26)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,26)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.loginService.authenticateModel.password=t)&&i),i}),null,null)),l["\u0275did"](26,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](27,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](28,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](31,671744,[["passwordInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](33,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](34,1),(n()(),l["\u0275and"](16777216,null,null,1,null,Wn)),l["\u0275did"](36,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](37,0,null,null,16,"div",[["class","row m-login__form-sub"]],null,null,null,null,null)),(n()(),l["\u0275eld"](38,0,null,null,10,"div",[["class","col m--align-left"]],null,null,null,null,null)),(n()(),l["\u0275eld"](39,0,null,null,9,"label",[["class","m-checkbox m-checkbox--primary"]],null,null,null,null,null)),(n()(),l["\u0275eld"](40,0,null,null,5,"input",[["class","form-control"],["name","rememberMe"],["type","checkbox"],["value","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,41).onChange(t.target.checked)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,41).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.loginService.rememberMe=t)&&i),i}),null,null)),l["\u0275did"](41,16384,null,0,a.CheckboxControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.CheckboxControlValueAccessor]),l["\u0275did"](43,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](45,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275ted"](46,null,[""," "])),l["\u0275ppd"](47,1),(n()(),l["\u0275eld"](48,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](49,0,null,null,4,"div",[["class","col m--align-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](50,0,null,null,3,"a",[["class","m-link forget-password"],["id","forget-password"],["routerLink","/account/forgot-password"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,51).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),l["\u0275did"](51,671744,null,0,I.RouterLinkWithHref,[I.Router,I.ActivatedRoute,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](52,null,["",""])),l["\u0275ppd"](53,1),(n()(),l["\u0275eld"](54,0,null,null,3,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](55,0,null,null,2,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),l["\u0275ted"](56,null,["",""])),l["\u0275ppd"](57,1),(n()(),l["\u0275and"](16777216,null,null,1,null,Jn)),l["\u0275did"](59,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](60,0,null,null,9,"div",[["class","m-stack__item m-stack__item--center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](61,0,null,null,8,"div",[["class","m-login__account"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Yn)),l["\u0275did"](63,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Xn)),l["\u0275did"](65,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](66,0,null,null,3,"a",[["class","m-link m-link--primary m-login__account-link"],["id","email-activation-btn"],["routerLink","/account/email-activation"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,67).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),l["\u0275did"](67,671744,null,0,I.RouterLinkWithHref,[I.Router,I.ActivatedRoute,s.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275ted"](68,null,["",""])),l["\u0275ppd"](69,1)],(function(n,e){var t=e.component;n(e,14,0,""),n(e,17,0,"userNameOrEmailAddress",t.loginService.authenticateModel.userNameOrEmailAddress),n(e,23,0,!l["\u0275nov"](e,17).touched),n(e,27,0,""),n(e,28,0,"32"),n(e,31,0,"password",t.loginService.authenticateModel.password),n(e,36,0,!l["\u0275nov"](e,31).touched),n(e,43,0,"rememberMe",t.loginService.rememberMe),n(e,51,0,"/account/forgot-password"),n(e,59,0,(t.multiTenancySideIsTeanant||!t.isMultiTenancyEnabled)&&t.loginService.externalLoginProviders.length>0),n(e,63,0,t.isSelfRegistrationAllowed),n(e,65,0,!t.multiTenancySideIsTeanant&&t.isTenantSelfRegistrationAllowed),n(e,67,0,"/account/email-activation")}),(function(n,e){n(e,1,0,void 0);var t=l["\u0275unv"](e,4,0,n(e,5,0,l["\u0275nov"](e,0),"LogIn"));n(e,4,0,t),n(e,6,0,l["\u0275nov"](e,10).ngClassUntouched,l["\u0275nov"](e,10).ngClassTouched,l["\u0275nov"](e,10).ngClassPristine,l["\u0275nov"](e,10).ngClassDirty,l["\u0275nov"](e,10).ngClassValid,l["\u0275nov"](e,10).ngClassInvalid,l["\u0275nov"](e,10).ngClassPending);var i=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,12,0,n(e,21,0,l["\u0275nov"](e,0),"UserNameOrEmail"))," *");n(e,12,0,i,l["\u0275nov"](e,14).required?"":null,l["\u0275nov"](e,19).ngClassUntouched,l["\u0275nov"](e,19).ngClassTouched,l["\u0275nov"](e,19).ngClassPristine,l["\u0275nov"](e,19).ngClassDirty,l["\u0275nov"](e,19).ngClassValid,l["\u0275nov"](e,19).ngClassInvalid,l["\u0275nov"](e,19).ngClassPending);var r=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,25,0,n(e,34,0,l["\u0275nov"](e,0),"Password"))," *");n(e,25,0,r,l["\u0275nov"](e,27).required?"":null,l["\u0275nov"](e,28).maxlength?l["\u0275nov"](e,28).maxlength:null,l["\u0275nov"](e,33).ngClassUntouched,l["\u0275nov"](e,33).ngClassTouched,l["\u0275nov"](e,33).ngClassPristine,l["\u0275nov"](e,33).ngClassDirty,l["\u0275nov"](e,33).ngClassValid,l["\u0275nov"](e,33).ngClassInvalid,l["\u0275nov"](e,33).ngClassPending),n(e,40,0,l["\u0275nov"](e,45).ngClassUntouched,l["\u0275nov"](e,45).ngClassTouched,l["\u0275nov"](e,45).ngClassPristine,l["\u0275nov"](e,45).ngClassDirty,l["\u0275nov"](e,45).ngClassValid,l["\u0275nov"](e,45).ngClassInvalid,l["\u0275nov"](e,45).ngClassPending);var o=l["\u0275unv"](e,46,0,n(e,47,0,l["\u0275nov"](e,0),"RememberMe"));n(e,46,0,o),n(e,50,0,l["\u0275nov"](e,51).target,l["\u0275nov"](e,51).href);var s=l["\u0275unv"](e,52,0,n(e,53,0,l["\u0275nov"](e,0),"ForgotPassword"));n(e,52,0,s),n(e,55,0,!l["\u0275nov"](e,8).form.valid);var a=l["\u0275unv"](e,56,0,n(e,57,0,l["\u0275nov"](e,0),"LogIn"));n(e,56,0,a),n(e,66,0,l["\u0275nov"](e,67).target,l["\u0275nov"](e,67).href);var u=l["\u0275unv"](e,68,0,n(e,69,0,l["\u0275nov"](e,0),"EmailActivation"));n(e,68,0,u)}))}function Zn(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Qn,Gn)),l["\u0275did"](1,114688,null,0,Kn,[l.Injector,Nn,I.Router,jn.a,m.md],null,null)],(function(n,e){n(e,1,0)}),null)}var ne=l["\u0275ccf"]("ng-component",Kn,Zn,{},{},[]),ee=t("15PL"),te=t("p4DR"),le=t("wrqk"),ie=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function re(n){return l["\u0275vid"](0,[],null,null)}var oe=t("gGBz"),se=t("KIW0"),ae=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(g.__extends)(e,n),e}(m.Vc),ue=(t("9cOK"),function(n){function e(e,t,l,i,r){var o=n.call(this,e)||this;return o._accountService=t,o._router=l,o._loginService=i,o._profileService=r,o.model=new ae,o.passwordComplexitySetting=new m.Cc,o.recaptchaSiteKey=k.a.recaptchaSiteKey,o.saving=!1,o}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;null!=this.appSession.tenant?this._profileService.getPasswordComplexitySetting().subscribe((function(e){n.passwordComplexitySetting=e.setting})):this._router.navigate(["account/login"])},Object.defineProperty(e.prototype,"useCaptcha",{get:function(){return this.setting.getBoolean("App.UserManagement.UseCaptchaOnRegistration")},enumerable:!0,configurable:!0}),e.prototype.save=function(){var n=this;!this.useCaptcha||this.model.captchaResponse?(this.saving=!0,this._accountService.register(this.model).pipe(Object(v.a)((function(){n.saving=!1}))).pipe(Object(sn.a)((function(e,t){n.recaptchaRef.reset()}))).subscribe((function(e){if(!e.canLogin)return n.notify.success(n.l("SuccessfullyRegistered")),void n._router.navigate(["account/login"]);n.saving=!0,n._loginService.authenticateModel.userNameOrEmailAddress=n.model.userName,n._loginService.authenticateModel.password=n.model.password,n._loginService.authenticate((function(){n.saving=!1}))}))):this.message.warn(this.l("CaptchaCanNotBeEmpty"))},e.prototype.captchaResolved=function(n){this.model.captchaResponse=n},e}(f.a)),ce=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function de(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"ul",[["class","help-block text-danger"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1),(n()(),l["\u0275eld"](4,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),l["\u0275ppd"](12,1),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),l["\u0275ppd"](15,2)],null,(function(n,e){var t=e.component;n(e,1,0,!l["\u0275nov"](e.parent,75).errors.requireDigit);var i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireDigit_Hint"));n(e,2,0,i),n(e,4,0,!l["\u0275nov"](e.parent,75).errors.requireLowercase);var r=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireLowercase_Hint"));n(e,5,0,r),n(e,7,0,!l["\u0275nov"](e.parent,75).errors.requireUppercase);var o=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireUppercase_Hint"));n(e,8,0,o),n(e,10,0,!l["\u0275nov"](e.parent,75).errors.requireNonAlphanumeric);var s=l["\u0275unv"](e,11,0,n(e,12,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireNonAlphanumeric_Hint"));n(e,11,0,s),n(e,13,0,!l["\u0275nov"](e.parent,75).errors.requiredLength);var a=l["\u0275unv"](e,14,0,n(e,15,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequiredLength_Hint",t.passwordComplexitySetting.requiredLength));n(e,14,0,a)}))}function pe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,18,"ul",[["class","help-block text-danger"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1),(n()(),l["\u0275eld"](4,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),l["\u0275ppd"](12,1),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),l["\u0275ppd"](15,2),(n()(),l["\u0275eld"](16,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](17,null,["",""])),l["\u0275ppd"](18,1)],null,(function(n,e){var t=e.component;n(e,1,0,!l["\u0275nov"](e.parent,90).errors.requireDigit);var i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireDigit_Hint"));n(e,2,0,i),n(e,4,0,!l["\u0275nov"](e.parent,90).errors.requireLowercase);var r=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireLowercase_Hint"));n(e,5,0,r),n(e,7,0,!l["\u0275nov"](e.parent,90).errors.requireUppercase);var o=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireUppercase_Hint"));n(e,8,0,o),n(e,10,0,!l["\u0275nov"](e.parent,90).errors.requireNonAlphanumeric);var s=l["\u0275unv"](e,11,0,n(e,12,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireNonAlphanumeric_Hint"));n(e,11,0,s),n(e,13,0,!l["\u0275nov"](e.parent,90).errors.requiredLength);var a=l["\u0275unv"](e,14,0,n(e,15,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequiredLength_Hint",t.passwordComplexitySetting.requiredLength));n(e,14,0,a),n(e,16,0,l["\u0275nov"](e.parent,90).valid);var u=l["\u0275unv"](e,17,0,n(e,18,0,l["\u0275nov"](e.parent,0),"PasswordsDontMatch"));n(e,17,0,u)}))}function he(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"p",[["class","hint margin-top-20"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,1)],null,(function(n,e){var t=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"Captha_Hint"));n(e,1,0,t)}))}function ge(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","form-group m--margin-bottom-20"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"re-captcha",[],[[1,"id",0]],[[null,"resolved"]],(function(n,e,t){var l=!0;return"resolved"===e&&(l=!1!==n.component.captchaResolved(t)&&l),l}),re,ie)),l["\u0275did"](2,4374528,[[1,4],["recaptchaRef",4]],0,ee.RecaptchaComponent,[l.ElementRef,te.RecaptchaLoaderService,l.NgZone,[2,le.RECAPTCHA_SETTINGS]],{siteKey:[0,"siteKey"]},{resolved:"resolved"})],(function(n,e){n(e,2,0,e.component.recaptchaSiteKey)}),(function(n,e){n(e,1,0,l["\u0275nov"](e,2).id)}))}function fe(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),l["\u0275qud"](671088640,1,{recaptchaRef:0}),(n()(),l["\u0275eld"](2,0,null,null,109,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,108,"div",[["class","m-login__signin"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,[" "," "])),l["\u0275ppd"](7,1),(n()(),l["\u0275eld"](8,0,null,null,103,"form",[["class","m-login__form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,10).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,10).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.save()&&i),i}),null,null)),l["\u0275did"](9,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](10,4210688,[["registerForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](12,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](13,0,null,null,13,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,10,"input",[["autoFocus",""],["class","form-control"],["maxlength","32"],["name","Name"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,15)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,15)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.name=t)&&i),i}),null,null)),l["\u0275did"](15,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](16,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](17,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](20,671744,[["nameInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](22,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](23,4210688,null,0,qn.a,[l.ElementRef],null,null),l["\u0275ppd"](24,1),(n()(),l["\u0275eld"](25,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](26,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](27,0,null,null,12,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](28,0,null,null,9,"input",[["class","form-control"],["maxlength","32"],["name","Surname"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,29)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,29).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,29)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,29)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.surname=t)&&i),i}),null,null)),l["\u0275did"](29,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](30,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](31,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](34,671744,[["surnameInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](36,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](37,1),(n()(),l["\u0275eld"](38,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](39,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](40,0,null,null,13,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](41,0,null,null,10,"input",[["class","form-control"],["maxlength","256"],["name","EmailAddress"],["pattern","^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$"],["required",""],["type","email"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,42)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,42).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,42)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,42)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.emailAddress=t)&&i),i}),null,null)),l["\u0275did"](42,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](43,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](44,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275did"](45,540672,null,0,a.PatternValidator,[],{pattern:[0,"pattern"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,a.MaxLengthValidator,a.PatternValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](48,671744,[["emailAddressInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](50,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](51,1),(n()(),l["\u0275eld"](52,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](53,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](54,0,null,null,12,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](55,0,null,null,9,"input",[["autocomplete","off"],["class","form-control"],["maxlength","32"],["name","UserName"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,56)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,56).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,56)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,56)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.userName=t)&&i),i}),null,null)),l["\u0275did"](56,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](57,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](58,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](61,671744,[["userNameInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](63,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](64,1),(n()(),l["\u0275eld"](65,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](66,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](67,0,null,null,11,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](68,0,null,null,10,"input",[["class","form-control"],["name","Password"],["required",""],["reverse","true"],["type","password"],["validateEqual","PasswordRepeat"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,69)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,69).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,69)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,69)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.password=t)&&i),i}),null,null)),l["\u0275did"](69,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](70,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](71,16384,null,0,oe.a,[[8,"PasswordRepeat"],[8,"true"]],null,null),l["\u0275did"](72,16384,null,0,se.a,[],{requireDigit:[0,"requireDigit"],requireUppercase:[1,"requireUppercase"],requireLowercase:[2,"requireLowercase"],requireNonAlphanumeric:[3,"requireNonAlphanumeric"],requiredLength:[4,"requiredLength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,oe.a,se.a]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](75,671744,[["Password",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](77,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](78,1),(n()(),l["\u0275eld"](79,0,null,null,2,"div",[["class","form-group m-form__group"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,de)),l["\u0275did"](81,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](82,0,null,null,11,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](83,0,null,null,10,"input",[["class","form-control"],["name","PasswordRepeat"],["required",""],["reverse","false"],["type","password"],["validateEqual","Password"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,84)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,84).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,84)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,84)._compositionEnd(t.target.value)&&i),i}),null,null)),l["\u0275did"](84,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](85,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](86,16384,null,0,oe.a,[[8,"Password"],[8,"false"]],null,null),l["\u0275did"](87,16384,null,0,se.a,[],{requireDigit:[0,"requireDigit"],requireUppercase:[1,"requireUppercase"],requireLowercase:[2,"requireLowercase"],requireNonAlphanumeric:[3,"requireNonAlphanumeric"],requiredLength:[4,"requiredLength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,oe.a,se.a]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](90,671744,[["PasswordRepeat",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](92,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](93,1),(n()(),l["\u0275eld"](94,0,null,null,2,"div",[["class","form-group m-form__group"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,pe)),l["\u0275did"](96,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,he)),l["\u0275did"](98,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ge)),l["\u0275did"](100,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](101,0,null,null,10,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](102,0,null,null,4,"button",[["class","btn btn-outline-primary  m-btn m-btn--pill m-btn--custom"],["routerLink","/account/login"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,103).onClick()&&i),i}),null,null)),l["\u0275did"](103,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275eld"](104,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(n()(),l["\u0275ted"](105,null,[" ",""])),l["\u0275ppd"](106,1),(n()(),l["\u0275eld"](107,0,null,null,4,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),l["\u0275did"](108,4276224,null,0,u.a,[l.ElementRef,c.a],{buttonBusy:[0,"buttonBusy"],busyText:[1,"busyText"]},null),(n()(),l["\u0275eld"](109,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(n()(),l["\u0275ted"](110,null,[" ",""])),l["\u0275ppd"](111,1)],(function(n,e){var t=e.component;n(e,16,0,""),n(e,17,0,"32"),n(e,20,0,"Name",t.model.name),n(e,26,0,l["\u0275nov"](e,20)),n(e,30,0,""),n(e,31,0,"32"),n(e,34,0,"Surname",t.model.surname),n(e,39,0,l["\u0275nov"](e,34)),n(e,43,0,""),n(e,44,0,"256"),n(e,45,0,"^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$"),n(e,48,0,"EmailAddress",t.model.emailAddress),n(e,53,0,l["\u0275nov"](e,48)),n(e,57,0,""),n(e,58,0,"32"),n(e,61,0,"UserName",t.model.userName),n(e,66,0,l["\u0275nov"](e,61)),n(e,70,0,""),n(e,72,0,t.passwordComplexitySetting.requireDigit,t.passwordComplexitySetting.requireUppercase,t.passwordComplexitySetting.requireLowercase,t.passwordComplexitySetting.requireNonAlphanumeric,t.passwordComplexitySetting.requiredLength),n(e,75,0,"Password",t.model.password),n(e,81,0,l["\u0275nov"](e,75).errors),n(e,85,0,""),n(e,87,0,t.passwordComplexitySetting.requireDigit,t.passwordComplexitySetting.requireUppercase,t.passwordComplexitySetting.requireLowercase,t.passwordComplexitySetting.requireNonAlphanumeric,t.passwordComplexitySetting.requiredLength),n(e,90,0,"PasswordRepeat",t.model.passwordRepeat),n(e,96,0,l["\u0275nov"](e,90).errors),n(e,98,0,t.useCaptcha),n(e,100,0,t.useCaptcha),n(e,103,0,"/account/login"),n(e,108,0,t.saving,t.l("SavingWithThreeDot"))}),(function(n,e){var t=e.component;n(e,2,0,void 0);var i=l["\u0275unv"](e,6,0,n(e,7,0,l["\u0275nov"](e,0),"SignUp"));n(e,6,0,i),n(e,8,0,l["\u0275nov"](e,12).ngClassUntouched,l["\u0275nov"](e,12).ngClassTouched,l["\u0275nov"](e,12).ngClassPristine,l["\u0275nov"](e,12).ngClassDirty,l["\u0275nov"](e,12).ngClassValid,l["\u0275nov"](e,12).ngClassInvalid,l["\u0275nov"](e,12).ngClassPending);var r=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,14,0,n(e,24,0,l["\u0275nov"](e,0),"Name"))," *");n(e,14,0,r,l["\u0275nov"](e,16).required?"":null,l["\u0275nov"](e,17).maxlength?l["\u0275nov"](e,17).maxlength:null,l["\u0275nov"](e,22).ngClassUntouched,l["\u0275nov"](e,22).ngClassTouched,l["\u0275nov"](e,22).ngClassPristine,l["\u0275nov"](e,22).ngClassDirty,l["\u0275nov"](e,22).ngClassValid,l["\u0275nov"](e,22).ngClassInvalid,l["\u0275nov"](e,22).ngClassPending);var o=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,28,0,n(e,37,0,l["\u0275nov"](e,0),"Surname"))," *");n(e,28,0,o,l["\u0275nov"](e,30).required?"":null,l["\u0275nov"](e,31).maxlength?l["\u0275nov"](e,31).maxlength:null,l["\u0275nov"](e,36).ngClassUntouched,l["\u0275nov"](e,36).ngClassTouched,l["\u0275nov"](e,36).ngClassPristine,l["\u0275nov"](e,36).ngClassDirty,l["\u0275nov"](e,36).ngClassValid,l["\u0275nov"](e,36).ngClassInvalid,l["\u0275nov"](e,36).ngClassPending);var s=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,41,0,n(e,51,0,l["\u0275nov"](e,0),"EmailAddress"))," *");n(e,41,1,[s,l["\u0275nov"](e,43).required?"":null,l["\u0275nov"](e,44).maxlength?l["\u0275nov"](e,44).maxlength:null,l["\u0275nov"](e,45).pattern?l["\u0275nov"](e,45).pattern:null,l["\u0275nov"](e,50).ngClassUntouched,l["\u0275nov"](e,50).ngClassTouched,l["\u0275nov"](e,50).ngClassPristine,l["\u0275nov"](e,50).ngClassDirty,l["\u0275nov"](e,50).ngClassValid,l["\u0275nov"](e,50).ngClassInvalid,l["\u0275nov"](e,50).ngClassPending]);var a=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,55,0,n(e,64,0,l["\u0275nov"](e,0),"UserName"))," *");n(e,55,0,a,l["\u0275nov"](e,57).required?"":null,l["\u0275nov"](e,58).maxlength?l["\u0275nov"](e,58).maxlength:null,l["\u0275nov"](e,63).ngClassUntouched,l["\u0275nov"](e,63).ngClassTouched,l["\u0275nov"](e,63).ngClassPristine,l["\u0275nov"](e,63).ngClassDirty,l["\u0275nov"](e,63).ngClassValid,l["\u0275nov"](e,63).ngClassInvalid,l["\u0275nov"](e,63).ngClassPending);var u=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,68,0,n(e,78,0,l["\u0275nov"](e,0),"Password")),"");n(e,68,0,u,l["\u0275nov"](e,70).required?"":null,l["\u0275nov"](e,77).ngClassUntouched,l["\u0275nov"](e,77).ngClassTouched,l["\u0275nov"](e,77).ngClassPristine,l["\u0275nov"](e,77).ngClassDirty,l["\u0275nov"](e,77).ngClassValid,l["\u0275nov"](e,77).ngClassInvalid,l["\u0275nov"](e,77).ngClassPending),n(e,79,0,l["\u0275nov"](e,10).form.valid||l["\u0275nov"](e,10).form.pristine);var c=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,83,0,n(e,93,0,l["\u0275nov"](e,0),"PasswordRepeat")),"");n(e,83,0,c,l["\u0275nov"](e,85).required?"":null,l["\u0275nov"](e,92).ngClassUntouched,l["\u0275nov"](e,92).ngClassTouched,l["\u0275nov"](e,92).ngClassPristine,l["\u0275nov"](e,92).ngClassDirty,l["\u0275nov"](e,92).ngClassValid,l["\u0275nov"](e,92).ngClassInvalid,l["\u0275nov"](e,92).ngClassPending),n(e,94,0,l["\u0275nov"](e,10).form.valid||l["\u0275nov"](e,10).form.pristine),n(e,102,0,t.saving);var d=l["\u0275unv"](e,105,0,n(e,106,0,l["\u0275nov"](e,0),"Back"));n(e,105,0,d),n(e,107,0,!l["\u0275nov"](e,10).form.valid);var p=l["\u0275unv"](e,110,0,n(e,111,0,l["\u0275nov"](e,0),"Submit"));n(e,110,0,p)}))}function me(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,fe,ce)),l["\u0275did"](1,114688,null,0,ue,[l.Injector,m.b,I.Router,Nn,m.Uc],null,null)],(function(n,e){n(e,1,0)}),null)}var ve=l["\u0275ccf"]("ng-component",ue,me,{},{},[]),ye=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(g.__extends)(e,n),e}(m.Wc),Se=function(){return function(){}}(),be=function(n){function e(e,t,l,i,r,o){var s=n.call(this,e)||this;return s._tenantRegistrationService=t,s._router=l,s._profileService=i,s._tenantRegistrationHelper=r,s._activatedRoute=o,s.model=new ye,s.passwordComplexitySetting=new m.Cc,s.subscriptionStartType=m.Md,s.paymentPeriodType=m.Fc,s.selectedPaymentPeriodType=m.Fc.Monthly,s.subscriptionPaymentGateway=m.Jd,s.paymentId="",s.recaptchaSiteKey=k.a.recaptchaSiteKey,s.saving=!1,s}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.model.editionId=this._activatedRoute.snapshot.queryParams.editionId,this.editionPaymentType=this._activatedRoute.snapshot.queryParams.editionPaymentType,this.model.editionId&&(this.model.subscriptionStartType=this._activatedRoute.snapshot.queryParams.subscriptionStartType),null==this.appSession.tenant?this._profileService.getPasswordComplexitySetting().subscribe((function(e){n.passwordComplexitySetting=e.setting})):this._router.navigate(["account/login"])},e.prototype.ngAfterViewInit=function(){var n=this;this.model.editionId&&this._tenantRegistrationService.getEdition(this.model.editionId).subscribe((function(e){n.model.edition=e}))},Object.defineProperty(e.prototype,"useCaptcha",{get:function(){return this.setting.getBoolean("App.TenantManagement.UseCaptchaOnRegistration")},enumerable:!0,configurable:!0}),e.prototype.save=function(){var n=this;!this.useCaptcha||this.model.captchaResponse?(this.saving=!0,this._tenantRegistrationService.registerTenant(this.model).pipe(Object(v.a)((function(){n.saving=!1}))).pipe(Object(sn.a)((function(e,t){n.recaptchaRef.reset()}))).subscribe((function(e){n.notify.success(n.l("SuccessfullyRegistered")),n._tenantRegistrationHelper.registrationResult=e,parseInt(n.model.subscriptionStartType.toString())===m.Md.Paid?n._router.navigate(["account/buy"],{queryParams:{tenantId:e.tenantId,editionId:n.model.editionId,subscriptionStartType:n.model.subscriptionStartType,editionPaymentType:n.editionPaymentType}}):n._router.navigate(["account/register-tenant-result"])}))):this.message.warn(this.l("CaptchaCanNotBeEmpty"))},e.prototype.captchaResolved=function(n){this.model.captchaResponse=n},e.prototype.onPaymentPeriodChangeChange=function(n){this.selectedPaymentPeriodType=n},e}(f.a),Ce=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function Ee(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","hint text-center"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["(",": ",")"])),l["\u0275ppd"](2,1)],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"Edition"));n(e,1,0,i,t.model.edition.displayName)}))}function xe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"span",[["class","help-block text-danger"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1)],null,(function(n,e){var t=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"TenantName_Regex_Description"));n(e,2,0,t)}))}function we(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"ul",[["class","help-block text-danger"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1),(n()(),l["\u0275eld"](4,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),l["\u0275ppd"](12,1),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),l["\u0275ppd"](15,2)],null,(function(n,e){var t=e.component;n(e,1,0,!l["\u0275nov"](e.parent,71).errors.requireDigit);var i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireDigit_Hint"));n(e,2,0,i),n(e,4,0,!l["\u0275nov"](e.parent,71).errors.requireLowercase);var r=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireLowercase_Hint"));n(e,5,0,r),n(e,7,0,!l["\u0275nov"](e.parent,71).errors.requireUppercase);var o=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireUppercase_Hint"));n(e,8,0,o),n(e,10,0,!l["\u0275nov"](e.parent,71).errors.requireNonAlphanumeric);var s=l["\u0275unv"](e,11,0,n(e,12,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireNonAlphanumeric_Hint"));n(e,11,0,s),n(e,13,0,!l["\u0275nov"](e.parent,71).errors.requiredLength);var a=l["\u0275unv"](e,14,0,n(e,15,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequiredLength_Hint",t.passwordComplexitySetting.requiredLength));n(e,14,0,a)}))}function Ae(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,18,"ul",[["class","help-block text-danger"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1),(n()(),l["\u0275eld"](4,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),l["\u0275ppd"](12,1),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),l["\u0275ppd"](15,2),(n()(),l["\u0275eld"](16,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](17,null,["",""])),l["\u0275ppd"](18,1)],null,(function(n,e){var t=e.component;n(e,1,0,!l["\u0275nov"](e.parent,86).errors.requireDigit);var i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireDigit_Hint"));n(e,2,0,i),n(e,4,0,!l["\u0275nov"](e.parent,86).errors.requireLowercase);var r=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireLowercase_Hint"));n(e,5,0,r),n(e,7,0,!l["\u0275nov"](e.parent,86).errors.requireUppercase);var o=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireUppercase_Hint"));n(e,8,0,o),n(e,10,0,!l["\u0275nov"](e.parent,86).errors.requireNonAlphanumeric);var s=l["\u0275unv"](e,11,0,n(e,12,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireNonAlphanumeric_Hint"));n(e,11,0,s),n(e,13,0,!l["\u0275nov"](e.parent,86).errors.requiredLength);var a=l["\u0275unv"](e,14,0,n(e,15,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequiredLength_Hint",t.passwordComplexitySetting.requiredLength));n(e,14,0,a),n(e,16,0,l["\u0275nov"](e.parent,86).valid);var u=l["\u0275unv"](e,17,0,n(e,18,0,l["\u0275nov"](e.parent,0),"PasswordsDontMatch"));n(e,17,0,u)}))}function _e(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"h4",[["class","m-login__title m--margin-top-20"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,1)],null,(function(n,e){var t=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"Captha_Hint"));n(e,1,0,t)}))}function Te(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","form-group m--margin-bottom-20"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"re-captcha",[],[[1,"id",0]],[[null,"resolved"]],(function(n,e,t){var l=!0;return"resolved"===e&&(l=!1!==n.component.captchaResolved(t)&&l),l}),re,ie)),l["\u0275did"](2,4374528,[[1,4],["recaptchaRef",4]],0,ee.RecaptchaComponent,[l.ElementRef,te.RecaptchaLoaderService,l.NgZone,[2,le.RECAPTCHA_SETTINGS]],{siteKey:[0,"siteKey"]},{resolved:"resolved"})],(function(n,e){n(e,2,0,e.component.recaptchaSiteKey)}),(function(n,e){n(e,1,0,l["\u0275nov"](e,2).id)}))}function Ie(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),l["\u0275qud"](671088640,1,{recaptchaRef:0}),(n()(),l["\u0275eld"](2,0,null,null,105,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,104,"div",[["class","m-login__signin"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,[" "," "])),l["\u0275ppd"](7,1),(n()(),l["\u0275and"](16777216,null,null,1,null,Ee)),l["\u0275did"](9,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](10,0,null,null,97,"form",[["class","m-login__form m-form register-form"],["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,12).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,12).onReset()&&i),"submit"===e&&(i=!1!==r.save()&&i),i}),null,null)),l["\u0275did"](11,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](12,4210688,[["registerForm",4]],0,a.NgForm,[[8,null],[8,null]],null,null),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](14,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](15,0,null,null,2,"h4",[["class","m-login__title m--margin-top-20"]],null,null,null,null,null)),(n()(),l["\u0275ted"](16,null,[" "," "])),l["\u0275ppd"](17,1),(n()(),l["\u0275eld"](18,0,null,null,14,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](19,0,null,null,11,"input",[["autoFocus",""],["class","form-control"],["maxlength","64"],["name","tenancyName"],["pattern","^[a-zA-Z][a-zA-Z0-9_-]{1,}$"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,20)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,20).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,20)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,20)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.tenancyName=t)&&i),i}),null,null)),l["\u0275did"](20,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](21,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](22,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275did"](23,540672,null,0,a.PatternValidator,[],{pattern:[0,"pattern"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,a.MaxLengthValidator,a.PatternValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](26,671744,[["tenancyName",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](28,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](29,4210688,null,0,qn.a,[l.ElementRef],null,null),l["\u0275ppd"](30,1),(n()(),l["\u0275and"](16777216,null,null,1,null,xe)),l["\u0275did"](32,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](33,0,null,null,12,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](34,0,null,null,9,"input",[["class","form-control"],["maxlength","128"],["name","Name"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,35)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,35).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,35)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,35)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.name=t)&&i),i}),null,null)),l["\u0275did"](35,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](36,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](37,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](40,671744,[["nameInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](42,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](43,1),(n()(),l["\u0275eld"](44,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](45,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](46,0,null,null,2,"h4",[["class","m-login__title m--margin-top-20"]],null,null,null,null,null)),(n()(),l["\u0275ted"](47,null,[" "," "])),l["\u0275ppd"](48,1),(n()(),l["\u0275eld"](49,0,null,null,13,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](50,0,null,null,10,"input",[["class","form-control"],["email",""],["maxlength","256"],["name","adminEmailAddress"],["required",""],["type","email"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,51)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,51).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,51)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,51)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.adminEmailAddress=t)&&i),i}),null,null)),l["\u0275did"](51,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](52,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](53,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275did"](54,16384,null,0,a.EmailValidator,[],{email:[0,"email"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,a.MaxLengthValidator,a.EmailValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](57,671744,[["adminEmailAddressInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](59,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](60,1),(n()(),l["\u0275eld"](61,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](62,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](63,0,null,null,11,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](64,0,null,null,10,"input",[["class","form-control"],["name","Password"],["required",""],["reverse","true"],["type","password"],["validateEqual","PasswordRepeat"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,65)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,65).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,65)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,65)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.adminPassword=t)&&i),i}),null,null)),l["\u0275did"](65,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](66,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](67,16384,null,0,oe.a,[[8,"PasswordRepeat"],[8,"true"]],null,null),l["\u0275did"](68,16384,null,0,se.a,[],{requireDigit:[0,"requireDigit"],requireUppercase:[1,"requireUppercase"],requireLowercase:[2,"requireLowercase"],requireNonAlphanumeric:[3,"requireNonAlphanumeric"],requiredLength:[4,"requiredLength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,oe.a,se.a]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](71,671744,[["Password",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](73,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](74,1),(n()(),l["\u0275eld"](75,0,null,null,2,"div",[["class","form-group m-form__group"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,we)),l["\u0275did"](77,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](78,0,null,null,11,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](79,0,null,null,10,"input",[["class","form-control"],["name","PasswordRepeat"],["required",""],["reverse","false"],["type","password"],["validateEqual","Password"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,80)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,80).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,80)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,80)._compositionEnd(t.target.value)&&i),i}),null,null)),l["\u0275did"](80,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](81,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](82,16384,null,0,oe.a,[[8,"Password"],[8,"false"]],null,null),l["\u0275did"](83,16384,null,0,se.a,[],{requireDigit:[0,"requireDigit"],requireUppercase:[1,"requireUppercase"],requireLowercase:[2,"requireLowercase"],requireNonAlphanumeric:[3,"requireNonAlphanumeric"],requiredLength:[4,"requiredLength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,oe.a,se.a]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](86,671744,[["PasswordRepeat",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](88,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](89,1),(n()(),l["\u0275eld"](90,0,null,null,2,"div",[["class","form-group m-form__group"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Ae)),l["\u0275did"](92,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,_e)),l["\u0275did"](94,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Te)),l["\u0275did"](96,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](97,0,null,null,10,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](98,0,null,null,4,"button",[["class","btn btn-outline-primary  m-btn m-btn--pill m-btn--custom"],["routerLink","/account/login"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,99).onClick()&&i),i}),null,null)),l["\u0275did"](99,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275eld"](100,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(n()(),l["\u0275ted"](101,null,[" ",""])),l["\u0275ppd"](102,1),(n()(),l["\u0275eld"](103,0,null,null,4,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),l["\u0275did"](104,4276224,null,0,u.a,[l.ElementRef,c.a],{buttonBusy:[0,"buttonBusy"],busyText:[1,"busyText"]},null),(n()(),l["\u0275eld"](105,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(n()(),l["\u0275ted"](106,null,[" ",""])),l["\u0275ppd"](107,1)],(function(n,e){var t=e.component;n(e,9,0,t.model.edition),n(e,21,0,""),n(e,22,0,"64"),n(e,23,0,"^[a-zA-Z][a-zA-Z0-9_-]{1,}$"),n(e,26,0,"tenancyName",t.model.tenancyName),n(e,32,0,!l["\u0275nov"](e,26).valid&&!l["\u0275nov"](e,26).pristine),n(e,36,0,""),n(e,37,0,"128"),n(e,40,0,"Name",t.model.name),n(e,45,0,l["\u0275nov"](e,40)),n(e,52,0,""),n(e,53,0,"256"),n(e,54,0,""),n(e,57,0,"adminEmailAddress",t.model.adminEmailAddress),n(e,62,0,l["\u0275nov"](e,57)),n(e,66,0,""),n(e,68,0,t.passwordComplexitySetting.requireDigit,t.passwordComplexitySetting.requireUppercase,t.passwordComplexitySetting.requireLowercase,t.passwordComplexitySetting.requireNonAlphanumeric,t.passwordComplexitySetting.requiredLength),n(e,71,0,"Password",t.model.adminPassword),n(e,77,0,l["\u0275nov"](e,71).errors),n(e,81,0,""),n(e,83,0,t.passwordComplexitySetting.requireDigit,t.passwordComplexitySetting.requireUppercase,t.passwordComplexitySetting.requireLowercase,t.passwordComplexitySetting.requireNonAlphanumeric,t.passwordComplexitySetting.requiredLength),n(e,86,0,"PasswordRepeat",t.model.passwordRepeat),n(e,92,0,l["\u0275nov"](e,86).errors),n(e,94,0,t.useCaptcha),n(e,96,0,t.useCaptcha),n(e,99,0,"/account/login"),n(e,104,0,t.saving,t.l("SavingWithThreeDot"))}),(function(n,e){var t=e.component;n(e,2,0,void 0);var i=l["\u0275unv"](e,6,0,n(e,7,0,l["\u0275nov"](e,0),"TenantSignUp"));n(e,6,0,i),n(e,10,0,l["\u0275nov"](e,14).ngClassUntouched,l["\u0275nov"](e,14).ngClassTouched,l["\u0275nov"](e,14).ngClassPristine,l["\u0275nov"](e,14).ngClassDirty,l["\u0275nov"](e,14).ngClassValid,l["\u0275nov"](e,14).ngClassInvalid,l["\u0275nov"](e,14).ngClassPending);var r=l["\u0275unv"](e,16,0,n(e,17,0,l["\u0275nov"](e,0),"TenantInformations"));n(e,16,0,r);var o=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,19,0,n(e,30,0,l["\u0275nov"](e,0),"TenancyName"))," *");n(e,19,1,[o,l["\u0275nov"](e,21).required?"":null,l["\u0275nov"](e,22).maxlength?l["\u0275nov"](e,22).maxlength:null,l["\u0275nov"](e,23).pattern?l["\u0275nov"](e,23).pattern:null,l["\u0275nov"](e,28).ngClassUntouched,l["\u0275nov"](e,28).ngClassTouched,l["\u0275nov"](e,28).ngClassPristine,l["\u0275nov"](e,28).ngClassDirty,l["\u0275nov"](e,28).ngClassValid,l["\u0275nov"](e,28).ngClassInvalid,l["\u0275nov"](e,28).ngClassPending]);var s=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,34,0,n(e,43,0,l["\u0275nov"](e,0),"TenantName"))," *");n(e,34,0,s,l["\u0275nov"](e,36).required?"":null,l["\u0275nov"](e,37).maxlength?l["\u0275nov"](e,37).maxlength:null,l["\u0275nov"](e,42).ngClassUntouched,l["\u0275nov"](e,42).ngClassTouched,l["\u0275nov"](e,42).ngClassPristine,l["\u0275nov"](e,42).ngClassDirty,l["\u0275nov"](e,42).ngClassValid,l["\u0275nov"](e,42).ngClassInvalid,l["\u0275nov"](e,42).ngClassPending);var a=l["\u0275unv"](e,47,0,n(e,48,0,l["\u0275nov"](e,0),"AccountSettings"));n(e,47,0,a);var u=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,50,0,n(e,60,0,l["\u0275nov"](e,0),"AdminEmailAddress"))," *");n(e,50,0,u,l["\u0275nov"](e,52).required?"":null,l["\u0275nov"](e,53).maxlength?l["\u0275nov"](e,53).maxlength:null,l["\u0275nov"](e,59).ngClassUntouched,l["\u0275nov"](e,59).ngClassTouched,l["\u0275nov"](e,59).ngClassPristine,l["\u0275nov"](e,59).ngClassDirty,l["\u0275nov"](e,59).ngClassValid,l["\u0275nov"](e,59).ngClassInvalid,l["\u0275nov"](e,59).ngClassPending);var c=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,64,0,n(e,74,0,l["\u0275nov"](e,0),"AdminPassword")),"");n(e,64,0,c,l["\u0275nov"](e,66).required?"":null,l["\u0275nov"](e,73).ngClassUntouched,l["\u0275nov"](e,73).ngClassTouched,l["\u0275nov"](e,73).ngClassPristine,l["\u0275nov"](e,73).ngClassDirty,l["\u0275nov"](e,73).ngClassValid,l["\u0275nov"](e,73).ngClassInvalid,l["\u0275nov"](e,73).ngClassPending),n(e,75,0,l["\u0275nov"](e,12).form.valid||l["\u0275nov"](e,12).form.pristine);var d=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,79,0,n(e,89,0,l["\u0275nov"](e,0),"PasswordRepeat")),"");n(e,79,0,d,l["\u0275nov"](e,81).required?"":null,l["\u0275nov"](e,88).ngClassUntouched,l["\u0275nov"](e,88).ngClassTouched,l["\u0275nov"](e,88).ngClassPristine,l["\u0275nov"](e,88).ngClassDirty,l["\u0275nov"](e,88).ngClassValid,l["\u0275nov"](e,88).ngClassInvalid,l["\u0275nov"](e,88).ngClassPending),n(e,90,0,l["\u0275nov"](e,12).form.valid||l["\u0275nov"](e,12).form.pristine),n(e,98,0,t.saving);var p=l["\u0275unv"](e,101,0,n(e,102,0,l["\u0275nov"](e,0),"Back"));n(e,101,0,p),n(e,103,0,!l["\u0275nov"](e,12).form.valid);var h=l["\u0275unv"](e,106,0,n(e,107,0,l["\u0275nov"](e,0),"Submit"));n(e,106,0,h)}))}function Re(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Ie,Ce)),l["\u0275did"](1,4308992,null,0,be,[l.Injector,m.Sd,I.Router,m.Uc,Se,I.ActivatedRoute],null,null)],(function(n,e){n(e,1,0)}),null)}var Ne=l["\u0275ccf"]("ng-component",be,Re,{},{},[]),Fe=t("WroF"),Pe=function(n){function e(e,t,l,i){var r=n.call(this,e)||this;return r._router=t,r._appUrlService=l,r._tenantRegistrationHelper=i,r.model=new m.Xc,r.saving=!1,r}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){this._tenantRegistrationHelper.registrationResult?(this.model=this._tenantRegistrationHelper.registrationResult,abp.multiTenancy.setTenantIdCookie(this.model.tenantId),this.tenantUrl=this._appUrlService.getAppRootUrlOfTenant(this.model.tenancyName)):this._router.navigate(["account/login"])},e}(f.a),Oe=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function De(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,2)],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"ConfirmationMailSentPleaseClickLinkInTheEmail",t.model.emailAddress));n(e,1,0,i)}))}function ke(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,1)],null,(function(n,e){var t=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"YourAccountIsWaitingToBeActivatedByAdmin"));n(e,1,0,t)}))}function Ve(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" ",""])),l["\u0275ppd"](2,1),(n()(),l["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""]))],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"TenantRegistrationLoginInfo"));n(e,1,0,i),n(e,4,0,l["\u0275inlineInterpolate"](1,"",t.tenantUrl,"")),n(e,5,0,t.tenantUrl)}))}function Le(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,31,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"h4",[],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,["",""])),l["\u0275ppd"](4,1),(n()(),l["\u0275eld"](5,0,null,null,20,"ul",[],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",":"])),l["\u0275ppd"](9,1),(n()(),l["\u0275ted"](10,null,[" ",""])),(n()(),l["\u0275eld"](11,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,["",":"])),l["\u0275ppd"](14,1),(n()(),l["\u0275ted"](15,null,[" ",""])),(n()(),l["\u0275eld"](16,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(n()(),l["\u0275ted"](18,null,["",":"])),l["\u0275ppd"](19,1),(n()(),l["\u0275ted"](20,null,[" ",""])),(n()(),l["\u0275eld"](21,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(n()(),l["\u0275ted"](23,null,["",":"])),l["\u0275ppd"](24,1),(n()(),l["\u0275ted"](25,null,[" ",""])),(n()(),l["\u0275eld"](26,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,De)),l["\u0275did"](28,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ke)),l["\u0275did"](30,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Ve)),l["\u0275did"](32,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,28,0,t.model.isEmailConfirmationRequired),n(e,30,0,!t.model.isActive),n(e,32,0,t.tenantUrl)}),(function(n,e){var t=e.component;n(e,1,0,void 0);var i=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e,0),"SuccessfullyRegistered"));n(e,3,0,i);var r=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e,0),"TenancyName"));n(e,8,0,r),n(e,10,0,t.model.tenancyName);var o=l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e,0),"TenantName"));n(e,13,0,o),n(e,15,0,t.model.name);var s=l["\u0275unv"](e,18,0,n(e,19,0,l["\u0275nov"](e,0),"UserName"));n(e,18,0,s),n(e,20,0,t.model.userName);var a=l["\u0275unv"](e,23,0,n(e,24,0,l["\u0275nov"](e,0),"EmailAddress"));n(e,23,0,a),n(e,25,0,t.model.emailAddress)}))}function He(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Le,Oe)),l["\u0275did"](1,114688,null,0,Pe,[l.Injector,I.Router,Fe.a,Se],null,null)],(function(n,e){n(e,1,0)}),null)}var Be=l["\u0275ccf"]("ng-component",Pe,He,{},{},[]),Ue=function(n){function e(e,t,l,i){var r=n.call(this,e)||this;return r._accountService=t,r._appUrlService=l,r._router=i,r.model=new m.id,r.saving=!1,r}return Object(g.__extends)(e,n),e.prototype.save=function(){var n=this;this.saving=!0,this._accountService.sendPasswordResetCode(this.model).pipe(Object(v.a)((function(){n.saving=!1}))).subscribe((function(){n.message.success(n.l("PasswordResetMailSentMessage"),n.l("MailSent")).then((function(){n._router.navigate(["account/login"])}))}))},e}(f.a),Me=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function qe(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,39,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,38,"div",[["class","m-login__signin"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,33,"form",[["class","m-login__form m-form forget-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,9).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,9).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.save()&&i),i}),null,null)),l["\u0275did"](8,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](9,4210688,[["forgotPassForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](11,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](12,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,[" "," "])),l["\u0275ppd"](14,1),(n()(),l["\u0275eld"](15,0,null,null,14,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,11,"input",[["autoFocus",""],["autocomplete","off"],["class","form-control placeholder-no-fix"],["email",""],["maxlength","256"],["name","emailAddress"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,17)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,17).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.emailAddress=t)&&i),i}),null,null)),l["\u0275did"](17,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](18,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](19,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275did"](20,16384,null,0,a.EmailValidator,[],{email:[0,"email"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,a.MaxLengthValidator,a.EmailValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](23,671744,[["emailAddressInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](25,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](26,4210688,null,0,qn.a,[l.ElementRef],null,null),l["\u0275ppd"](27,1),(n()(),l["\u0275eld"](28,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](29,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](30,0,null,null,10,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](31,0,null,null,4,"button",[["class","btn btn-outline-primary  m-btn m-btn--pill m-btn--custom"],["routerLink","/account/login"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,32).onClick()&&i),i}),null,null)),l["\u0275did"](32,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275eld"](33,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(n()(),l["\u0275ted"](34,null,[" ",""])),l["\u0275ppd"](35,1),(n()(),l["\u0275eld"](36,0,null,null,4,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),l["\u0275did"](37,4276224,null,0,u.a,[l.ElementRef,c.a],{buttonBusy:[0,"buttonBusy"],busyText:[1,"busyText"]},null),(n()(),l["\u0275eld"](38,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(n()(),l["\u0275ted"](39,null,[" ",""])),l["\u0275ppd"](40,1)],(function(n,e){var t=e.component;n(e,18,0,""),n(e,19,0,"256"),n(e,20,0,""),n(e,23,0,"emailAddress",t.model.emailAddress),n(e,29,0,l["\u0275nov"](e,23)),n(e,32,0,"/account/login"),n(e,37,0,t.saving,t.l("SavingWithThreeDot"))}),(function(n,e){var t=e.component;n(e,1,0,void 0);var i=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"ForgotPassword"));n(e,5,0,i),n(e,7,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending);var r=l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e,0),"SendPasswordResetLink_Information"));n(e,13,0,r);var o=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,16,0,n(e,27,0,l["\u0275nov"](e,0),"EmailAddress"))," *");n(e,16,0,o,l["\u0275nov"](e,18).required?"":null,l["\u0275nov"](e,19).maxlength?l["\u0275nov"](e,19).maxlength:null,l["\u0275nov"](e,25).ngClassUntouched,l["\u0275nov"](e,25).ngClassTouched,l["\u0275nov"](e,25).ngClassPristine,l["\u0275nov"](e,25).ngClassDirty,l["\u0275nov"](e,25).ngClassValid,l["\u0275nov"](e,25).ngClassInvalid,l["\u0275nov"](e,25).ngClassPending),n(e,31,0,t.saving);var s=l["\u0275unv"](e,34,0,n(e,35,0,l["\u0275nov"](e,0),"Back"));n(e,34,0,s),n(e,36,0,!l["\u0275nov"](e,9).form.valid);var a=l["\u0275unv"](e,39,0,n(e,40,0,l["\u0275nov"](e,0),"Submit"));n(e,39,0,a)}))}function je(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,qe,Me)),l["\u0275did"](1,49152,null,0,Ue,[l.Injector,m.b,Fe.a,I.Router],null,null)],null,null)}var Ke=l["\u0275ccf"]("ng-component",Ue,je,{},{},[]),Ge=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(g.__extends)(e,n),e}(m.Yc),ze=function(n){function e(e,t,l,i,r,o,s){var a=n.call(this,e)||this;return a._accountService=t,a._router=l,a._activatedRoute=i,a._loginService=r,a._appUrlService=o,a._profileService=s,a.model=new Ge,a.passwordComplexitySetting=new m.Cc,a.saving=!1,a}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this._profileService.getPasswordComplexitySetting().subscribe((function(e){n.passwordComplexitySetting=e.setting})),this._activatedRoute.snapshot.queryParams.c?(this.model.c=this._activatedRoute.snapshot.queryParams.c,this._accountService.resolveTenantId(new m.Zc({c:this.model.c})).subscribe((function(e){n.appSession.changeTenantIfNeeded(e)}))):(this.model.userId=this._activatedRoute.snapshot.queryParams.userId,this.model.resetCode=this._activatedRoute.snapshot.queryParams.resetCode,this.appSession.changeTenantIfNeeded(this.parseTenantId(this._activatedRoute.snapshot.queryParams.tenantId)))},e.prototype.save=function(){var n=this;this.saving=!0,this._accountService.resetPassword(this.model).pipe(Object(v.a)((function(){n.saving=!1}))).subscribe((function(e){e.canLogin?(n.saving=!0,n._loginService.authenticateModel.userNameOrEmailAddress=e.userName,n._loginService.authenticateModel.password=n.model.password,n._loginService.authenticate((function(){n.saving=!1}))):n._router.navigate(["account/login"])}))},e.prototype.parseTenantId=function(n){var e=n?parseInt(n):void 0;return NaN===e&&(e=void 0),e},e}(f.a),We=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function $e(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"ul",[["class","help-block text-danger"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1),(n()(),l["\u0275eld"](4,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),l["\u0275ppd"](12,1),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),l["\u0275ppd"](15,2)],null,(function(n,e){var t=e.component;n(e,1,0,!l["\u0275nov"](e.parent,23).errors.requireDigit);var i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireDigit_Hint"));n(e,2,0,i),n(e,4,0,!l["\u0275nov"](e.parent,23).errors.requireLowercase);var r=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireLowercase_Hint"));n(e,5,0,r),n(e,7,0,!l["\u0275nov"](e.parent,23).errors.requireUppercase);var o=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireUppercase_Hint"));n(e,8,0,o),n(e,10,0,!l["\u0275nov"](e.parent,23).errors.requireNonAlphanumeric);var s=l["\u0275unv"](e,11,0,n(e,12,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireNonAlphanumeric_Hint"));n(e,11,0,s),n(e,13,0,!l["\u0275nov"](e.parent,23).errors.requiredLength);var a=l["\u0275unv"](e,14,0,n(e,15,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequiredLength_Hint",t.passwordComplexitySetting.requiredLength));n(e,14,0,a)}))}function Je(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,18,"ul",[["class","help-block text-danger"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1),(n()(),l["\u0275eld"](4,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](5,null,["",""])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](8,null,["",""])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),l["\u0275ppd"](12,1),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",""])),l["\u0275ppd"](15,2),(n()(),l["\u0275eld"](16,0,null,null,2,"li",[],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275ted"](17,null,["",""])),l["\u0275ppd"](18,1)],null,(function(n,e){var t=e.component;n(e,1,0,!l["\u0275nov"](e.parent,38).errors.requireDigit);var i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireDigit_Hint"));n(e,2,0,i),n(e,4,0,!l["\u0275nov"](e.parent,38).errors.requireLowercase);var r=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireLowercase_Hint"));n(e,5,0,r),n(e,7,0,!l["\u0275nov"](e.parent,38).errors.requireUppercase);var o=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireUppercase_Hint"));n(e,8,0,o),n(e,10,0,!l["\u0275nov"](e.parent,38).errors.requireNonAlphanumeric);var s=l["\u0275unv"](e,11,0,n(e,12,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequireNonAlphanumeric_Hint"));n(e,11,0,s),n(e,13,0,!l["\u0275nov"](e.parent,38).errors.requiredLength);var a=l["\u0275unv"](e,14,0,n(e,15,0,l["\u0275nov"](e.parent,0),"PasswordComplexity_RequiredLength_Hint",t.passwordComplexitySetting.requiredLength));n(e,14,0,a),n(e,16,0,l["\u0275nov"](e.parent,38).valid);var u=l["\u0275unv"](e,17,0,n(e,18,0,l["\u0275nov"](e.parent,0),"PasswordsDontMatch"));n(e,17,0,u)}))}function Ye(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,54,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,53,"div",[["class","m-login__signin"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,48,"form",[["class","m-login__form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,9).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,9).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.save()&&i),i}),null,null)),l["\u0275did"](8,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](9,4210688,[["resetPassForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](11,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](12,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,[" "," "])),l["\u0275ppd"](14,1),(n()(),l["\u0275eld"](15,0,null,null,11,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,10,"input",[["class","form-control placeholder-no-fix"],["name","Password"],["required",""],["reverse","true"],["type","password"],["validateEqual","PasswordRepeat"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,17)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,17).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.password=t)&&i),i}),null,null)),l["\u0275did"](17,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](18,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](19,16384,null,0,oe.a,[[8,"PasswordRepeat"],[8,"true"]],null,null),l["\u0275did"](20,16384,null,0,se.a,[],{requireDigit:[0,"requireDigit"],requireUppercase:[1,"requireUppercase"],requireLowercase:[2,"requireLowercase"],requireNonAlphanumeric:[3,"requireNonAlphanumeric"],requiredLength:[4,"requiredLength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,oe.a,se.a]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](23,671744,[["Password",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](25,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](26,1),(n()(),l["\u0275eld"](27,0,null,null,2,"div",[["class","form-group"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,$e)),l["\u0275did"](29,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](30,0,null,null,11,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](31,0,null,null,10,"input",[["class","form-control placeholder-no-fix"],["name","PasswordRepeat"],["required",""],["reverse","false"],["type","password"],["validateEqual","Password"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0;return"input"===e&&(i=!1!==l["\u0275nov"](n,32)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,32).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,32)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,32)._compositionEnd(t.target.value)&&i),i}),null,null)),l["\u0275did"](32,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](33,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](34,16384,null,0,oe.a,[[8,"Password"],[8,"false"]],null,null),l["\u0275did"](35,16384,null,0,se.a,[],{requireDigit:[0,"requireDigit"],requireUppercase:[1,"requireUppercase"],requireLowercase:[2,"requireLowercase"],requireNonAlphanumeric:[3,"requireNonAlphanumeric"],requiredLength:[4,"requiredLength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,oe.a,se.a]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](38,671744,[["PasswordRepeat",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},null),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](40,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](41,1),(n()(),l["\u0275eld"](42,0,null,null,2,"div",[["class","form-group"]],[[8,"hidden",0]],null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Je)),l["\u0275did"](44,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](45,0,null,null,10,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](46,0,null,null,4,"button",[["class","btn btn-outline-primary  m-btn m-btn--pill m-btn--custom"],["routerLink","/account/login"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,47).onClick()&&i),i}),null,null)),l["\u0275did"](47,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275eld"](48,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(n()(),l["\u0275ted"](49,null,[" ",""])),l["\u0275ppd"](50,1),(n()(),l["\u0275eld"](51,0,null,null,4,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),l["\u0275did"](52,4276224,null,0,u.a,[l.ElementRef,c.a],{buttonBusy:[0,"buttonBusy"],busyText:[1,"busyText"]},null),(n()(),l["\u0275eld"](53,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(n()(),l["\u0275ted"](54,null,[" ",""])),l["\u0275ppd"](55,1)],(function(n,e){var t=e.component;n(e,18,0,""),n(e,20,0,t.passwordComplexitySetting.requireDigit,t.passwordComplexitySetting.requireUppercase,t.passwordComplexitySetting.requireLowercase,t.passwordComplexitySetting.requireNonAlphanumeric,t.passwordComplexitySetting.requiredLength),n(e,23,0,"Password",t.model.password),n(e,29,0,l["\u0275nov"](e,23).errors),n(e,33,0,""),n(e,35,0,t.passwordComplexitySetting.requireDigit,t.passwordComplexitySetting.requireUppercase,t.passwordComplexitySetting.requireLowercase,t.passwordComplexitySetting.requireNonAlphanumeric,t.passwordComplexitySetting.requiredLength),n(e,38,0,"PasswordRepeat",t.model.passwordRepeat),n(e,44,0,l["\u0275nov"](e,38).errors),n(e,47,0,"/account/login"),n(e,52,0,t.saving,t.l("SavingWithThreeDot"))}),(function(n,e){var t=e.component;n(e,1,0,void 0);var i=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"ChangePassword"));n(e,5,0,i),n(e,7,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending);var r=l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e,0),"PleaseEnterYourNewPassword"));n(e,13,0,r);var o=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,16,0,n(e,26,0,l["\u0275nov"](e,0),"Password")),"");n(e,16,0,o,l["\u0275nov"](e,18).required?"":null,l["\u0275nov"](e,25).ngClassUntouched,l["\u0275nov"](e,25).ngClassTouched,l["\u0275nov"](e,25).ngClassPristine,l["\u0275nov"](e,25).ngClassDirty,l["\u0275nov"](e,25).ngClassValid,l["\u0275nov"](e,25).ngClassInvalid,l["\u0275nov"](e,25).ngClassPending),n(e,27,0,l["\u0275nov"](e,9).form.valid||l["\u0275nov"](e,9).form.pristine);var s=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,31,0,n(e,41,0,l["\u0275nov"](e,0),"PasswordRepeat")),"");n(e,31,0,s,l["\u0275nov"](e,33).required?"":null,l["\u0275nov"](e,40).ngClassUntouched,l["\u0275nov"](e,40).ngClassTouched,l["\u0275nov"](e,40).ngClassPristine,l["\u0275nov"](e,40).ngClassDirty,l["\u0275nov"](e,40).ngClassValid,l["\u0275nov"](e,40).ngClassInvalid,l["\u0275nov"](e,40).ngClassPending),n(e,42,0,l["\u0275nov"](e,9).form.valid||l["\u0275nov"](e,9).form.pristine),n(e,46,0,t.saving);var a=l["\u0275unv"](e,49,0,n(e,50,0,l["\u0275nov"](e,0),"Back"));n(e,49,0,a),n(e,51,0,!l["\u0275nov"](e,9).form.valid);var u=l["\u0275unv"](e,54,0,n(e,55,0,l["\u0275nov"](e,0),"Submit"));n(e,54,0,u)}))}function Xe(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Ye,We)),l["\u0275did"](1,114688,null,0,ze,[l.Injector,m.b,I.Router,I.ActivatedRoute,Nn,Fe.a,m.Uc],null,null)],(function(n,e){n(e,1,0)}),null)}var Qe=l["\u0275ccf"]("ng-component",ze,Xe,{},{},[]),Ze=function(n){function e(e,t,l){var i=n.call(this,e)||this;return i._accountService=t,i._router=l,i.model=new m.gd,i.saving=!1,i}return Object(g.__extends)(e,n),e.prototype.save=function(){var n=this;this.saving=!0,this._accountService.sendEmailActivationLink(this.model).pipe(Object(v.a)((function(){n.saving=!1}))).subscribe((function(){n.message.success(n.l("ActivationMailSentMessage"),n.l("MailSent")).then((function(){n._router.navigate(["account/login"])}))}))},e}(f.a),nt=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function et(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,38,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,37,"div",[["class","m-login__signin"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,32,"form",[["class","m-login__form m-form email-activation-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,9).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,9).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.save()&&i),i}),null,null)),l["\u0275did"](8,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](9,4210688,[["emailActivationForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](11,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](12,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,[" "," "])),l["\u0275ppd"](14,1),(n()(),l["\u0275eld"](15,0,null,null,13,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,10,"input",[["autocomplete","off"],["class","form-control form-control-solid placeholder-no-fix input-ltr"],["email",""],["maxlength","256"],["name","emailAddress"],["required",""],["type","email"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,17)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,17).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.model.emailAddress=t)&&i),i}),null,null)),l["\u0275did"](17,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](18,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](19,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275did"](20,16384,null,0,a.EmailValidator,[],{email:[0,"email"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e,t){return[n,e,t]}),[a.RequiredValidator,a.MaxLengthValidator,a.EmailValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](23,671744,[["emailAddressInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](25,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275ppd"](26,1),(n()(),l["\u0275eld"](27,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](28,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](29,0,null,null,10,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](30,0,null,null,4,"button",[["class","btn btn-outline-primary  m-btn m-btn--pill m-btn--custom"],["routerLink","/account/login"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,31).onClick()&&i),i}),null,null)),l["\u0275did"](31,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),(n()(),l["\u0275eld"](32,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(n()(),l["\u0275ted"](33,null,[" ",""])),l["\u0275ppd"](34,1),(n()(),l["\u0275eld"](35,0,null,null,4,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),l["\u0275did"](36,4276224,null,0,u.a,[l.ElementRef,c.a],{buttonBusy:[0,"buttonBusy"],busyText:[1,"busyText"]},null),(n()(),l["\u0275eld"](37,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null)),(n()(),l["\u0275ted"](38,null,[" ",""])),l["\u0275ppd"](39,1)],(function(n,e){var t=e.component;n(e,18,0,""),n(e,19,0,"256"),n(e,20,0,""),n(e,23,0,"emailAddress",t.model.emailAddress),n(e,28,0,l["\u0275nov"](e,23)),n(e,31,0,"/account/login"),n(e,36,0,t.saving,t.l("SavingWithThreeDot"))}),(function(n,e){var t=e.component;n(e,1,0,void 0);var i=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"EmailActivation"));n(e,5,0,i),n(e,7,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending);var r=l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e,0),"SendEmailActivationLink_Information"));n(e,13,0,r);var o=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,16,0,n(e,26,0,l["\u0275nov"](e,0),"EmailAddress"))," *");n(e,16,0,o,l["\u0275nov"](e,18).required?"":null,l["\u0275nov"](e,19).maxlength?l["\u0275nov"](e,19).maxlength:null,l["\u0275nov"](e,25).ngClassUntouched,l["\u0275nov"](e,25).ngClassTouched,l["\u0275nov"](e,25).ngClassPristine,l["\u0275nov"](e,25).ngClassDirty,l["\u0275nov"](e,25).ngClassValid,l["\u0275nov"](e,25).ngClassInvalid,l["\u0275nov"](e,25).ngClassPending),n(e,30,0,t.saving);var s=l["\u0275unv"](e,33,0,n(e,34,0,l["\u0275nov"](e,0),"Back"));n(e,33,0,s),n(e,35,0,!l["\u0275nov"](e,9).form.valid);var a=l["\u0275unv"](e,38,0,n(e,39,0,l["\u0275nov"](e,0),"Submit"));n(e,38,0,a)}))}function tt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,et,nt)),l["\u0275did"](1,49152,null,0,Ze,[l.Injector,m.b,I.Router],null,null)],null,null)}var lt=l["\u0275ccf"]("ng-component",Ze,tt,{},{},[]),it=function(n){function e(e,t,l,i){var r=n.call(this,e)||this;return r._accountService=t,r._router=l,r._activatedRoute=i,r.model=new m.c,r}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.waitMessage=this.l("PleaseWaitToConfirmYourEmailMessage"),this.model.c=this._activatedRoute.snapshot.queryParams.c,this._accountService.resolveTenantId(new m.Zc({c:this.model.c})).subscribe((function(e){n.appSession.changeTenantIfNeeded(e)||n._accountService.activateEmail(n.model).subscribe((function(){n.notify.success(n.l("YourEmailIsConfirmedMessage"),"",{onClose:function(){n._router.navigate(["account/login"])}})}))}))},e.prototype.parseTenantId=function(n){var e=n?parseInt(n,10):void 0;return NaN===e&&(e=void 0),e},e}(f.a),rt=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ot(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,(function(n,e){n(e,1,0,e.component.waitMessage)}))}function st(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,ot,rt)),l["\u0275did"](1,114688,null,0,it,[l.Injector,m.b,I.Router,I.ActivatedRoute],null,null)],(function(n,e){n(e,1,0)}),null)}var at=l["\u0275ccf"]("ng-component",it,st,{},{},[]),ut=function(n){function e(e,t,l,i){var r=n.call(this,e)||this;return r.loginService=t,r._tokenAuthService=l,r._router=i,r.submitting=!1,r}return Object(g.__extends)(e,n),e.prototype.canActivate=function(){return!!(this.loginService.authenticateModel&&this.loginService.authenticateResult&&this.loginService.authenticateResult.twoFactorAuthProviders&&this.loginService.authenticateResult.twoFactorAuthProviders.length)},e.prototype.ngOnInit=function(){this.canActivate()?this.selectedTwoFactorProvider=this.loginService.authenticateResult.twoFactorAuthProviders[0]:this._router.navigate(["account/login"])},e.prototype.submit=function(){var n=this,e=new m.kd;e.userId=this.loginService.authenticateResult.userId,e.provider=this.selectedTwoFactorProvider,this.submitting=!0,this._tokenAuthService.sendTwoFactorAuthCode(e).pipe(Object(v.a)((function(){return n.submitting=!1}))).subscribe((function(){n._router.navigate(["account/verify-code"])}))},e}(f.a),ct=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function dt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](1,147456,null,0,a.NgSelectOption,[l.ElementRef,l.Renderer2,[2,a.SelectControlValueAccessor]],{value:[0,"value"]},null),l["\u0275did"](2,147456,null,0,a["\u0275angular_packages_forms_forms_s"],[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),l["\u0275ted"](3,null,["",""]))],(function(n,e){n(e,1,0,e.context.$implicit),n(e,2,0,e.context.$implicit)}),(function(n,e){n(e,3,0,e.context.$implicit)}))}function pt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"form",[["class","m-login__form m-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,2).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,2).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.submit()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](2,4210688,[["twoFactorForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](4,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](5,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,["",""])),l["\u0275ppd"](7,1),(n()(),l["\u0275eld"](8,0,null,null,9,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,8,"select",[["autoFocus",""],["class","form-control"],["name","selectedTwoFactorProvider"],["size","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,10).onChange(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,10).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.selectedTwoFactorProvider=t)&&i),i}),null,null)),l["\u0275did"](10,16384,null,0,a.SelectControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.SelectControlValueAccessor]),l["\u0275did"](12,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](14,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](15,4210688,null,0,qn.a,[l.ElementRef],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,dt)),l["\u0275did"](17,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](18,0,null,null,3,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](19,0,null,null,2,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],null,null,null,null,null)),(n()(),l["\u0275ted"](20,null,["",""])),l["\u0275ppd"](21,1)],(function(n,e){var t=e.component;n(e,12,0,"selectedTwoFactorProvider",t.selectedTwoFactorProvider),n(e,17,0,t.loginService.authenticateResult.twoFactorAuthProviders)}),(function(n,e){n(e,0,0,l["\u0275nov"](e,4).ngClassUntouched,l["\u0275nov"](e,4).ngClassTouched,l["\u0275nov"](e,4).ngClassPristine,l["\u0275nov"](e,4).ngClassDirty,l["\u0275nov"](e,4).ngClassValid,l["\u0275nov"](e,4).ngClassInvalid,l["\u0275nov"](e,4).ngClassPending);var t=l["\u0275unv"](e,6,0,n(e,7,0,l["\u0275nov"](e.parent,0),"SendSecurityCode_Information"));n(e,6,0,t),n(e,9,0,l["\u0275nov"](e,14).ngClassUntouched,l["\u0275nov"](e,14).ngClassTouched,l["\u0275nov"](e,14).ngClassPristine,l["\u0275nov"](e,14).ngClassDirty,l["\u0275nov"](e,14).ngClassValid,l["\u0275nov"](e,14).ngClassInvalid,l["\u0275nov"](e,14).ngClassPending);var i=l["\u0275unv"](e,20,0,n(e,21,0,l["\u0275nov"](e.parent,0),"Submit"));n(e,20,0,i)}))}function ht(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,7,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,6,"div",[["class","m-login__signin"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275and"](16777216,null,null,1,null,pt)),l["\u0275did"](8,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,8,0,e.component.loginService.authenticateResult)}),(function(n,e){n(e,1,0,void 0);var t=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"SendSecurityCode"));n(e,5,0,t)}))}function gt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,ht,ct)),l["\u0275did"](1,114688,null,0,ut,[l.Injector,Nn,m.he,I.Router],null,null)],(function(n,e){n(e,1,0)}),null)}var ft=l["\u0275ccf"]("ng-component",ut,gt,{},{},[]),mt=t("gI3B"),vt=function(n){function e(e,t,l){var i=n.call(this,e)||this;return i.loginService=t,i._router=l,i.submitting=!1,i.remainingSeconds=90,i}return Object(g.__extends)(e,n),e.prototype.canActivate=function(){return!(!this.loginService.authenticateModel||!this.loginService.authenticateResult)},e.prototype.ngOnInit=function(){var n=this;if(this.canActivate()){var e=Object(mt.a)(1e3,1e3);this.timerSubscription=e.subscribe((function(){n.remainingSeconds=n.remainingSeconds-1,0===n.remainingSeconds&&n.message.warn(n.l("TimeoutPleaseTryAgain")).then((function(){n.loginService.authenticateModel.twoFactorVerificationCode=null,n._router.navigate(["account/login"])}))}))}else this._router.navigate(["account/login"])},e.prototype.ngOnDestroy=function(){this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=null)},e.prototype.submit=function(){this.loginService.authenticateModel.twoFactorVerificationCode=this.code,this.loginService.authenticate()},e}(f.a),yt=l["\u0275crt"]({encapsulation:0,styles:[[".remaining-time-counter[_ngcontent-%COMP%]{margin-left:10px;color:red}"]],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function St(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"span",[["class","remaining-time-counter"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",": ","."])),l["\u0275ppd"](2,1),l["\u0275ppd"](3,2)],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent,0),"RemainingTime")),r=l["\u0275unv"](e,1,1,n(e,3,0,l["\u0275nov"](e.parent,0),"SecondShort{0}",t.remainingSeconds));n(e,1,0,i,r)}))}function bt(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,41,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,40,"div",[["class","m-login__signin"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,35,"form",[["class","m-login__form m-form verify-security-code-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,9).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,9).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.submit()&&i),i}),null,null)),l["\u0275did"](8,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](9,4210688,[["twoFactorForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](11,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](12,0,null,null,13,"div",[["class","form-group m-form__group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,10,"input",[["autoFocus",""],["autocomplete","off"],["class","form-control form-control-solid placeholder-no-fix input-ltr"],["maxlength","16"],["name","code"],["required",""],["type","password"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,14)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,14)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.code=t)&&i),i}),null,null)),l["\u0275did"](14,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](15,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](16,540672,null,0,a.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.MaxLengthValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](19,671744,[["passwordInput",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](21,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),l["\u0275did"](22,4210688,null,0,qn.a,[l.ElementRef],null,null),l["\u0275ppd"](23,1),(n()(),l["\u0275eld"](24,0,null,null,1,"validation-messages",[],null,null,null,Un.b,Un.a)),l["\u0275did"](25,49152,null,0,Mn.a,[c.a],{formCtrl:[0,"formCtrl"]},null),(n()(),l["\u0275eld"](26,0,null,null,10,"div",[["class","form-group margin-top-20"]],null,null,null,null,null)),(n()(),l["\u0275eld"](27,0,null,null,9,"label",[["class","m-checkbox"]],null,null,null,null,null)),(n()(),l["\u0275eld"](28,0,null,null,5,"input",[["class","form-control"],["name","rememberClient"],["type","checkbox"],["value","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,29).onChange(t.target.checked)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,29).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.loginService.authenticateModel.rememberClient=t)&&i),i}),null,null)),l["\u0275did"](29,16384,null,0,a.CheckboxControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.CheckboxControlValueAccessor]),l["\u0275did"](31,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](33,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275ted"](34,null,[""," "])),l["\u0275ppd"](35,1),(n()(),l["\u0275eld"](36,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](37,0,null,null,5,"div",[["class","m-login__form-action"]],null,null,null,null,null)),(n()(),l["\u0275eld"](38,0,null,null,2,"button",[["class","btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),l["\u0275ted"](39,null,["",""])),l["\u0275ppd"](40,1),(n()(),l["\u0275and"](16777216,null,null,1,null,St)),l["\u0275did"](42,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,15,0,""),n(e,16,0,"16"),n(e,19,0,"code",t.code),n(e,25,0,l["\u0275nov"](e,19)),n(e,31,0,"rememberClient",t.loginService.authenticateModel.rememberClient),n(e,42,0,t.remainingSeconds>=0)}),(function(n,e){n(e,1,0,void 0);var t=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"VerifySecurityCode"));n(e,5,0,t),n(e,7,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending);var i=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](e,13,0,n(e,23,0,l["\u0275nov"](e,0),"Code"))," *");n(e,13,0,i,l["\u0275nov"](e,15).required?"":null,l["\u0275nov"](e,16).maxlength?l["\u0275nov"](e,16).maxlength:null,l["\u0275nov"](e,21).ngClassUntouched,l["\u0275nov"](e,21).ngClassTouched,l["\u0275nov"](e,21).ngClassPristine,l["\u0275nov"](e,21).ngClassDirty,l["\u0275nov"](e,21).ngClassValid,l["\u0275nov"](e,21).ngClassInvalid,l["\u0275nov"](e,21).ngClassPending),n(e,28,0,l["\u0275nov"](e,33).ngClassUntouched,l["\u0275nov"](e,33).ngClassTouched,l["\u0275nov"](e,33).ngClassPristine,l["\u0275nov"](e,33).ngClassDirty,l["\u0275nov"](e,33).ngClassValid,l["\u0275nov"](e,33).ngClassInvalid,l["\u0275nov"](e,33).ngClassPending);var r=l["\u0275unv"](e,34,0,n(e,35,0,l["\u0275nov"](e,0),"RememberThisBrowser"));n(e,34,0,r),n(e,38,0,!l["\u0275nov"](e,9).form.valid);var o=l["\u0275unv"](e,39,0,n(e,40,0,l["\u0275nov"](e,0),"Submit"));n(e,39,0,o)}))}function Ct(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,bt,yt)),l["\u0275did"](1,245760,null,0,vt,[l.Injector,Nn,I.Router],null,null)],(function(n,e){n(e,1,0)}),null)}var Et=l["\u0275ccf"]("ng-component",vt,Ct,{},{},[]),xt=function(){function n(){}return n.prototype.getPaymentGatewayType=function(n){return parseInt(n)===m.Jd.Paypal?"Paypal":"Stripe"},n.prototype.getEditionPaymentType=function(n){return parseInt(n)===m.jb.BuyNow?"BuyNow":parseInt(n)===m.jb.Extend?"Extend":parseInt(n)===m.jb.NewRegistration?"NewRegistration":"Upgrade"},n}(),wt=function(n){function e(e,t,l,i,r,o){var s=n.call(this,e)||this;return s._activatedRoute=t,s._router=l,s._paymnetHelperService=i,s._paymentAppService=r,s._tenantRegistrationService=o,s.edition=new m.kb,s.tenantId=abp.session.tenantId,s.paymentPeriodType=m.Fc,s.selectedPaymentPeriodType=m.Fc.Monthly,s.subscriptionPaymentGateway=m.Jd,s.supportsRecurringPayments=!1,s.recurringPaymentEnabled=!1,s.editionId=0,s}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this,e=parseInt(this._activatedRoute.snapshot.queryParams.tenantId);abp.multiTenancy.setTenantIdCookie(e),this.editionPaymentType=this._activatedRoute.snapshot.queryParams.editionPaymentType,this.editionId=this._activatedRoute.snapshot.queryParams.editionId,this._tenantRegistrationService.getEdition(this.editionId).subscribe((function(e){n.edition=e})),this._paymentAppService.getActiveGateways(void 0).subscribe((function(e){n.paymentGateways=e,n.supportsRecurringPayments=e.some((function(n){return n.supportsRecurringPayments}))}))},e.prototype.checkout=function(n){var e=this,t={};t.editionId=this.editionId,t.editionPaymentType=this.editionPaymentType,t.paymentPeriodType=this.selectedPaymentPeriodType,t.recurringPaymentEnabled=this.recurringPaymentEnabled,t.subscriptionPaymentGatewayType=n,t.successUrl=k.a.remoteServiceBaseUrl+"/api/services/app/payment/"+this._paymnetHelperService.getEditionPaymentType(this.editionPaymentType)+"Succeed",t.errorUrl=k.a.remoteServiceBaseUrl+"/api/services/app/payment/PaymentFailed",this._paymentAppService.createPayment(t).subscribe((function(t){e._router.navigate(["account/"+e.getPaymentGatewayType(n).toLocaleLowerCase()+"-purchase"],{queryParams:{paymentId:t,redirectUrl:"account/register-tenant-result"}})}))},e.prototype.getPaymentGatewayType=function(n){return this._paymnetHelperService.getPaymentGatewayType(n)},e.prototype.onPaymentPeriodChangeChange=function(n){this.selectedPaymentPeriodType=n},e}(f.a),At=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function _t(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"label",[["class","m-radio"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"input",[["checked",""],["class","form-control"],["name","PaymentPeriodType"],["type","radio"]],[[8,"value",0]],[[null,"change"]],(function(n,e,t){var l=!0,i=n.component;return"change"===e&&(l=!1!==i.onPaymentPeriodChangeChange(i.paymentPeriodType.Monthly)&&l),l}),null,null)),(n()(),l["\u0275ted"](3,null,["",": ",""," "])),l["\u0275ppd"](4,1),l["\u0275ppd"](5,2),(n()(),l["\u0275eld"](6,0,null,null,0,"span",[],null,null,null,null,null))],null,(function(n,e){var t=e.component;n(e,2,0,t.paymentPeriodType.Monthly);var i=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e.parent,0),"MonthlyPrice")),r=t.appSession.application.currencySign,o=l["\u0275unv"](e,3,2,n(e,5,0,l["\u0275nov"](e.parent,1),t.edition.monthlyPrice,"1.2-2"));n(e,3,0,i,r,o)}))}function Tt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,5,"label",[["class","m-radio"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"input",[["class","form-control"],["name","PaymentPeriodType"],["type","radio"]],[[8,"value",0]],[[null,"change"]],(function(n,e,t){var l=!0,i=n.component;return"change"===e&&(l=!1!==i.onPaymentPeriodChangeChange(i.paymentPeriodType.Annual)&&l),l}),null,null)),(n()(),l["\u0275ted"](3,null,["",": ",""," "])),l["\u0275ppd"](4,1),l["\u0275ppd"](5,2),(n()(),l["\u0275eld"](6,0,null,null,0,"span",[],null,null,null,null,null))],null,(function(n,e){var t=e.component;n(e,2,0,t.paymentPeriodType.Annual);var i=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e.parent,0),"AnnualPrice")),r=t.appSession.application.currencySign,o=l["\u0275unv"](e,3,2,n(e,5,0,l["\u0275nov"](e.parent,1),t.edition.annualPrice,"1.2-2"));n(e,3,0,i,r,o)}))}function It(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,9,"label",[["class","m-checkbox margin-bottom-0"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"input",[["class","form-control"],["name","RecurringPaymentEnabled"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,3).onChange(t.target.checked)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,3).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.recurringPaymentEnabled=t)&&i),i}),null,null)),l["\u0275did"](3,16384,null,0,a.CheckboxControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.CheckboxControlValueAccessor]),l["\u0275did"](5,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](7,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275ted"](8,null,[" "," "])),l["\u0275ppd"](9,1),(n()(),l["\u0275eld"](10,0,null,null,0,"span",[],null,null,null,null,null))],(function(n,e){n(e,5,0,"RecurringPaymentEnabled",e.component.recurringPaymentEnabled)}),(function(n,e){n(e,2,0,l["\u0275nov"](e,7).ngClassUntouched,l["\u0275nov"](e,7).ngClassTouched,l["\u0275nov"](e,7).ngClassPristine,l["\u0275nov"](e,7).ngClassDirty,l["\u0275nov"](e,7).ngClassValid,l["\u0275nov"](e,7).ngClassInvalid,l["\u0275nov"](e,7).ngClassPending);var t=l["\u0275unv"](e,8,0,n(e,9,0,l["\u0275nov"](e.parent,0),"AutomaticallyBillMyAccount"));n(e,8,0,t)}))}function Rt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-success btn-block"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.checkout(n.parent.context.$implicit.gatewayType)&&l),l}),null,null)),(n()(),l["\u0275ted"](1,null,["",""])),l["\u0275ppd"](2,1)],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent.parent,0),"CheckoutWith"+t.getPaymentGatewayType(e.parent.context.$implicit.gatewayType)));n(e,1,0,i)}))}function Nt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Rt)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,e.context.$implicit.supportsRecurringPayments||!e.component.recurringPaymentEnabled)}),null)}function Ft(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),(n()(),l["\u0275eld"](2,0,null,null,21,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,16,"form",[["class","buy-edition-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,9).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,9).onReset()&&i),i}),null,null)),l["\u0275did"](8,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](9,4210688,null,0,a.NgForm,[[8,null],[8,null]],null,null),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](11,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","text-center m--margin-bottom-20"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,["(",": ",")"])),l["\u0275ppd"](14,1),(n()(),l["\u0275and"](16777216,null,null,1,null,_t)),l["\u0275did"](16,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Tt)),l["\u0275did"](18,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](19,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,It)),l["\u0275did"](21,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Nt)),l["\u0275did"](23,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,16,0,t.edition.monthlyPrice),n(e,18,0,t.edition.annualPrice),n(e,21,0,t.supportsRecurringPayments),n(e,23,0,t.paymentGateways)}),(function(n,e){var t=e.component;n(e,2,0,void 0);var i=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"PaymentInfo"));n(e,5,0,i),n(e,7,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending);var r=l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e,0),"Edition"));n(e,13,0,r,t.edition.displayName)}))}function Pt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Ft,At)),l["\u0275did"](1,114688,null,0,wt,[l.Injector,I.ActivatedRoute,I.Router,xt,m.Gc,m.Sd],null,null)],(function(n,e){n(e,1,0)}),null)}var Ot=l["\u0275ccf"]("ng-component",wt,Pt,{},{},[]),Dt=function(n){function e(e,t,l,i,r){var o=n.call(this,e)||this;return o._router=t,o._paymnetHelperService=l,o._activatedRoute=i,o._paymentAppService=r,o.edition=new m.kb,o.tenantId=abp.session.tenantId,o.paymentPeriodType=m.Fc,o.subscriptionPaymentGateway=m.Jd,o.selectedPaymentPeriodType=m.Fc.Monthly,o.editionPaymentTypeCheck=m.jb,o}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.editionPaymentType=parseInt(this._activatedRoute.snapshot.queryParams.editionPaymentType),this._paymentAppService.getPaymentInfo(void 0).subscribe((function(e){n.edition=e.edition,n.additionalPrice=Number(e.additionalPrice.toFixed(2))})),this._paymentAppService.getActiveGateways(void 0).subscribe((function(e){n.paymentGateways=e}))},e.prototype.checkout=function(n){var e=this,t={};t.editionId=this.edition.id,t.editionPaymentType=this.editionPaymentType,t.paymentPeriodType=this.selectedPaymentPeriodType,t.recurringPaymentEnabled=!1,t.subscriptionPaymentGatewayType=n,t.successUrl=k.a.remoteServiceBaseUrl+"/api/services/app/payment/"+this._paymnetHelperService.getEditionPaymentType(this.editionPaymentType)+"Succeed",t.errorUrl=k.a.remoteServiceBaseUrl+"/api/services/app/payment/PaymentFailed",this._paymentAppService.createPayment(t).subscribe((function(t){e._router.navigate(["account/"+e.getPaymentGatewayType(n).toLocaleLowerCase()+"-purchase"],{queryParams:{paymentId:t,redirectUrl:"app/admin/subscription-management"}})}))},e.prototype.getPaymentGatewayType=function(n){return this._paymnetHelperService.getPaymentGatewayType(n)},e.prototype.onPaymentPeriodChangeChange=function(n){this.selectedPaymentPeriodType=n},e.prototype.isUpgrade=function(){return this.additionalPrice>0},e}(f.a),kt=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function Vt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"button",[["class","btn btn-success btn-block"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.checkout(n.context.$implicit.gatewayType)&&l),l}),null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1)],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"CheckoutWith"+t.getPaymentGatewayType(e.context.$implicit.gatewayType)));n(e,2,0,i)}))}function Lt(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),(n()(),l["\u0275eld"](2,0,null,null,28,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,23,"form",[["asp-action","PaymentResult"],["class","register-form"],["id","formPaymentResult"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,9).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,9).onReset()&&i),i}),null,null)),l["\u0275did"](8,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](9,4210688,null,0,a.NgForm,[[8,null],[8,null]],null,null),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](11,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,["",""])),l["\u0275ppd"](14,2),(n()(),l["\u0275eld"](15,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,5,"label",[["class","m-radio"]],null,null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,0,"input",[["checked",""],["class","form-control"],["name","PaymentPeriodType"],["type","radio"]],[[8,"value",0]],[[null,"change"]],(function(n,e,t){var l=!0,i=n.component;return"change"===e&&(l=!1!==i.onPaymentPeriodChangeChange(i.paymentPeriodType.Monthly)&&l),l}),null,null)),(n()(),l["\u0275ted"](18,null,["",": ",""," "])),l["\u0275ppd"](19,1),l["\u0275ppd"](20,2),(n()(),l["\u0275eld"](21,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,5,"label",[["class","m-radio"]],null,null,null,null,null)),(n()(),l["\u0275eld"](24,0,null,null,0,"input",[["class","form-control"],["name","PaymentPeriodType"],["type","radio"]],[[8,"value",0]],[[null,"change"]],(function(n,e,t){var l=!0,i=n.component;return"change"===e&&(l=!1!==i.onPaymentPeriodChangeChange(i.paymentPeriodType.Annual)&&l),l}),null,null)),(n()(),l["\u0275ted"](25,null,["",": ",""," "])),l["\u0275ppd"](26,1),l["\u0275ppd"](27,2),(n()(),l["\u0275eld"](28,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Vt)),l["\u0275did"](30,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,30,0,e.component.paymentGateways)}),(function(n,e){var t=e.component;n(e,2,0,void 0);var i=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"PaymentInfo"));n(e,5,0,i),n(e,7,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending);var r=l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e,0),"Extend_Edition_Description",t.edition.displayName));n(e,13,0,r),n(e,17,0,t.paymentPeriodType.Monthly);var o=l["\u0275unv"](e,18,0,n(e,19,0,l["\u0275nov"](e,0),"MonthlyPrice")),s=t.appSession.application.currencySign,a=l["\u0275unv"](e,18,2,n(e,20,0,l["\u0275nov"](e,1),t.edition.monthlyPrice,"1.2-2"));n(e,18,0,o,s,a),n(e,24,0,t.paymentPeriodType.Annual);var u=l["\u0275unv"](e,25,0,n(e,26,0,l["\u0275nov"](e,0),"AnnualPrice")),c=t.appSession.application.currencySign,d=l["\u0275unv"](e,25,2,n(e,27,0,l["\u0275nov"](e,1),t.edition.annualPrice,"1.2-2"));n(e,25,0,u,c,d)}))}function Ht(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Lt,kt)),l["\u0275did"](1,114688,null,0,Dt,[l.Injector,I.Router,xt,I.ActivatedRoute,m.Gc],null,null)],(function(n,e){n(e,1,0)}),null)}var Bt=l["\u0275ccf"]("ng-component",Dt,Ht,{},{},[]),Ut=function(n){function e(e,t,l,i,r){var o=n.call(this,e)||this;return o._router=t,o._paymnetHelperService=l,o._activatedRoute=i,o._paymentAppService=r,o.subscriptionPaymentType=m.Kd,o.subscriptionStartType=m.Md,o.edition=new m.kb,o.tenantId=abp.session.tenantId,o.subscriptionPaymentGateway=m.Jd,o.editionPaymentTypeCheck=m.jb,o}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.editionPaymentType=parseInt(this._activatedRoute.snapshot.queryParams.editionPaymentType),this.upgradeEditionId=this._activatedRoute.snapshot.queryParams.upgradeEditionId,this.appSession.tenant.edition.isFree&&this._router.navigate(["account/buy"],{queryParams:{tenantId:this.appSession.tenant.id,editionPaymentType:this.editionPaymentType,editionId:this.upgradeEditionId,subscriptionStartType:this.subscriptionStartType.Paid}}),this._paymentAppService.getPaymentInfo(this.upgradeEditionId).subscribe((function(e){n.edition=e.edition,n.additionalPrice=Number(e.additionalPrice.toFixed(2))})),this._paymentAppService.getLastCompletedPayment().subscribe((function(e){var t=new m.Ec;t.gatewayType=e.gateway,t.supportsRecurringPayments=!0,n.paymentGateways=[t],n.paymentPeriodType=e.paymentPeriodType,n.appSession.tenant.subscriptionPaymentType===n.subscriptionPaymentType.Manual&&n._paymentAppService.getActiveGateways(void 0).subscribe((function(e){n.paymentGateways=e}))}))},e.prototype.checkout=function(n){var e=this,t=new m.Z;t.editionId=this.edition.id,t.editionPaymentType=this.editionPaymentType,t.paymentPeriodType=this.paymentPeriodType,t.recurringPaymentEnabled=this.hasRecurringSubscription(),t.subscriptionPaymentGatewayType=n,t.successUrl=k.a.remoteServiceBaseUrl+"/api/services/app/payment/"+this._paymnetHelperService.getEditionPaymentType(this.editionPaymentType)+"Succeed",t.errorUrl=k.a.remoteServiceBaseUrl+"/api/services/app/payment/PaymentFailed",this._paymentAppService.createPayment(t).subscribe((function(t){e._router.navigate(["account/"+e.getPaymentGatewayType(n).toLocaleLowerCase()+"-purchase"],{queryParams:{paymentId:t,isUpgrade:!0,redirectUrl:"app/admin/subscription-management"}})}))},e.prototype.getPaymentGatewayType=function(n){return this._paymnetHelperService.getPaymentGatewayType(n)},e.prototype.hasRecurringSubscription=function(){return this.appSession.tenant.subscriptionPaymentType!==this.subscriptionPaymentType.Manual},e}(f.a),Mt=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function qt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","form-actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"label",[["class","col-sm-12 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,["",""])),l["\u0275ppd"](4,1)],null,(function(n,e){var t=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e.parent,0),"RecurringSubscriptionUpgradeNote"));n(e,3,0,t)}))}function jt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"div",[["class","form-actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"label",[["class","col-sm-8 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](3,null,["",""])),l["\u0275ppd"](4,1),(n()(),l["\u0275eld"](5,0,null,null,3,"div",[["class","col-sm-4 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,2,"p",[["class","m--font-bold"],["id","totalPrice"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,[" ",""," "])),l["\u0275ppd"](8,2)],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,3,0,n(e,4,0,l["\u0275nov"](e.parent,0),"Total"));n(e,3,0,i);var r=t.appSession.application.currencySign,o=l["\u0275unv"](e,7,1,n(e,8,0,l["\u0275nov"](e.parent,1),t.additionalPrice,"1.2-2"));n(e,7,0,r,o)}))}function Kt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"button",[["class","btn btn-success btn-block"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.checkout(n.context.$implicit.gatewayType)&&l),l}),null,null)),(n()(),l["\u0275ted"](2,null,["",""])),l["\u0275ppd"](3,1)],null,(function(n,e){var t=e.component,i=l["\u0275unv"](e,2,0,n(e,3,0,l["\u0275nov"](e.parent,0),"CheckoutWith"+t.getPaymentGatewayType(e.context.$implicit.gatewayType)));n(e,2,0,i)}))}function Gt(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),(n()(),l["\u0275eld"](2,0,null,null,19,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,3,"div",[["class","m-login__head"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,2,"h3",[["class","m-login__title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275ppd"](6,1),(n()(),l["\u0275eld"](7,0,null,null,14,"form",[["asp-action","PaymentResult"],["class","register-form"],["id","formPaymentResult"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0;return"submit"===e&&(i=!1!==l["\u0275nov"](n,9).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,9).onReset()&&i),i}),null,null)),l["\u0275did"](8,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](9,4210688,null,0,a.NgForm,[[8,null],[8,null]],null,null),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](11,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","text-center m--margin-bottom-20"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,["",""])),l["\u0275ppd"](14,2),(n()(),l["\u0275eld"](15,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,qt)),l["\u0275did"](17,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,jt)),l["\u0275did"](19,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Kt)),l["\u0275did"](21,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var t=e.component;n(e,17,0,t.hasRecurringSubscription()),n(e,19,0,!t.hasRecurringSubscription()),n(e,21,0,t.paymentGateways)}),(function(n,e){var t=e.component;n(e,2,0,void 0);var i=l["\u0275unv"](e,5,0,n(e,6,0,l["\u0275nov"](e,0),"PaymentInfo"));n(e,5,0,i),n(e,7,0,l["\u0275nov"](e,11).ngClassUntouched,l["\u0275nov"](e,11).ngClassTouched,l["\u0275nov"](e,11).ngClassPristine,l["\u0275nov"](e,11).ngClassDirty,l["\u0275nov"](e,11).ngClassValid,l["\u0275nov"](e,11).ngClassInvalid,l["\u0275nov"](e,11).ngClassPending);var r=l["\u0275unv"](e,13,0,n(e,14,0,l["\u0275nov"](e,0),"Upgrade_Edition_Description",t.edition.displayName));n(e,13,0,r)}))}function zt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Gt,Mt)),l["\u0275did"](1,114688,null,0,Ut,[l.Injector,I.Router,xt,I.ActivatedRoute,m.Gc],null,null)],(function(n,e){n(e,1,0)}),null)}var Wt=l["\u0275ccf"]("ng-component",Ut,zt,{},{},[]),$t=function(n){function e(e,t,l,i){var r=n.call(this,e)||this;return r._tenantRegistrationService=t,r._subscriptionService=l,r._router=i,r.editionsSelectOutput=new m.mb,r.isUserLoggedIn=!1,r.isSetted=!1,r.editionPaymentType=m.jb,r.subscriptionStartType=m.Md,r.editionIcons=["flaticon-open-box","flaticon-rocket","flaticon-gift","flaticon-confetti","flaticon-cogwheel-2","flaticon-app","flaticon-coins","flaticon-piggy-bank","flaticon-bag","flaticon-lifebuoy","flaticon-technology-1","flaticon-cogwheel-1","flaticon-infinity","flaticon-interface-5","flaticon-squares-3","flaticon-interface-6","flaticon-mark","flaticon-business","flaticon-interface-7","flaticon-list-2","flaticon-bell","flaticon-technology","flaticon-squares-2","flaticon-notes","flaticon-profile","flaticon-layers","flaticon-interface-4","flaticon-signs","flaticon-menu-1","flaticon-symbol"],r}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.isUserLoggedIn=abp.session.userId>0,this._tenantRegistrationService.getEditionsForSelect().subscribe((function(e){n.editionsSelectOutput=e,(!n.editionsSelectOutput.editionsWithFeatures||n.editionsSelectOutput.editionsWithFeatures.length<=0)&&n._router.navigate(["/account/register-tenant"])}))},e.prototype.isFree=function(n){return!n.monthlyPrice&&!n.annualPrice},e.prototype.isTrueFalseFeature=function(n){return"CHECKBOX"===n.inputType.name},e.prototype.featureEnabledForEdition=function(n,e){var t=R.filter(e.featureValues,{name:n.name});return!(!t||t.length<=0)&&"true"===t[0].value.toLowerCase()},e.prototype.getFeatureValueForEdition=function(n,e){var t=R.filter(e.featureValues,{name:n.name});return!t||t.length<=0?"":t[0].value},e.prototype.canUpgrade=function(n){return this.appSession.tenant.edition.id!==n.id&&this.isUserLoggedIn&&this.appSession.tenant.edition&&(this.appSession.tenant.edition.monthlyPrice?this.appSession.tenant.edition.monthlyPrice:0)<=(n&&n.monthlyPrice?n.monthlyPrice:0)},e.prototype.upgrade=function(n,e){var t=this;e===m.jb.Upgrade&&this.upgradeIsFree(n)?this._subscriptionService.upgradeTenantToEquivalentEdition(n.id).subscribe((function(){t._router.navigate(["app/admin/subscription-management"])})):this._router.navigate(["/account/upgrade"],{queryParams:{upgradeEditionId:n.id,editionPaymentType:e}})},e.prototype.upgradeIsFree=function(n){return!(!this.appSession.tenant||!this.appSession.tenant.edition)&&(this.appSession.tenant.edition.isFree&&n.isFree||!n.isFree&&n.monthlyPrice===this.appSession.tenant.edition.monthlyPrice&&n.annualPrice===this.appSession.tenant.edition.annualPrice)},e}(f.a),Jt=l["\u0275crt"]({encapsulation:2,styles:[[".row-centered{text-align:center;display:block!important}.col-centered{display:inline-table;float:none;text-align:left;margin-right:-4px}.m-pricing-table-1__btn,.m-pricing-table-1__price,.m-pricing-table-1__subtitle{text-align:center}body{background-color:#f2f3f8}div.m-content div.m-login__logo{margin-bottom:50px!important}.m-pricing-table-1__item:nth-child(4n){border-right:none!important}.m-pricing-table-1 .m-pricing-table-1__items .m-pricing-table-1__item .m-pricing-table-1__price{font-size:2rem!important}button:disabled,button[disabled]{cursor:not-allowed!important}"],[".pricing-content-1{background-color:#fff}.pricing-content-1:after,.pricing-content-1:before{content:\" \";display:table}.pricing-content-1:after{clear:both}.pricing-content-1 .arrow-down{width:0;height:0;border-left:15px solid transparent;border-right:15px solid transparent;border-top:15px solid;margin:auto}.pricing-content-1 .arrow-down.arrow-blue{border-top-color:#3598dc}.pricing-content-1 .arrow-down.arrow-green{border-top-color:#32c5d2}.pricing-content-1 .arrow-down.arrow-dark{border-top-color:#2f353b}.pricing-content-1 .arrow-down.arrow-grey{border-top-color:#f7f9fb}.pricing-content-1 .price-ribbon{position:absolute;top:75px;right:-4px;width:90px;font-size:14px;text-transform:uppercase;font-weight:300;padding:6px 20px 6px 15px;color:#fff;background-color:#d91e18;text-shadow:0 1px 2px #bbb;box-shadow:0 2px 4px #888}.pricing-content-1 .price-ribbon:after{content:' ';position:absolute;width:0;height:0;right:0;top:100%;border-width:5px 10px;border-style:solid;border-color:#64120f transparent transparent #64120f}.pricing-content-1 .pricing-title{border-bottom:1px solid;border-color:#fff}.pricing-content-1 .pricing-title>h1{margin:20px 0}.pricing-content-1 .price-column-container{text-align:center;margin:0;background-color:#fff}.pricing-content-1 .price-column-container.border-active{border:1px solid #e5e9ee}.pricing-content-1 .price-column-container:first-child{margin-left:0}.pricing-content-1 .price-column-container:last-child{margin-right:0}.pricing-content-1 .price-table-head{color:#fff;padding:20px 0}.pricing-content-1 .price-table-head h2{font-size:26px}.pricing-content-1 .price-table-head.price-1{background-color:#3598dc}.pricing-content-1 .price-table-head.price-2{background-color:#32c5d2}.pricing-content-1 .price-table-head.price-3{background-color:#2f353b}.pricing-content-1 .price-table-pricing>h3{font-size:60px;position:relative}.pricing-content-1 .price-table-pricing>h3>.price-sign{font-size:24px;position:absolute;margin-left:-15px}.pricing-content-1 .price-table-pricing>p{margin-top:0}.pricing-content-1 .price-table-content{background-color:#f7f9fb;color:#5c6d7e;font-weight:600;font-size:16px}.pricing-content-1 .price-table-content .row{padding-top:10px;padding-bottom:10px}.pricing-content-1 .price-table-content .row i{color:#6cade6}.pricing-content-1 .price-table-content .row:first-child{padding-top:20px}.pricing-content-1 .price-table-content .row:last-child{padding-bottom:20px}.pricing-content-1 .price-table-footer{padding:20px 0}.pricing-content-1 .price-table-footer>.price-button{font-weight:700;padding:10px 20px}@media (max-width:1024px){.pricing-content-1 .mobile-padding{padding:0 15px;margin:0 -15px}.pricing-content-1 .mobile-padding>i{margin-right:20px}.pricing-content-1 .price-table-content{padding-left:15px;padding-right:15px}}.pricing-content-2{background-color:#fff}.pricing-content-2 .no-padding{padding:0}.pricing-content-2 .text-left{text-align:left}.pricing-content-2 .text-right{text-align:right}.pricing-content-2.pricing-bg-dark{background-color:#2f353b}.pricing-content-2 .pricing-title{border-color:#444}.pricing-content-2 .pricing-title>h1{color:#fff}.pricing-content-2 .pricing-table-container{padding-top:40px;padding-bottom:40px}.pricing-content-2 .pricing-table-container .padding-fix{padding-left:15px;padding-right:15px}.pricing-content-2 .pricing-table-container .price-column-container{background-color:#fff;margin:30px 0;padding:60px 0;text-align:center;border-bottom:4px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.border-right{border-right:1px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.border-left{border-left:1px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.border-top{border-top:1px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.featured-price{margin:0;padding:89px 0;border:1px solid #ccc;border-bottom:4px solid}.pricing-content-2 .pricing-table-container .price-column-container.featured-price>.price-feature-label{position:absolute;top:0;left:50%;display:inline-block;width:110px;margin:0 0 0 -60px;padding:7px 15px;color:#fff;font-weight:300}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-head>h2{letter-spacing:1px;font-weight:600;font-size:18px;color:#acb5c3}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-head>h2.opt-pricing-5{padding:7px 15px;display:inline;margin:0 auto 20px;font-size:16px}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-pricing>h3{font-size:60px;position:relative;font-weight:600}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-pricing>h3>.price-sign{font-size:24px;position:absolute;margin-left:-15px}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-pricing>p{margin-top:0}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-content{color:#333;font-weight:300;font-size:16px}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-content .row{padding-top:20px;padding-bottom:20px;border-bottom:1px solid;border-color:#eee}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-content .row:first-child{border-top:1px solid;border-color:#eee}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-footer{padding:40px 0 0}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-footer>.featured-price{font-size:20px;font-weight:300;border-bottom:3px solid #3faba4}@media (max-width:991px){.pricing-content-2 .price-column-container{border-left:1px solid;border-right:1px solid;border-color:#ccc}}"]],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function Yt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"h2",[["class","m-pricing-table-1__subtitle"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,1)],null,(function(n,e){var t=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent.parent,0),"Free"));n(e,1,0,t)}))}function Xt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"h2",[["class","m-pricing-table-1__subtitle"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","m-pricing-table-1__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,["",""])),(n()(),l["\u0275ted"](3,null,[" "," "," / "])),l["\u0275ppd"](4,1),(n()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","m-pricing-table-1__label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,["",""])),(n()(),l["\u0275ted"](7,null,[""," "," "])),l["\u0275ppd"](8,1)],null,(function(n,e){var t=e.component;n(e,2,0,t.appSession.application.currencySign);var i=e.parent.context.$implicit.edition.monthlyPrice,r=l["\u0275unv"](e,3,1,n(e,4,0,l["\u0275nov"](e.parent.parent,0),"PerMonth"));n(e,3,0,i,r),n(e,6,0,t.appSession.application.currencySign);var o=e.parent.context.$implicit.edition.annualPrice,s=l["\u0275unv"](e,7,1,n(e,8,0,l["\u0275nov"](e.parent.parent,0),"PerYear"));n(e,7,0,o,s)}))}function Qt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"i",[["class","la la-check m--font-success"]],null,null,null,null,null))],null,null)}function Zt(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"i",[["class","la la-times m--font-metal"]],null,null,null,null,null))],null,null)}function nl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Qt)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Zt)),l["\u0275did"](4,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](0,null,null,0))],(function(n,e){var t=e.component;n(e,2,0,t.featureEnabledForEdition(e.parent.context.$implicit,e.parent.parent.context.$implicit)),n(e,4,0,!t.featureEnabledForEdition(e.parent.context.$implicit,e.parent.parent.context.$implicit))}),null)}function el(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,(function(n,e){n(e,1,0,e.parent.context.$implicit.displayName)}))}function tl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"i",[["class","la la-check m--font-success"]],null,null,null,null,null))],null,null)}function ll(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,["",":",""]))],null,(function(n,e){n(e,1,0,e.parent.context.$implicit.displayName,e.component.getFeatureValueForEdition(e.parent.context.$implicit,e.parent.parent.context.$implicit))}))}function il(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,nl)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,el)),l["\u0275did"](4,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,tl)),l["\u0275did"](6,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ll)),l["\u0275did"](8,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](9,0,null,null,0,"br",[],null,null,null,null,null))],(function(n,e){var t=e.component;n(e,2,0,t.isTrueFalseFeature(e.context.$implicit)),n(e,4,0,t.isTrueFalseFeature(e.context.$implicit)),n(e,6,0,!t.isTrueFalseFeature(e.context.$implicit)),n(e,8,0,!t.isTrueFalseFeature(e.context.$implicit))}),null)}function rl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-warning m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],[[8,"disabled",0]],[[null,"click"]],(function(n,e,t){var l=!0,i=n.component;return"click"===e&&(l=!1!==i.upgrade(n.parent.context.$implicit.edition,i.editionPaymentType.Upgrade)&&l),l}),null,null)),(n()(),l["\u0275ted"](1,null,[" "," "])),l["\u0275ppd"](2,1)],null,(function(n,e){n(e,0,0,!e.component.canUpgrade(e.parent.context.$implicit.edition));var t=l["\u0275unv"](e,1,0,n(e,2,0,l["\u0275nov"](e.parent.parent,0),"Upgrade"));n(e,1,0,t)}))}function ol(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"button",[["class","btn btn-success m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"],["href","#"]],null,[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,1).onClick()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l["\u0275pod"](2,{editionId:0,subscriptionStartType:1}),l["\u0275pad"](3,1),(n()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275ppd"](5,1)],(function(n,e){var t=n(e,2,0,e.parent.context.$implicit.edition.id,e.component.subscriptionStartType.Free),l=n(e,3,0,"/account/register-tenant");n(e,1,0,t,l)}),(function(n,e){var t=l["\u0275unv"](e,4,0,n(e,5,0,l["\u0275nov"](e.parent.parent,0),"Start"));n(e,4,0,t)}))}function sl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"button",[["class","btn btn-warning m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"],["href","#"]],null,[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,1).onClick()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l["\u0275pod"](2,{editionId:0,subscriptionStartType:1}),l["\u0275pad"](3,1),(n()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275ppd"](5,1)],(function(n,e){var t=n(e,2,0,e.parent.context.$implicit.edition.id,e.component.subscriptionStartType.Trial),l=n(e,3,0,"/account/register-tenant");n(e,1,0,t,l)}),(function(n,e){var t=l["\u0275unv"](e,4,0,n(e,5,0,l["\u0275nov"](e.parent.parent,0),"FreeTrial"));n(e,4,0,t)}))}function al(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,5,"button",[["class","btn btn-primary m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"],["href","#"]],null,[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==l["\u0275nov"](n,1).onClick()&&i),i}),null,null)),l["\u0275did"](1,16384,null,0,I.RouterLink,[I.Router,I.ActivatedRoute,[8,null],l.Renderer2,l.ElementRef],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l["\u0275pod"](2,{editionId:0,subscriptionStartType:1,editionPaymentType:2}),l["\u0275pad"](3,1),(n()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275ppd"](5,1)],(function(n,e){var t=e.component,l=n(e,2,0,e.parent.context.$implicit.edition.id,t.subscriptionStartType.Paid,t.editionPaymentType.NewRegistration),i=n(e,3,0,"/account/register-tenant");n(e,1,0,l,i)}),(function(n,e){var t=l["\u0275unv"](e,4,0,n(e,5,0,l["\u0275nov"](e.parent.parent,0),"BuyNow"));n(e,4,0,t)}))}function ul(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,23,"div",[["class","m-pricing-table-1__item col-lg-3 col-centered"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,4,"div",[["class","m-pricing-table-1__visual"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"div",[["class","m-pricing-table-1__hexagon1"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"div",[["class","m-pricing-table-1__hexagon2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,1,"span",[["class","m-pricing-table-1__icon m--font-brand"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"span",[["class","m-pricing-table-1__price"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,[" "," "])),(n()(),l["\u0275and"](16777216,null,null,1,null,Yt)),l["\u0275did"](9,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Xt)),l["\u0275did"](11,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](12,0,null,null,2,"span",[["class","m-pricing-table-1__description"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,il)),l["\u0275did"](14,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](15,0,null,null,8,"div",[["class","m-pricing-table-1__btn"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,rl)),l["\u0275did"](17,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,ol)),l["\u0275did"](19,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,sl)),l["\u0275did"](21,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,al)),l["\u0275did"](23,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,9,0,t.isFree(e.context.$implicit.edition)),n(e,11,0,!t.isFree(e.context.$implicit.edition)),n(e,14,0,t.editionsSelectOutput.allFeatures),n(e,17,0,t.isUserLoggedIn),n(e,19,0,!t.isUserLoggedIn&&t.isFree(e.context.$implicit.edition)),n(e,21,0,!t.isUserLoggedIn&&!t.isFree(e.context.$implicit.edition)&&e.context.$implicit.edition.trialDayCount),n(e,23,0,!t.isUserLoggedIn&&!t.isFree(e.context.$implicit.edition))}),(function(n,e){n(e,5,0,l["\u0275inlineInterpolate"](1,"fa ",e.component.editionIcons[e.context.index],"")),n(e,7,0,e.context.$implicit.edition.displayName)}))}function cl(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,6,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"div",[["class","m-pricing-table-1 m-pricing-table-1--fixed"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,4,"div",[["class","m-portlet"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,3,"div",[["class","m-portlet__body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","m-pricing-table-1__items row row-centered"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ul)),l["\u0275did"](7,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,7,0,e.component.editionsSelectOutput.editionsWithFeatures)}),(function(n,e){n(e,1,0,void 0)}))}function dl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,cl,Jt)),l["\u0275did"](1,114688,null,0,$t,[l.Injector,m.Sd,m.Ld,I.Router],null,null)],(function(n,e){n(e,1,0)}),null)}var pl=l["\u0275ccf"]("ng-component",$t,dl,{},{},[]),hl=t("PEYQ"),gl=t("IQ2n"),fl=function(n){function e(e,t,l,i,r,o){var s=n.call(this,e)||this;return s.injector=e,s._activatedRoute=t,s._payPalPaymentAppService=l,s._paymentAppService=i,s._router=r,s._tenantRegistrationHelper=o,s.selectedPaymentPeriodType=m.Fc.Monthly,s.paypalIsLoading=!0,s.subscriptionPaymentGateway=m.Jd,s.totalAmount=0,s.description="",s}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.paymentId=this._activatedRoute.snapshot.queryParams.paymentId,this.redirectUrl=this._activatedRoute.snapshot.queryParams.redirectUrl,(new j.a).load("https://www.paypalobjects.com/api/checkout.js").then((function(){n._paymentAppService.getPaymentAsync(n.paymentId).subscribe((function(e){n.description=e.description,n.totalAmount=e.amount,n.successCallbackUrl=e.successUrl,n.errorCallbackUrl=e.errorUrl,n.subscriptionPaymentGateway=e.gateway,n._payPalPaymentAppService.getConfiguration().subscribe((function(e){n.config=e,n.paypalIsLoading=!1,n.preparePaypalButton()}))}))}))},e.prototype.preparePaypalButton=function(){var n=this;window.paypal.Button.render({style:{size:"responsive"},env:n.config.environment,client:{sandbox:n.config.clientId,production:""},commit:!0,payment:function(e,t){return t.payment.create({transactions:[{amount:{total:n.totalAmount,currency:n.appSession.application.currency}}]})},onAuthorize:function(e){var t=this;n._payPalPaymentAppService.confirmPayment(n.paymentId,e.paymentID,e.payerID).subscribe((function(){gl.a.ajax("post",n.successCallbackUrl+(n.successCallbackUrl.includes("?")?"&":"?")+"paymentId="+n.paymentId,null,null,(function(e){t._tenantRegistrationHelper.registrationResult.isActive=!0,n._router.navigate([n.redirectUrl])}))}))},onCancel:function(e){var t=new m.m;t.gateway=n.subscriptionPaymentGateway.Paypal,t.paymentId=e.paymentID,n._payPalPaymentAppService.cancelPayment(t).toPromise()}},"#paypal-button")},e}(f.a),ml=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function vl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,16,"div",[["class","m-alert m-alert--icon m-alert--icon-solid m-alert--outline alert alert-brand alert-dismissible fade show"],["role","alert"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","m-alert__icon"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","flaticon-exclamation"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,12,"div",[["class","m-alert__text"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,[" "," "])),(n()(),l["\u0275eld"](7,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](9,null,["",": "])),(n()(),l["\u0275eld"](10,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),(n()(),l["\u0275eld"](12,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](14,null,["",": "])),(n()(),l["\u0275eld"](15,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),l["\u0275ted"](16,null,["",""]))],null,(function(n,e){var t=e.component;n(e,6,0,t.l("DemoPayPalAccount")),n(e,9,0,t.l("UserName")),n(e,11,0,t.config.demoUsername),n(e,14,0,t.l("Password")),n(e,16,0,t.config.demoPassword)}))}function yl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),l["\u0275did"](1,16384,null,0,hl.a,[l.ElementRef],{busyIf:[0,"busyIf"]},null)],(function(n,e){n(e,1,0,e.component.paypalIsLoading)}),null)}function Sl(n){return l["\u0275vid"](0,[l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),(n()(),l["\u0275eld"](1,0,null,null,20,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"hr",[["class","border-green"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,13,"div",[["class","form-actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,["",""])),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","col-sm-8 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"p",[["class","form-control-static text-bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](9,null,[" "," "])),(n()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](12,null,["",""])),(n()(),l["\u0275eld"](13,0,null,null,3,"div",[["class","col-sm-8 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,2,"p",[["class","form-control-static text-bold"],["id","totalPrice"]],null,null,null,null,null)),(n()(),l["\u0275ted"](15,null,[" ",""," "])),l["\u0275ppd"](16,2),(n()(),l["\u0275and"](16777216,null,null,1,null,vl)),l["\u0275did"](18,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](19,0,null,null,0,"div",[["id","paypal-button"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,yl)),l["\u0275did"](21,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,18,0,t.config&&t.config.demoUsername&&t.config.demoPassword),n(e,21,0,t.paypalIsLoading)}),(function(n,e){var t=e.component;n(e,1,0,void 0),n(e,6,0,t.l("Item")),n(e,9,0,t.description),n(e,12,0,t.l("Price"));var i=t.appSession.application.currencySign,r=l["\u0275unv"](e,15,1,n(e,16,0,l["\u0275nov"](e,0),t.totalAmount,"1.2-2"));n(e,15,0,i,r)}))}function bl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"paypal-purchase-component",[],null,null,null,Sl,ml)),l["\u0275did"](1,114688,null,0,fl,[l.Injector,I.ActivatedRoute,m.Dc,m.Gc,I.Router,Se],null,null)],(function(n,e){n(e,1,0)}),null)}var Cl=l["\u0275ccf"]("paypal-purchase-component",fl,bl,{selectedPaymentPeriodType:"selectedPaymentPeriodType",editionPaymentType:"editionPaymentType"},{},[]),El=function(n){function e(e,t,l,i,r,o){var s=n.call(this,e)||this;return s._activatedRoute=t,s._stripePaymentAppService=l,s._paymentAppService=i,s._router=r,s._tenantRegistrationHelper=o,s.selectedPaymentPeriodType=m.Fc.Monthly,s.amount=0,s.description="",s.stripeIsLoading=!0,s.subscriptionPaymentGateway=m.Jd,s.subscriptionStartType=m.Md,s.redirectUrl="",s}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.paymentId=this._activatedRoute.snapshot.queryParams.paymentId,this.redirectUrl=this._activatedRoute.snapshot.queryParams.redirectUrl;var e=this._activatedRoute.snapshot.queryParams.isUpgrade;(new j.a).load("https://checkout.stripe.com/checkout.js").then((function(){n._paymentAppService.getPaymentAsync(n.paymentId).subscribe((function(t){n.amount=t.amount,n.description=t.description,n.successCallbackUrl=t.successUrl,n.errorCallbackUrl=t.errorUrl,t.isRecurring?n._router.navigate([e?"account/stripe-update-subscription":"account/stripe-subscribe"],{queryParams:{paymentId:n.paymentId,redirectUrl:n.redirectUrl}}):n._stripePaymentAppService.getConfiguration().subscribe((function(e){n.prepareStripeButton(e.publishableKey),n.stripeIsLoading=!1}))}))}))},e.prototype.prepareStripeButton=function(n){var e=this,t=StripeCheckout.configure({key:n,locale:"auto",currency:this.appSession.application.currency,token:function(n){abp.ui.setBusy();var t=new m.vd;t.paymentId=e.paymentId,t.stripeToken=n.id,e._stripePaymentAppService.confirmPayment(t).subscribe((function(){gl.a.ajax("POST",e.successCallbackUrl+(e.successCallbackUrl.indexOf("?")>=0?"&":"?")+"paymentId="+e.paymentId,null,null,(function(n){e._tenantRegistrationHelper.registrationResult.isActive=!0,abp.ui.clearBusy(),e._router.navigate([e.redirectUrl])}))}))}});document.getElementById("stripe-checkout").addEventListener("click",(function(n){t.open({name:"Drima",description:e.description,amount:100*e.amount}),n.preventDefault()})),window.addEventListener("popstate",(function(){t.close()}))},e}(f.a),xl=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function wl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),l["\u0275did"](1,16384,null,0,hl.a,[l.ElementRef],{busyIf:[0,"busyIf"]},null)],(function(n,e){n(e,1,0,e.component.stripeIsLoading)}),null)}function Al(n){return l["\u0275vid"](0,[l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](2,0,null,null,20,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"hr",[["class","border-green"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,13,"div",[["class","form-actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,["",""])),(n()(),l["\u0275eld"](8,0,null,null,2,"div",[["class","col-sm-8 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"p",[["class","form-control-static text-bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](10,null,[" "," "])),(n()(),l["\u0275eld"](11,0,null,null,6,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,["",""])),(n()(),l["\u0275eld"](14,0,null,null,3,"div",[["class","col-sm-8 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,2,"p",[["class","form-control-static text-bold"],["id","totalPrice"]],null,null,null,null,null)),(n()(),l["\u0275ted"](16,null,[" ",""," "])),l["\u0275ppd"](17,2),(n()(),l["\u0275eld"](18,0,null,null,2,"button",[["class","stripe-checkout-button btn btn-primary btn-block"],["id","stripe-checkout"]],null,null,null,null,null)),(n()(),l["\u0275ted"](19,null,["",""])),l["\u0275ppd"](20,1),(n()(),l["\u0275and"](16777216,null,null,1,null,wl)),l["\u0275did"](22,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,22,0,e.component.stripeIsLoading)}),(function(n,e){var t=e.component;n(e,2,0,void 0),n(e,7,0,t.l("Item")),n(e,10,0,t.description),n(e,13,0,t.l("Price"));var i=t.appSession.application.currencySign,r=l["\u0275unv"](e,16,1,n(e,17,0,l["\u0275nov"](e,0),t.amount,"1.2-2"));n(e,16,0,i,r);var o=l["\u0275unv"](e,19,0,n(e,20,0,l["\u0275nov"](e,1),"Purchase"));n(e,19,0,o)}))}function _l(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"stripe-purchase-component",[],null,null,null,Al,xl)),l["\u0275did"](1,114688,null,0,El,[l.Injector,I.ActivatedRoute,m.xd,m.Gc,I.Router,Se],null,null)],(function(n,e){n(e,1,0)}),null)}var Tl=l["\u0275ccf"]("stripe-purchase-component",El,_l,{selectedPaymentPeriodType:"selectedPaymentPeriodType",editionPaymentType:"editionPaymentType"},{},[]),Il=function(n){function e(e,t,l,i,r,o){var s=n.call(this,e)||this;return s._activatedRoute=t,s._stripePaymentAppService=l,s._paymentAppService=i,s._router=r,s._tenantRegistrationHelper=o,s.selectedPaymentPeriodType=m.Fc.Monthly,s.amount=0,s.description="",s.stripeIsLoading=!0,s.subscriptionPaymentGateway=m.Jd,s.subscriptionStartType=m.Md,s.redirectUrl="",s}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.paymentId=this._activatedRoute.snapshot.queryParams.paymentId,this.redirectUrl=this._activatedRoute.snapshot.queryParams.redirectUrl,(new j.a).load("https://checkout.stripe.com/checkout.js").then((function(){n._paymentAppService.getPaymentAsync(n.paymentId).subscribe((function(e){n.amount=e.amount,n.description=e.description,n.successCallbackUrl=e.successUrl,n.errorCallbackUrl=e.errorUrl,n._stripePaymentAppService.getConfiguration().subscribe((function(e){n.prepareStripeButton(e.publishableKey),n.stripeIsLoading=!1}))}))}))},e.prototype.prepareStripeButton=function(n){var e=this,t=StripeCheckout.configure({key:n,locale:"auto",currency:this.appSession.application.currency,token:function(n){abp.ui.setBusy();var t=new m.wd;t.paymentId=e.paymentId,t.stripeToken=n.id,e._stripePaymentAppService.createSubscription(t).subscribe((function(){gl.a.ajax("POST",e.successCallbackUrl+(e.successCallbackUrl.indexOf("?")>=0?"&":"?")+"paymentId="+e.paymentId,null,null,(function(n){e._tenantRegistrationHelper.registrationResult.isActive=!0,abp.ui.clearBusy(),e._router.navigate([e.redirectUrl])}))}))}});document.getElementById("stripe-checkout").addEventListener("click",(function(n){t.open({name:"Drima",description:e.description,amount:100*e.amount}),n.preventDefault()})),window.addEventListener("popstate",(function(){t.close()}))},e}(f.a),Rl=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function Nl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),l["\u0275did"](1,16384,null,0,hl.a,[l.ElementRef],{busyIf:[0,"busyIf"]},null)],(function(n,e){n(e,1,0,e.component.stripeIsLoading)}),null)}function Fl(n){return l["\u0275vid"](0,[l["\u0275pid"](0,s.DecimalPipe,[l.LOCALE_ID]),l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](2,0,null,null,20,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,0,"hr",[["class","border-green"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,13,"div",[["class","form-actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,["",""])),(n()(),l["\u0275eld"](8,0,null,null,2,"div",[["class","col-sm-8 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"p",[["class","form-control-static text-bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](10,null,[" "," "])),(n()(),l["\u0275eld"](11,0,null,null,6,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](13,null,["",""])),(n()(),l["\u0275eld"](14,0,null,null,3,"div",[["class","col-sm-8 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,2,"p",[["class","form-control-static text-bold"],["id","totalPrice"]],null,null,null,null,null)),(n()(),l["\u0275ted"](16,null,[" ",""," "])),l["\u0275ppd"](17,2),(n()(),l["\u0275eld"](18,0,null,null,2,"button",[["class","stripe-checkout-button btn btn-primary btn-block"],["id","stripe-checkout"]],null,null,null,null,null)),(n()(),l["\u0275ted"](19,null,["",""])),l["\u0275ppd"](20,1),(n()(),l["\u0275and"](16777216,null,null,1,null,Nl)),l["\u0275did"](22,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,22,0,e.component.stripeIsLoading)}),(function(n,e){var t=e.component;n(e,2,0,void 0),n(e,7,0,t.l("Item")),n(e,10,0,t.description),n(e,13,0,t.l("amount"));var i=t.appSession.application.currencySign,r=l["\u0275unv"](e,16,1,n(e,17,0,l["\u0275nov"](e,0),t.amount,"1.2-2"));n(e,16,0,i,r);var o=l["\u0275unv"](e,19,0,n(e,20,0,l["\u0275nov"](e,1),"Purchase"));n(e,19,0,o)}))}function Pl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"stripe-subscribe-component",[],null,null,null,Fl,Rl)),l["\u0275did"](1,114688,null,0,Il,[l.Injector,I.ActivatedRoute,m.xd,m.Gc,I.Router,Se],null,null)],(function(n,e){n(e,1,0)}),null)}var Ol=l["\u0275ccf"]("stripe-subscribe-component",Il,Pl,{selectedPaymentPeriodType:"selectedPaymentPeriodType",editionPaymentType:"editionPaymentType"},{},[]),Dl=function(n){function e(e,t,l,i,r){var o=n.call(this,e)||this;return o._activatedRoute=t,o._stripePaymentAppService=l,o._paymentAppService=i,o._router=r,o.description="",o.redirectUrl="",o}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this.paymentId=this._activatedRoute.snapshot.queryParams.paymentId,this.redirectUrl=this._activatedRoute.snapshot.queryParams.redirectUrl,this._paymentAppService.getPaymentAsync(this.paymentId).subscribe((function(e){n.description=e.description,n.successCallbackUrl=e.successUrl,n.errorCallbackUrl=e.errorUrl}))},e.prototype.upgradeSubscription=function(){var n=this;abp.ui.setBusy();var e=new m.yd;e.paymentId=this.paymentId,this._stripePaymentAppService.updateSubscription(e).subscribe((function(){gl.a.ajax("POST",n.successCallbackUrl+(n.successCallbackUrl.indexOf("?")>=0?"&":"?")+"paymentId="+n.paymentId,null,null,(function(e){abp.ui.clearBusy(),n._router.navigate([n.redirectUrl])}))}))},e}(f.a),kl=l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function Vl(n){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[l.Injector]),(n()(),l["\u0275eld"](1,0,null,null,15,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,0,"hr",[["class","border-green"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,10,"div",[["class","form-actions"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,["",""])),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","col-sm-8 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"p",[["class","form-control-static text-bold"]],null,null,null,null,null)),(n()(),l["\u0275ted"](9,null,[" "," "])),(n()(),l["\u0275eld"](10,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,2,"label",[["class","col-sm-12 control-label"]],null,null,null,null,null)),(n()(),l["\u0275ted"](12,null,["",""])),l["\u0275ppd"](13,1),(n()(),l["\u0275eld"](14,0,null,null,2,"button",[["class","btn btn-primary btn-block"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.upgradeSubscription()&&l),l}),null,null)),(n()(),l["\u0275ted"](15,null,["",""])),l["\u0275ppd"](16,1)],null,(function(n,e){var t=e.component;n(e,1,0,void 0),n(e,6,0,t.l("Item")),n(e,9,0,t.description);var i=l["\u0275unv"](e,12,0,n(e,13,0,l["\u0275nov"](e,0),"RecurringSubscriptionUpgradeNote"));n(e,12,0,i);var r=l["\u0275unv"](e,15,0,n(e,16,0,l["\u0275nov"](e,0),"Purchase"));n(e,15,0,r)}))}function Ll(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"stripe-update-subscirption-component",[],null,null,null,Vl,kl)),l["\u0275did"](1,114688,null,0,Dl,[l.Injector,I.ActivatedRoute,m.xd,m.Gc,I.Router],null,null)],(function(n,e){n(e,1,0)}),null)}var Hl=l["\u0275ccf"]("stripe-update-subscirption-component",Dl,Ll,{},{},[]),Bl=t("cH5d"),Ul=t("XbwU"),Ml=function(n){function e(e,t,l,i,r,o,s){var a=n.call(this,e)||this;return a._tenantRegistrationService=t,a._subscriptionService=l,a._languagesService=i,a._countriesService=r,a._enrollmentService=o,a._router=s,a.activeDivClass="p-3 mb-2 bg-primary text-white",a.inactiveDivClass="p-3 mb-2 bg-light text-dark",a.licenseClassDivClass=a.activeDivClass,a.licenseClassOwnedDivClass=a.inactiveDivClass,a.locationDivClass=a.inactiveDivClass,a.coursesDivClass=a.inactiveDivClass,a.pricePackageDivClass=a.inactiveDivClass,a.yourDataDivClass=a.inactiveDivClass,a.currentPageNumber=0,a.maxPageNumber=6,a.selectedClass="",a.previousClasses=[],a.isUserLoggedIn=!1,a.submitting=!1,a.confirmTerms=!1,a.hasPayer=!1,a.userData={firstName:"",lastName:"",socialSecurityNo:"",street:"",zipCode:"",city:"",phone:"",email:"",confirmEmail:"",additionalInformation:"",payersSocialSecurityNo:"",payersName:"",payersStreet:"",payersZipCode:"",payersCity:"",payersPhone:"",payersEmail:""},a.editionIcons=["flaticon-open-box","flaticon-rocket","flaticon-gift","flaticon-confetti","flaticon-cogwheel-2","flaticon-app","flaticon-coins","flaticon-piggy-bank","flaticon-bag","flaticon-lifebuoy","flaticon-technology-1","flaticon-cogwheel-1","flaticon-infinity","flaticon-interface-5","flaticon-squares-3","flaticon-interface-6","flaticon-mark","flaticon-business","flaticon-interface-7","flaticon-list-2","flaticon-bell","flaticon-technology","flaticon-squares-2","flaticon-notes","flaticon-profile","flaticon-layers","flaticon-interface-4","flaticon-signs","flaticon-menu-1","flaticon-symbol"],a}return Object(g.__extends)(e,n),e.prototype.ngOnInit=function(){var n=this;this._countriesService.loadData().subscribe((function(e){n.countries=e;for(var t=0;t<n.countries.length;t++)"Finland"==n.countries[t].name&&(n.currentBirthCountry=n.countries[t].name);for(t=0;t<n.countries.length;t++)"Finland"==n.countries[t].name&&(n.currentCountry=n.countries[t].name)})),this._languagesService.loadData().subscribe((function(e){n.languages=e;for(var t=0;t<n.languages.length;t++)"Finnish"==n.languages[t].name&&(n.currentNativeLanguage=n.languages[t].name)})),this._enrollmentService.getAvailableLicenseClassesForEnrollment().subscribe((function(e){n.licenseClasses=e})),this.isUserLoggedIn=abp.session.userId>0},e.prototype.openPayerPart=function(){this.hasPayer=!0},e.prototype.closePayerPart=function(){this.hasPayer=!1},e.prototype.goToNextPage=function(){},e.prototype.goToPage=function(n){this.currentPageNumber=n,this.switchActivePageIndicator(n)},e.prototype.goToPreviousPage=function(){0!=this.currentPageNumber&&(this.currentPageNumber--,this.switchActivePageIndicator(this.currentPageNumber))},e.prototype.switchActivePageIndicator=function(n){switch(this.licenseClassDivClass=this.inactiveDivClass,this.licenseClassOwnedDivClass=this.inactiveDivClass,this.locationDivClass=this.inactiveDivClass,this.coursesDivClass=this.inactiveDivClass,this.pricePackageDivClass=this.inactiveDivClass,this.yourDataDivClass=this.inactiveDivClass,n){case 0:this.licenseClassDivClass=this.activeDivClass;break;case 1:this.licenseClassOwnedDivClass=this.activeDivClass;break;case 2:this.locationDivClass=this.activeDivClass;break;case 3:this.coursesDivClass=this.activeDivClass;break;case 4:this.pricePackageDivClass=this.activeDivClass;break;case 5:this.yourDataDivClass=this.activeDivClass}},e.prototype.classToAcquireSelected=function(n){var e=this;this.selectedClass=n,this._enrollmentService.getPossibleAlreadyOwnedLicenseClasses(this.selectedClass).subscribe((function(n){e.licenseClassesOwned=n})),this.goToPage(1)},e.prototype.classesAlreadyOwnedSelected=function(){var n=this;console.log(this.licenseClassesOwned),this._enrollmentService.getOffices(this.selectedClass).subscribe((function(e){n.offices=e,console.log(n.offices)})),this.goToPage(2)},e.prototype.officeSelected=function(n){var e=this;console.log(n),this.officeId=n,this._enrollmentService.getCoursesFromOffice(this.selectedClass,n).subscribe((function(n){e.courses=n})),this.goToPage(3)},e.prototype.courseSelected=function(n){var e=this;console.log(n),this.courseId=n,this._enrollmentService.getPricePackagesFromCourse(n).subscribe((function(n){e.pricePackages=n})),this.goToPage(4)},e.prototype.pricePackageSelected=function(n){console.log(n),this.pricePackageId=n,this.goToPage(5)},e.prototype.previousClassChecked=function(n,e){this.previousClasses.some((function(e){return e===n}))&&!e.currentTarget.checked&&(this.previousClasses=this.previousClasses.filter((function(e){return e!=n}))),!this.previousClasses.some((function(e){return e===n}))&&e.currentTarget.checked&&this.previousClasses.push(n)},e.prototype.onSubmit=function(){var n=this,e=new m.Hd;e.firstName=this.userData.firstName,e.lastName=this.userData.lastName,e.socialSecurityNo=this.userData.socialSecurityNo,e.street=this.userData.street,e.zipCode=this.userData.zipCode,e.city=this.userData.city,e.phone=this.userData.phone,e.email=this.userData.email,e.birthCountry=this._countriesService.getCode(this.currentBirthCountry),e.nativeLanguage=this._languagesService.getCode(this.currentNativeLanguage),e.country=this._countriesService.getCode(this.currentCountry),e.additionalInformation=this.userData.additionalInformation,e.payersSocialSecurityNo=this.userData.payersSocialSecurityNo,e.payersName=this.userData.payersName,e.payersStreet=this.userData.payersStreet,e.payersZipCode=this.userData.payersZipCode,e.payersCity=this.userData.payersCity,e.payersPhone=this.userData.payersPhone,e.payersEmail=this.userData.payersEmail,e.previousClasses=this.previousClasses.toString(),e.licenseClass=this.selectedClass,e.userExists=!1,e.officeId=this.officeId,e.courseId=this.courseId,e.pricePackageId=this.pricePackageId,console.log(e),this.submitting=!0,this._enrollmentService.submitEnrollment(e).subscribe((function(e){n._router.navigate(["account"]),abp.message.success("Success","You just enrolled in a new course. Please read the confirmation email for further information!")}))},e}(f.a),ql=l["\u0275crt"]({encapsulation:2,styles:[[".row-centered{text-align:center;display:block!important}.col-centered{display:inline-table;float:none;text-align:left;margin-right:-4px}.m-pricing-table-1__btn,.m-pricing-table-1__price,.m-pricing-table-1__subtitle{text-align:center}body{background-color:#f2f3f8}div.m-content div.m-login__logo{margin-bottom:50px!important}.m-pricing-table-1__item:nth-child(4n){border-right:none!important}.m-pricing-table-1 .m-pricing-table-1__items .m-pricing-table-1__item .m-pricing-table-1__price{font-size:2rem!important}button:disabled,button[disabled]{cursor:not-allowed!important}"],[".pricing-content-1{background-color:#fff}.pricing-content-1:after,.pricing-content-1:before{content:\" \";display:table}.pricing-content-1:after{clear:both}.pricing-content-1 .arrow-down{width:0;height:0;border-left:15px solid transparent;border-right:15px solid transparent;border-top:15px solid;margin:auto}.pricing-content-1 .arrow-down.arrow-blue{border-top-color:#3598dc}.pricing-content-1 .arrow-down.arrow-green{border-top-color:#32c5d2}.pricing-content-1 .arrow-down.arrow-dark{border-top-color:#2f353b}.pricing-content-1 .arrow-down.arrow-grey{border-top-color:#f7f9fb}.pricing-content-1 .price-ribbon{position:absolute;top:75px;right:-4px;width:90px;font-size:14px;text-transform:uppercase;font-weight:300;padding:6px 20px 6px 15px;color:#fff;background-color:#d91e18;text-shadow:0 1px 2px #bbb;box-shadow:0 2px 4px #888}.pricing-content-1 .price-ribbon:after{content:' ';position:absolute;width:0;height:0;right:0;top:100%;border-width:5px 10px;border-style:solid;border-color:#64120f transparent transparent #64120f}.pricing-content-1 .pricing-title{border-bottom:1px solid;border-color:#fff}.pricing-content-1 .pricing-title>h1{margin:20px 0}.pricing-content-1 .price-column-container{text-align:center;margin:0;background-color:#fff}.pricing-content-1 .price-column-container.border-active{border:1px solid #e5e9ee}.pricing-content-1 .price-column-container:first-child{margin-left:0}.pricing-content-1 .price-column-container:last-child{margin-right:0}.pricing-content-1 .price-table-head{color:#fff;padding:20px 0}.pricing-content-1 .price-table-head h2{font-size:26px}.pricing-content-1 .price-table-head.price-1{background-color:#3598dc}.pricing-content-1 .price-table-head.price-2{background-color:#32c5d2}.pricing-content-1 .price-table-head.price-3{background-color:#2f353b}.pricing-content-1 .price-table-pricing>h3{font-size:60px;position:relative}.pricing-content-1 .price-table-pricing>h3>.price-sign{font-size:24px;position:absolute;margin-left:-15px}.pricing-content-1 .price-table-pricing>p{margin-top:0}.pricing-content-1 .price-table-content{background-color:#f7f9fb;color:#5c6d7e;font-weight:600;font-size:16px}.pricing-content-1 .price-table-content .row{padding-top:10px;padding-bottom:10px}.pricing-content-1 .price-table-content .row i{color:#6cade6}.pricing-content-1 .price-table-content .row:first-child{padding-top:20px}.pricing-content-1 .price-table-content .row:last-child{padding-bottom:20px}.pricing-content-1 .price-table-footer{padding:20px 0}.pricing-content-1 .price-table-footer>.price-button{font-weight:700;padding:10px 20px}@media (max-width:1024px){.pricing-content-1 .mobile-padding{padding:0 15px;margin:0 -15px}.pricing-content-1 .mobile-padding>i{margin-right:20px}.pricing-content-1 .price-table-content{padding-left:15px;padding-right:15px}}.pricing-content-2{background-color:#fff}.pricing-content-2 .no-padding{padding:0}.pricing-content-2 .text-left{text-align:left}.pricing-content-2 .text-right{text-align:right}.pricing-content-2.pricing-bg-dark{background-color:#2f353b}.pricing-content-2 .pricing-title{border-color:#444}.pricing-content-2 .pricing-title>h1{color:#fff}.pricing-content-2 .pricing-table-container{padding-top:40px;padding-bottom:40px}.pricing-content-2 .pricing-table-container .padding-fix{padding-left:15px;padding-right:15px}.pricing-content-2 .pricing-table-container .price-column-container{background-color:#fff;margin:30px 0;padding:60px 0;text-align:center;border-bottom:4px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.border-right{border-right:1px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.border-left{border-left:1px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.border-top{border-top:1px solid #ccc}.pricing-content-2 .pricing-table-container .price-column-container.featured-price{margin:0;padding:89px 0;border:1px solid #ccc;border-bottom:4px solid}.pricing-content-2 .pricing-table-container .price-column-container.featured-price>.price-feature-label{position:absolute;top:0;left:50%;display:inline-block;width:110px;margin:0 0 0 -60px;padding:7px 15px;color:#fff;font-weight:300}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-head>h2{letter-spacing:1px;font-weight:600;font-size:18px;color:#acb5c3}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-head>h2.opt-pricing-5{padding:7px 15px;display:inline;margin:0 auto 20px;font-size:16px}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-pricing>h3{font-size:60px;position:relative;font-weight:600}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-pricing>h3>.price-sign{font-size:24px;position:absolute;margin-left:-15px}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-pricing>p{margin-top:0}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-content{color:#333;font-weight:300;font-size:16px}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-content .row{padding-top:20px;padding-bottom:20px;border-bottom:1px solid;border-color:#eee}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-content .row:first-child{border-top:1px solid;border-color:#eee}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-footer{padding:40px 0 0}.pricing-content-2 .pricing-table-container .price-column-container>.price-table-footer>.featured-price{font-size:20px;font-weight:300;border-bottom:3px solid #3faba4}@media (max-width:991px){.pricing-content-2 .price-column-container{border-left:1px solid;border-right:1px solid;border-color:#ccc}}"]],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{"margin-top":"-10px",opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{"margin-top":"0px",opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:"1","margin-top":"0px"},offset:null},timings:"0.2s ease-out"}],options:null}],options:{}}]}});function jl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ul",[["class","list-group list-group-flush mb-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,[" "," "]))],null,(function(n,e){n(e,2,0,e.parent.context.$implicit.description)}))}function Kl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[["class","card my-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[["alt","Card image cap"],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,[""," ",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,jl)),l["\u0275did"](6,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-success m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.classToAcquireSelected(n.context.$implicit.licenseClass)&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Select "]))],(function(n,e){n(e,6,0,e.context.$implicit.description)}),(function(n,e){var t=e.component;n(e,1,0,l["\u0275inlineInterpolate"](1,"",e.context.$implicit.symbolImageUrl,"")),n(e,4,0,t.l("Class"),e.context.$implicit.licenseClass)}))}function Gl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h3",[["class","mb-5"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["What license do you want to acquire?"])),(n()(),l["\u0275eld"](3,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,3,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","card-deck"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Kl)),l["\u0275did"](7,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,7,0,e.component.licenseClasses.licenseClasses)}),null)}function zl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ul",[["class","list-group list-group-flush mb-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](2,null,[" "," "]))],null,(function(n,e){n(e,2,0,e.parent.context.$implicit.description)}))}function Wl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","card my-3"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[["alt","Card image cap"],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,[""," "," "])),(n()(),l["\u0275and"](16777216,null,null,1,null,zl)),l["\u0275did"](6,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](7,0,null,null,4,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,3,"label",[["class","m-checkbox mt-3"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,0,"input",[["name","licenseClassOwned"],["type","checkbox"]],null,[[null,"change"]],(function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.previousClassChecked(n.context.$implicit.licenseClass,t)&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" I have this license "])),(n()(),l["\u0275eld"](11,0,null,null,0,"span",[],null,null,null,null,null))],(function(n,e){n(e,6,0,e.context.$implicit.description)}),(function(n,e){var t=e.component;n(e,1,0,l["\u0275inlineInterpolate"](1,"",e.context.$implicit.symbolImageUrl,"")),n(e,4,0,t.l("Class"),e.context.$implicit.licenseClass)}))}function $l(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-success m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.classesAlreadyOwnedSelected()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Next "]))],null,null)}function Jl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h3",[["class","mb-5"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Do you have any licenses completed before?"])),(n()(),l["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-success m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.classesAlreadyOwnedSelected()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" I don't have any license yet "])),(n()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","container my-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,3,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](7,0,null,null,2,"div",[["class","card-deck"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Wl)),l["\u0275did"](9,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-secondary m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.goToPreviousPage()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Back "])),(n()(),l["\u0275and"](16777216,null,null,1,null,$l)),l["\u0275did"](13,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,9,0,t.licenseClassesOwned.licenseClasses),n(e,13,0,t.previousClasses.length>0)}),null)}function Yl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,10,"div",[["class","card my-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[["alt","Card image cap"],["class","card-img-top"],["src","assets/symbols/office.png"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,[" ",""])),(n()(),l["\u0275eld"](5,0,null,null,2,"ul",[["class","list-group list-group-flush mb-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,[""," "])),(n()(),l["\u0275eld"](8,0,null,null,2,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"button",[["class","btn btn-success m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.officeSelected(n.context.$implicit.officeId)&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Select "]))],null,(function(n,e){n(e,4,0,e.context.$implicit.officeName),n(e,7,0,e.context.$implicit.address)}))}function Xl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h3",[["class","mb-5"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["What office do you want to go to?"])),(n()(),l["\u0275eld"](3,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,3,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","card-deck"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Yl)),l["\u0275did"](7,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-secondary m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.goToPreviousPage()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Back "]))],(function(n,e){n(e,7,0,e.component.offices.offices)}),null)}function Ql(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","card my-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[["alt","Card image cap"],["class","card-img-top"],["src","assets/symbols/course.png"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](4,null,[" ",""])),(n()(),l["\u0275eld"](5,0,null,null,6,"ul",[["class","list-group list-group-flush mb-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](6,0,null,null,1,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](7,null,["",": "," "])),(n()(),l["\u0275eld"](8,0,null,null,1,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](9,null,["",""])),(n()(),l["\u0275eld"](10,0,null,null,1,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](11,null,["",""])),(n()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,1,"button",[["class","btn btn-success m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.courseSelected(n.context.$implicit.courseId)&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Select "]))],null,(function(n,e){var t=e.component;n(e,4,0,e.context.$implicit.courseName),n(e,7,0,t.l("LicenseClass"),e.context.$implicit.class),n(e,9,0,e.context.$implicit.description),n(e,11,0,e.context.$implicit.priceDescription)}))}function Zl(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h3",[["class","mb-5"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["What course do you want to enroll in?"])),(n()(),l["\u0275eld"](3,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,3,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","card-deck"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Ql)),l["\u0275did"](7,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-secondary m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.goToPreviousPage()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Back "]))],(function(n,e){n(e,7,0,e.component.courses.courses)}),null)}function ni(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","badge badge-secondary"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Standard package"]))],null,null)}function ei(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),l["\u0275ted"](1,null,[" ","x "," ","\u20ac"]))],null,(function(n,e){n(e,1,0,e.context.$implicit.quantity,e.context.$implicit.name,e.context.$implicit.totalPrice)}))}function ti(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,14,"div",[["class","card my-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,0,"img",[["alt","Card image cap"],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ni)),l["\u0275did"](4,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](5,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](6,null,[" "," "])),(n()(),l["\u0275eld"](7,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(n()(),l["\u0275ted"](8,null,[" ","\u20ac "])),(n()(),l["\u0275eld"](9,0,null,null,2,"ul",[["class","list-group list-group-flush mb-5"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ei)),l["\u0275did"](11,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](12,0,null,null,2,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,1,"button",[["class","btn btn-success m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.pricePackageSelected(n.context.$implicit.pricePackageId)&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Select "]))],(function(n,e){n(e,4,0,e.context.$implicit.highlighted),n(e,11,0,e.context.$implicit.products)}),(function(n,e){n(e,1,0,e.context.$implicit.highlighted?"assets/symbols/price_highlighted.png":"assets/symbols/price.png"),n(e,6,0,e.context.$implicit.packageName),n(e,8,0,e.context.$implicit.finalPrice)}))}function li(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h3",[["class","mb-5"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["What price package do you prefer?"])),(n()(),l["\u0275eld"](3,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,3,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,2,"div",[["class","card-deck"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ti)),l["\u0275did"](7,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-secondary m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.goToPreviousPage()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Back "]))],(function(n,e){n(e,7,0,e.component.pricePackages.pricePackages)}),null)}function ii(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Person ID is required. "]))],null,null)}function ri(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ii)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,l["\u0275nov"](e.parent,17).errors.required)}),null)}function oi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" First name is required. "]))],null,null)}function si(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,oi)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,l["\u0275nov"](e.parent,31).errors.required)}),null)}function ai(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Email not valid. "]))],null,null)}function ui(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ai)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,null==l["\u0275nov"](e.parent,104).errors?null:l["\u0275nov"](e.parent,104).errors.email)}),null)}function ci(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Email not valid. "]))],null,null)}function di(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Emails do not match each other. "]))],null,null)}function pi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,ci)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,di)),l["\u0275did"](4,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,null==l["\u0275nov"](e.parent,118).errors?null:l["\u0275nov"](e.parent,118).errors.email),n(e,4,0,l["\u0275nov"](e.parent,118).value!==l["\u0275nov"](e.parent,104).value)}),null)}function hi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](1,147456,null,0,a.NgSelectOption,[l.ElementRef,l.Renderer2,[2,a.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),l["\u0275did"](2,147456,null,0,a["\u0275angular_packages_forms_forms_s"],[l.ElementRef,l.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),l["\u0275ted"](3,null,[" "," "]))],(function(n,e){n(e,1,0,e.context.$implicit.name),n(e,2,0,e.context.$implicit.name)}),(function(n,e){n(e,3,0,e.component.l(e.context.$implicit.name))}))}function gi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](1,147456,null,0,a.NgSelectOption,[l.ElementRef,l.Renderer2,[2,a.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),l["\u0275did"](2,147456,null,0,a["\u0275angular_packages_forms_forms_s"],[l.ElementRef,l.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),l["\u0275ted"](3,null,[" "," "]))],(function(n,e){n(e,1,0,e.context.$implicit.name),n(e,2,0,e.context.$implicit.name)}),(function(n,e){n(e,3,0,e.component.l(e.context.$implicit.name))}))}function fi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](1,147456,null,0,a.NgSelectOption,[l.ElementRef,l.Renderer2,[2,a.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),l["\u0275did"](2,147456,null,0,a["\u0275angular_packages_forms_forms_s"],[l.ElementRef,l.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),l["\u0275ted"](3,null,[" "," "]))],(function(n,e){n(e,1,0,e.context.$implicit.name),n(e,2,0,e.context.$implicit.name)}),(function(n,e){n(e,3,0,e.component.l(e.context.$implicit.name))}))}function mi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col text-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.openPayerPart()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Add payer "]))],null,null)}function vi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col text-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-link"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.closePayerPart()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Remove payer "]))],null,null)}function yi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,81,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,22,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","payersPersonId"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Payers Person ID *"])),(n()(),l["\u0275eld"](4,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,7,"input",[["class","form-control"],["id","payersPersonId"],["name","payersSocialSecurityNo"],["placeholder","PPKKVV-XXXX"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,6)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,6).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,6)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,6)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.payersSocialSecurityNo=t)&&i),i}),null,null)),l["\u0275did"](6,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](7,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](10,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](12,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](13,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","payersNameInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Payers Name *"])),(n()(),l["\u0275eld"](15,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,7,"input",[["class","form-control"],["id","payersNameInput"],["name","payersName"],["placeholder","Enter the payers name"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,17)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,17).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,17)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.payersName=t)&&i),i}),null,null)),l["\u0275did"](17,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](18,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](21,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](23,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](24,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](25,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","payersStreetInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Payers Street *"])),(n()(),l["\u0275eld"](27,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(n()(),l["\u0275eld"](28,0,null,null,7,"input",[["class","form-control"],["id","payersStreetInput"],["name","payersStreet"],["placeholder","Enter the payers street"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,29)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,29).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,29)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,29)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.payersStreet=t)&&i),i}),null,null)),l["\u0275did"](29,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](30,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](33,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](35,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](36,0,null,null,22,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](37,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","payersZipCodeInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Payers ZIP code *"])),(n()(),l["\u0275eld"](39,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](40,0,null,null,7,"input",[["class","form-control"],["id","payersZipCodeInput"],["name","payersZipCode"],["placeholder","Enter the payers ZIP code"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,41)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,41).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,41)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,41)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.payersZipCode=t)&&i),i}),null,null)),l["\u0275did"](41,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](42,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](45,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](47,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](48,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","payersCityInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Payers City *"])),(n()(),l["\u0275eld"](50,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](51,0,null,null,7,"input",[["class","form-control"],["id","payersCityInput"],["name","payersCity"],["placeholder","Enter the payers city"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,52)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,52).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,52)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,52)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.payersCity=t)&&i),i}),null,null)),l["\u0275did"](52,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](53,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](56,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](58,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](59,0,null,null,22,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](60,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","payersPhoneInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Payers Phone *"])),(n()(),l["\u0275eld"](62,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](63,0,null,null,7,"input",[["class","form-control"],["id","payersPhoneInput"],["name","payersPhone"],["placeholder","Enter the payers phone number"],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,64)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,64).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,64)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,64)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.payersPhone=t)&&i),i}),null,null)),l["\u0275did"](64,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](65,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](68,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](70,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](71,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","payersEmailInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Payers E-mail *"])),(n()(),l["\u0275eld"](73,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](74,0,null,null,7,"input",[["class","form-control"],["id","payersEmailInput"],["name","payersEmail"],["placeholder","Enter the payers email"],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,75)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,75).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,75)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,75)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.payersEmail=t)&&i),i}),null,null)),l["\u0275did"](75,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](76,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](79,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](81,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null)],(function(n,e){var t=e.component;n(e,7,0,t.hasPayer),n(e,10,0,"payersSocialSecurityNo",t.userData.payersSocialSecurityNo),n(e,18,0,t.hasPayer),n(e,21,0,"payersName",t.userData.payersName),n(e,30,0,t.hasPayer),n(e,33,0,"payersStreet",t.userData.payersStreet),n(e,42,0,t.hasPayer),n(e,45,0,"payersZipCode",t.userData.payersZipCode),n(e,53,0,t.hasPayer),n(e,56,0,"payersCity",t.userData.payersCity),n(e,65,0,t.hasPayer),n(e,68,0,"payersPhone",t.userData.payersPhone),n(e,76,0,t.hasPayer),n(e,79,0,"payersEmail",t.userData.payersEmail)}),(function(n,e){n(e,5,0,l["\u0275nov"](e,7).required?"":null,l["\u0275nov"](e,12).ngClassUntouched,l["\u0275nov"](e,12).ngClassTouched,l["\u0275nov"](e,12).ngClassPristine,l["\u0275nov"](e,12).ngClassDirty,l["\u0275nov"](e,12).ngClassValid,l["\u0275nov"](e,12).ngClassInvalid,l["\u0275nov"](e,12).ngClassPending),n(e,16,0,l["\u0275nov"](e,18).required?"":null,l["\u0275nov"](e,23).ngClassUntouched,l["\u0275nov"](e,23).ngClassTouched,l["\u0275nov"](e,23).ngClassPristine,l["\u0275nov"](e,23).ngClassDirty,l["\u0275nov"](e,23).ngClassValid,l["\u0275nov"](e,23).ngClassInvalid,l["\u0275nov"](e,23).ngClassPending),n(e,28,0,l["\u0275nov"](e,30).required?"":null,l["\u0275nov"](e,35).ngClassUntouched,l["\u0275nov"](e,35).ngClassTouched,l["\u0275nov"](e,35).ngClassPristine,l["\u0275nov"](e,35).ngClassDirty,l["\u0275nov"](e,35).ngClassValid,l["\u0275nov"](e,35).ngClassInvalid,l["\u0275nov"](e,35).ngClassPending),n(e,40,0,l["\u0275nov"](e,42).required?"":null,l["\u0275nov"](e,47).ngClassUntouched,l["\u0275nov"](e,47).ngClassTouched,l["\u0275nov"](e,47).ngClassPristine,l["\u0275nov"](e,47).ngClassDirty,l["\u0275nov"](e,47).ngClassValid,l["\u0275nov"](e,47).ngClassInvalid,l["\u0275nov"](e,47).ngClassPending),n(e,51,0,l["\u0275nov"](e,53).required?"":null,l["\u0275nov"](e,58).ngClassUntouched,l["\u0275nov"](e,58).ngClassTouched,l["\u0275nov"](e,58).ngClassPristine,l["\u0275nov"](e,58).ngClassDirty,l["\u0275nov"](e,58).ngClassValid,l["\u0275nov"](e,58).ngClassInvalid,l["\u0275nov"](e,58).ngClassPending),n(e,63,0,l["\u0275nov"](e,65).required?"":null,l["\u0275nov"](e,70).ngClassUntouched,l["\u0275nov"](e,70).ngClassTouched,l["\u0275nov"](e,70).ngClassPristine,l["\u0275nov"](e,70).ngClassDirty,l["\u0275nov"](e,70).ngClassValid,l["\u0275nov"](e,70).ngClassInvalid,l["\u0275nov"](e,70).ngClassPending),n(e,74,0,l["\u0275nov"](e,76).required?"":null,l["\u0275nov"](e,81).ngClassUntouched,l["\u0275nov"](e,81).ngClassTouched,l["\u0275nov"](e,81).ngClassPristine,l["\u0275nov"](e,81).ngClassDirty,l["\u0275nov"](e,81).ngClassValid,l["\u0275nov"](e,81).ngClassInvalid,l["\u0275nov"](e,81).ngClassPending)}))}function Si(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" You have to agree with terms and conditions. "]))],null,null)}function bi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Si)),l["\u0275did"](2,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,!e.component.confirmTerms)}),null)}function Ci(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,196,"div",[],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h3",[["class","mb-5"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Please enter your data to finish enrollment!"])),(n()(),l["\u0275eld"](3,0,null,null,190,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,e,t){var i=!0,r=n.component;return"submit"===e&&(i=!1!==l["\u0275nov"](n,5).onSubmit(t)&&i),"reset"===e&&(i=!1!==l["\u0275nov"](n,5).onReset()&&i),"ngSubmit"===e&&(i=!1!==r.onSubmit()&&i),i}),null,null)),l["\u0275did"](4,16384,null,0,a["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](5,4210688,[["userDataForm",4]],0,a.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,a.ControlContainer,null,[a.NgForm]),l["\u0275did"](7,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(n()(),l["\u0275eld"](8,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","personId"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Person ID *"])),(n()(),l["\u0275eld"](11,0,null,null,10,"div",[["class","col-sm-10"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,0,null,null,7,"input",[["class","form-control"],["id","personId"],["name","ssn"],["placeholder","PPKKVV-XXXX"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,13)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,13).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,13)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,13)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.socialSecurityNo=t)&&i),i}),null,null)),l["\u0275did"](13,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](14,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](17,671744,[["ssc",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](19,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,ri)),l["\u0275did"](21,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](22,0,null,null,24,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","firstNameInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["First Name *"])),(n()(),l["\u0275eld"](25,0,null,null,10,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](26,0,null,null,7,"input",[["class","form-control"],["id","firstNameInput"],["name","firstName"],["placeholder","Enter your first name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,27)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,27)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.firstName=t)&&i),i}),null,null)),l["\u0275did"](27,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](28,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](31,671744,[["firstName",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](33,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,si)),l["\u0275did"](35,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](36,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","lastNameInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Last Name *"])),(n()(),l["\u0275eld"](38,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](39,0,null,null,7,"input",[["class","form-control"],["id","lastNameInput"],["name","lastName"],["placeholder","Enter your last name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,40)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,40).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,40)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,40)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.lastName=t)&&i),i}),null,null)),l["\u0275did"](40,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](41,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](44,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](46,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](47,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](48,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","streetInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Street *"])),(n()(),l["\u0275eld"](50,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(n()(),l["\u0275eld"](51,0,null,null,7,"input",[["class","form-control"],["id","streetInput"],["name","street"],["placeholder","Enter your street"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,52)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,52).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,52)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,52)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.street=t)&&i),i}),null,null)),l["\u0275did"](52,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](53,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](56,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](58,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](59,0,null,null,22,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](60,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","zipCodeInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["ZIP code *"])),(n()(),l["\u0275eld"](62,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](63,0,null,null,7,"input",[["class","form-control"],["id","zipCodeInput"],["name","zipCode"],["placeholder","Enter your ZIP code"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,64)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,64).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,64)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,64)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.zipCode=t)&&i),i}),null,null)),l["\u0275did"](64,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](65,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](68,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](70,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](71,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","cityInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["City *"])),(n()(),l["\u0275eld"](73,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](74,0,null,null,7,"input",[["class","form-control"],["id","cityInput"],["name","city"],["placeholder","Enter your city"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,75)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,75).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,75)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,75)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.city=t)&&i),i}),null,null)),l["\u0275did"](75,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](76,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](79,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](81,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](82,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](83,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","phoneInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Phone *"])),(n()(),l["\u0275eld"](85,0,null,null,8,"div",[["class","col-sm-10"]],null,null,null,null,null)),(n()(),l["\u0275eld"](86,0,null,null,7,"input",[["class","form-control"],["id","phoneInput"],["name","phone"],["placeholder","Enter your phone number"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,87)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,87).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,87)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,87)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.phone=t)&&i),i}),null,null)),l["\u0275did"](87,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](88,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.RequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](91,671744,null,0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](93,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](94,0,null,null,28,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](95,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","emailInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["E-mail *"])),(n()(),l["\u0275eld"](97,0,null,null,11,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](98,0,null,null,8,"input",[["class","form-control"],["email",""],["id","emailInput"],["name","email"],["placeholder","Enter your email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,99)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,99).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,99)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,99)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.email=t)&&i),i}),null,null)),l["\u0275did"](99,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](100,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](101,16384,null,0,a.EmailValidator,[],{email:[0,"email"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.EmailValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](104,671744,[["email",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](106,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,ui)),l["\u0275did"](108,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](109,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","confirmEmailInput"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Confirm e-mail *"])),(n()(),l["\u0275eld"](111,0,null,null,11,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](112,0,null,null,8,"input",[["class","form-control"],["email",""],["id","confirmEmailInput"],["name","confirmEmail"],["placeholder","Enter your email again"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,113)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,113).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,113)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,113)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.confirmEmail=t)&&i),i}),null,null)),l["\u0275did"](113,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](114,16384,null,0,a.RequiredValidator,[],{required:[0,"required"]},null),l["\u0275did"](115,16384,null,0,a.EmailValidator,[],{email:[0,"email"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n,e){return[n,e]}),[a.RequiredValidator,a.EmailValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](118,671744,[["confirmationEmail",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](120,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,pi)),l["\u0275did"](122,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](123,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](124,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Student_Country"]],null,null,null,null,null)),(n()(),l["\u0275ted"](125,null,["",""])),(n()(),l["\u0275eld"](126,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](127,0,null,null,7,"select",[["class","form-control"],["name","Student_Country"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,128).onChange(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,128).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.currentCountry=t)&&i),i}),null,null)),l["\u0275did"](128,16384,null,0,a.SelectControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.SelectControlValueAccessor]),l["\u0275did"](130,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](132,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,hi)),l["\u0275did"](134,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](135,0,null,null,22,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](136,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Student_BirthCountry"]],null,null,null,null,null)),(n()(),l["\u0275ted"](137,null,["",""])),(n()(),l["\u0275eld"](138,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](139,0,null,null,7,"select",[["class","form-control"],["name","Student_BirthCountry"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,140).onChange(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,140).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.currentBirthCountry=t)&&i),i}),null,null)),l["\u0275did"](140,16384,null,0,a.SelectControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.SelectControlValueAccessor]),l["\u0275did"](142,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](144,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,gi)),l["\u0275did"](146,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](147,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","Student_NativeLanguage"]],null,null,null,null,null)),(n()(),l["\u0275ted"](148,null,["",""])),(n()(),l["\u0275eld"](149,0,null,null,8,"div",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](150,0,null,null,7,"select",[["class","form-control"],["name","Student_NativeLanguage"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,151).onChange(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,151).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.currentNativeLanguage=t)&&i),i}),null,null)),l["\u0275did"](151,16384,null,0,a.SelectControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.SelectControlValueAccessor]),l["\u0275did"](153,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](155,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,fi)),l["\u0275did"](157,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275eld"](158,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(n()(),l["\u0275eld"](159,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","exampleFormControlTextarea1"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Additional information"])),(n()(),l["\u0275eld"](161,0,null,null,6,"div",[["class","col-sm-10"]],null,null,null,null,null)),(n()(),l["\u0275eld"](162,0,null,null,5,"textarea",[["class","form-control"],["id","exampleFormControlTextarea1"],["name","additionalInformation"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,t){var i=!0,r=n.component;return"input"===e&&(i=!1!==l["\u0275nov"](n,163)._handleInput(t.target.value)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,163).onTouched()&&i),"compositionstart"===e&&(i=!1!==l["\u0275nov"](n,163)._compositionStart()&&i),"compositionend"===e&&(i=!1!==l["\u0275nov"](n,163)._compositionEnd(t.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.userData.additionalInformation=t)&&i),i}),null,null)),l["\u0275did"](163,16384,null,0,a.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.DefaultValueAccessor]),l["\u0275did"](165,671744,null,0,a.NgModel,[[2,a.ControlContainer],[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](167,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](168,0,null,null,1,"h3",[["class","my-5"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["If you don't pay yourself, please add payer's data below!"])),(n()(),l["\u0275and"](16777216,null,null,1,null,mi)),l["\u0275did"](171,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,vi)),l["\u0275did"](173,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,yi)),l["\u0275did"](175,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](176,0,null,null,13,"div",[["class","mt-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](177,0,null,null,12,"div",[["class","form-check"]],null,null,null,null,null)),(n()(),l["\u0275eld"](178,0,null,null,7,"input",[["class","form-check-input"],["id","defaultCheck1"],["name","confirm"],["required",""],["type","checkbox"],["value",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,e,t){var i=!0,r=n.component;return"change"===e&&(i=!1!==l["\u0275nov"](n,179).onChange(t.target.checked)&&i),"blur"===e&&(i=!1!==l["\u0275nov"](n,179).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(r.confirmTerms=t)&&i),i}),null,null)),l["\u0275did"](179,16384,null,0,a.CheckboxControlValueAccessor,[l.Renderer2,l.ElementRef],null,null),l["\u0275did"](180,16384,null,0,a.CheckboxRequiredValidator,[],{required:[0,"required"]},null),l["\u0275prd"](1024,null,a.NG_VALIDATORS,(function(n){return[n]}),[a.CheckboxRequiredValidator]),l["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,(function(n){return[n]}),[a.CheckboxControlValueAccessor]),l["\u0275did"](183,671744,[["confirm",4]],0,a.NgModel,[[2,a.ControlContainer],[6,a.NG_VALIDATORS],[8,null],[6,a.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,a.NgControl,null,[a.NgModel]),l["\u0275did"](185,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),(n()(),l["\u0275eld"](186,0,null,null,1,"label",[["class","form-check-label"],["for","defaultCheck1"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" I have read the terms and conditions and agree with them. "])),(n()(),l["\u0275and"](16777216,null,null,1,null,bi)),l["\u0275did"](189,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](190,0,null,null,3,"div",[["class","mt-3"]],null,null,null,null,null)),(n()(),l["\u0275eld"](191,0,null,null,2,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),l["\u0275did"](192,4276224,null,0,u.a,[l.ElementRef,c.a],{buttonBusy:[0,"buttonBusy"],busyText:[1,"busyText"]},null),(n()(),l["\u0275ted"](-1,null,["Submit"])),(n()(),l["\u0275eld"](194,0,null,null,2,"div",[["class","mt-5"]],null,null,null,null,null)),(n()(),l["\u0275eld"](195,0,null,null,1,"button",[["class","btn btn-secondary m-btn m-btn--custom m-btn--pill m-btn--wide m-btn--uppercase m-btn--bolder m-btn--sm"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.goToPreviousPage()&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Back "]))],(function(n,e){var t=e.component;n(e,14,0,""),n(e,17,0,"ssn",t.userData.socialSecurityNo),n(e,21,0,l["\u0275nov"](e,17).invalid&&(l["\u0275nov"](e,17).dirty||l["\u0275nov"](e,17).touched)),n(e,28,0,""),n(e,31,0,"firstName",t.userData.firstName),n(e,35,0,l["\u0275nov"](e,31).invalid&&(l["\u0275nov"](e,31).dirty||l["\u0275nov"](e,31).touched)),n(e,41,0,""),n(e,44,0,"lastName",t.userData.lastName),n(e,53,0,""),n(e,56,0,"street",t.userData.street),n(e,65,0,""),n(e,68,0,"zipCode",t.userData.zipCode),n(e,76,0,""),n(e,79,0,"city",t.userData.city),n(e,88,0,""),n(e,91,0,"phone",t.userData.phone),n(e,100,0,""),n(e,101,0,""),n(e,104,0,"email",t.userData.email),n(e,108,0,l["\u0275nov"](e,104).invalid&&(l["\u0275nov"](e,104).dirty||l["\u0275nov"](e,104).touched)),n(e,114,0,""),n(e,115,0,""),n(e,118,0,"confirmEmail",t.userData.confirmEmail),n(e,122,0,l["\u0275nov"](e,118).invalid&&(l["\u0275nov"](e,118).dirty||l["\u0275nov"](e,118).touched)||l["\u0275nov"](e,118).value!==l["\u0275nov"](e,104).value),n(e,130,0,"Student_Country",t.currentCountry),n(e,134,0,t.countries),n(e,142,0,"Student_BirthCountry",t.currentBirthCountry),n(e,146,0,t.countries),n(e,153,0,"Student_NativeLanguage",t.currentNativeLanguage),n(e,157,0,t.languages),n(e,165,0,"additionalInformation",t.userData.additionalInformation),n(e,171,0,!t.hasPayer),n(e,173,0,t.hasPayer),n(e,175,0,t.hasPayer),n(e,180,0,""),n(e,183,0,"confirm",t.confirmTerms),n(e,189,0,l["\u0275nov"](e,183).invalid&&(l["\u0275nov"](e,183).dirty||l["\u0275nov"](e,183).touched)),n(e,192,0,t.submitting,t.l("PleaseWait"))}),(function(n,e){var t=e.component;n(e,3,0,l["\u0275nov"](e,7).ngClassUntouched,l["\u0275nov"](e,7).ngClassTouched,l["\u0275nov"](e,7).ngClassPristine,l["\u0275nov"](e,7).ngClassDirty,l["\u0275nov"](e,7).ngClassValid,l["\u0275nov"](e,7).ngClassInvalid,l["\u0275nov"](e,7).ngClassPending),n(e,12,0,l["\u0275nov"](e,14).required?"":null,l["\u0275nov"](e,19).ngClassUntouched,l["\u0275nov"](e,19).ngClassTouched,l["\u0275nov"](e,19).ngClassPristine,l["\u0275nov"](e,19).ngClassDirty,l["\u0275nov"](e,19).ngClassValid,l["\u0275nov"](e,19).ngClassInvalid,l["\u0275nov"](e,19).ngClassPending),n(e,26,0,l["\u0275nov"](e,28).required?"":null,l["\u0275nov"](e,33).ngClassUntouched,l["\u0275nov"](e,33).ngClassTouched,l["\u0275nov"](e,33).ngClassPristine,l["\u0275nov"](e,33).ngClassDirty,l["\u0275nov"](e,33).ngClassValid,l["\u0275nov"](e,33).ngClassInvalid,l["\u0275nov"](e,33).ngClassPending),n(e,39,0,l["\u0275nov"](e,41).required?"":null,l["\u0275nov"](e,46).ngClassUntouched,l["\u0275nov"](e,46).ngClassTouched,l["\u0275nov"](e,46).ngClassPristine,l["\u0275nov"](e,46).ngClassDirty,l["\u0275nov"](e,46).ngClassValid,l["\u0275nov"](e,46).ngClassInvalid,l["\u0275nov"](e,46).ngClassPending),n(e,51,0,l["\u0275nov"](e,53).required?"":null,l["\u0275nov"](e,58).ngClassUntouched,l["\u0275nov"](e,58).ngClassTouched,l["\u0275nov"](e,58).ngClassPristine,l["\u0275nov"](e,58).ngClassDirty,l["\u0275nov"](e,58).ngClassValid,l["\u0275nov"](e,58).ngClassInvalid,l["\u0275nov"](e,58).ngClassPending),n(e,63,0,l["\u0275nov"](e,65).required?"":null,l["\u0275nov"](e,70).ngClassUntouched,l["\u0275nov"](e,70).ngClassTouched,l["\u0275nov"](e,70).ngClassPristine,l["\u0275nov"](e,70).ngClassDirty,l["\u0275nov"](e,70).ngClassValid,l["\u0275nov"](e,70).ngClassInvalid,l["\u0275nov"](e,70).ngClassPending),n(e,74,0,l["\u0275nov"](e,76).required?"":null,l["\u0275nov"](e,81).ngClassUntouched,l["\u0275nov"](e,81).ngClassTouched,l["\u0275nov"](e,81).ngClassPristine,l["\u0275nov"](e,81).ngClassDirty,l["\u0275nov"](e,81).ngClassValid,l["\u0275nov"](e,81).ngClassInvalid,l["\u0275nov"](e,81).ngClassPending),n(e,86,0,l["\u0275nov"](e,88).required?"":null,l["\u0275nov"](e,93).ngClassUntouched,l["\u0275nov"](e,93).ngClassTouched,l["\u0275nov"](e,93).ngClassPristine,l["\u0275nov"](e,93).ngClassDirty,l["\u0275nov"](e,93).ngClassValid,l["\u0275nov"](e,93).ngClassInvalid,l["\u0275nov"](e,93).ngClassPending),n(e,98,0,l["\u0275nov"](e,100).required?"":null,l["\u0275nov"](e,106).ngClassUntouched,l["\u0275nov"](e,106).ngClassTouched,l["\u0275nov"](e,106).ngClassPristine,l["\u0275nov"](e,106).ngClassDirty,l["\u0275nov"](e,106).ngClassValid,l["\u0275nov"](e,106).ngClassInvalid,l["\u0275nov"](e,106).ngClassPending),n(e,112,0,l["\u0275nov"](e,114).required?"":null,l["\u0275nov"](e,120).ngClassUntouched,l["\u0275nov"](e,120).ngClassTouched,l["\u0275nov"](e,120).ngClassPristine,l["\u0275nov"](e,120).ngClassDirty,l["\u0275nov"](e,120).ngClassValid,l["\u0275nov"](e,120).ngClassInvalid,l["\u0275nov"](e,120).ngClassPending),n(e,125,0,t.l("Country")),n(e,127,0,l["\u0275nov"](e,132).ngClassUntouched,l["\u0275nov"](e,132).ngClassTouched,l["\u0275nov"](e,132).ngClassPristine,l["\u0275nov"](e,132).ngClassDirty,l["\u0275nov"](e,132).ngClassValid,l["\u0275nov"](e,132).ngClassInvalid,l["\u0275nov"](e,132).ngClassPending),n(e,137,0,t.l("BirthCountry")),n(e,139,0,l["\u0275nov"](e,144).ngClassUntouched,l["\u0275nov"](e,144).ngClassTouched,l["\u0275nov"](e,144).ngClassPristine,l["\u0275nov"](e,144).ngClassDirty,l["\u0275nov"](e,144).ngClassValid,l["\u0275nov"](e,144).ngClassInvalid,l["\u0275nov"](e,144).ngClassPending),n(e,148,0,t.l("NativeLanguage")),n(e,150,0,l["\u0275nov"](e,155).ngClassUntouched,l["\u0275nov"](e,155).ngClassTouched,l["\u0275nov"](e,155).ngClassPristine,l["\u0275nov"](e,155).ngClassDirty,l["\u0275nov"](e,155).ngClassValid,l["\u0275nov"](e,155).ngClassInvalid,l["\u0275nov"](e,155).ngClassPending),n(e,162,0,l["\u0275nov"](e,167).ngClassUntouched,l["\u0275nov"](e,167).ngClassTouched,l["\u0275nov"](e,167).ngClassPristine,l["\u0275nov"](e,167).ngClassDirty,l["\u0275nov"](e,167).ngClassValid,l["\u0275nov"](e,167).ngClassInvalid,l["\u0275nov"](e,167).ngClassPending),n(e,178,0,l["\u0275nov"](e,180).required?"":null,l["\u0275nov"](e,185).ngClassUntouched,l["\u0275nov"](e,185).ngClassTouched,l["\u0275nov"](e,185).ngClassPristine,l["\u0275nov"](e,185).ngClassDirty,l["\u0275nov"](e,185).ngClassValid,l["\u0275nov"](e,185).ngClassInvalid,l["\u0275nov"](e,185).ngClassPending),n(e,191,0,!l["\u0275nov"](e,5).form.valid)}))}function Ei(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,53,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,37,"div",[["class","container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,36,"div",[["class","row mb-4"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["1"])),(n()(),l["\u0275eld"](7,0,null,null,1,"label",[["class","d-none d-md-block"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["License Class"])),(n()(),l["\u0275eld"](9,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["2"])),(n()(),l["\u0275eld"](13,0,null,null,1,"label",[["class","d-none d-md-block"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Previous Licenses"])),(n()(),l["\u0275eld"](15,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](16,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),l["\u0275eld"](17,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["3"])),(n()(),l["\u0275eld"](19,0,null,null,1,"label",[["class","d-none d-md-block"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Location"])),(n()(),l["\u0275eld"](21,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](22,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),l["\u0275eld"](23,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["4"])),(n()(),l["\u0275eld"](25,0,null,null,1,"label",[["class","d-none d-md-block"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Courses"])),(n()(),l["\u0275eld"](27,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](28,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),l["\u0275eld"](29,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["5"])),(n()(),l["\u0275eld"](31,0,null,null,1,"label",[["class","d-none d-md-block"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Price Packages"])),(n()(),l["\u0275eld"](33,0,null,null,5,"div",[["class","col-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](34,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),l["\u0275eld"](35,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["6"])),(n()(),l["\u0275eld"](37,0,null,null,1,"label",[["class","d-none d-md-block"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Your data"])),(n()(),l["\u0275eld"](39,0,null,null,14,"div",[["class","m-pricing-table-1 m-pricing-table-1--fixed"]],null,null,null,null,null)),(n()(),l["\u0275eld"](40,0,null,null,13,"div",[["class","m-portlet"]],null,null,null,null,null)),(n()(),l["\u0275eld"](41,0,null,null,12,"div",[["class","m-portlet__body"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,Gl)),l["\u0275did"](43,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Jl)),l["\u0275did"](45,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Xl)),l["\u0275did"](47,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Zl)),l["\u0275did"](49,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,li)),l["\u0275did"](51,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,Ci)),l["\u0275did"](53,16384,null,0,s.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,43,0,0==t.currentPageNumber&&null!=t.licenseClasses),n(e,45,0,1==t.currentPageNumber&&null!=t.licenseClassesOwned),n(e,47,0,2==t.currentPageNumber&&null!=t.offices),n(e,49,0,3==t.currentPageNumber&&null!=t.courses),n(e,51,0,4==t.currentPageNumber&&null!=t.pricePackages),n(e,53,0,5==t.currentPageNumber)}),(function(n,e){var t=e.component;n(e,0,0,void 0),n(e,4,0,l["\u0275inlineInterpolate"](1,"",t.licenseClassDivClass,"")),n(e,10,0,l["\u0275inlineInterpolate"](1,"",t.licenseClassOwnedDivClass,"")),n(e,16,0,l["\u0275inlineInterpolate"](1,"",t.locationDivClass,"")),n(e,22,0,l["\u0275inlineInterpolate"](1,"",t.coursesDivClass,"")),n(e,28,0,l["\u0275inlineInterpolate"](1,"",t.pricePackageDivClass,"")),n(e,34,0,l["\u0275inlineInterpolate"](1,"",t.yourDataDivClass,""))}))}function xi(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"enrollment",[],null,null,null,Ei,ql)),l["\u0275did"](1,114688,null,0,Ml,[l.Injector,m.Sd,m.Ld,Bl.a,Ul.a,m.pb,I.Router],null,null)],(function(n,e){n(e,1,0)}),null)}var wi=l["\u0275ccf"]("enrollment",Ml,xi,{},{},[]),Ai=t("atuK"),_i=t("rf+y"),Ti=t("UtOw"),Ii=t("dxxL"),Ri=t("tnCA"),Ni=t("WTR0"),Fi=t("Yap4"),Pi=t("wtux"),Oi=t("EohJ"),Di=t("op6y"),ki=t("QkXj"),Vi=t("RrOR"),Li=t("CP3D"),Hi=t("oo35"),Bi=t("NJnL"),Ui=t("YAQW"),Mi=t("ARl4"),qi=t("Qj9z"),ji=function(){function n(n,e,t){this._permissionChecker=n,this._router=e,this._sessionService=t}return n.prototype.canActivate=function(n,e){return!(!n.queryParams.ss||"true"!==n.queryParams.ss)||!this._sessionService.user||(this._router.navigate([this.selectBestRoute()]),!1)},n.prototype.selectBestRoute=function(){return this._permissionChecker.isGranted("Pages.Administration.Host.Dashboard")?"/app/admin/hostDashboard":this._permissionChecker.isGranted("Pages.Tenant.Dashboard")?"/app/main/dashboard":"/app/notifications"},n}(),Ki=t("WH67"),Gi=t("uOf+"),zi=t("JeFn"),Wi=t("pmn7"),$i=t("yc4G"),Ji=t("YirH"),Yi=function(){function n(n,e){var t=this;this.router=n,this._uiCustomizationService=e,n.events.subscribe((function(n){setTimeout((function(){t.toggleBodyCssClass(n.url)}),0)}))}return n.prototype.toggleBodyCssClass=function(n){n?n.indexOf("/account/")>=0?this.setAccountModuleBodyClassInternal():document.body.className=this._uiCustomizationService.getAppModuleBodyClass():this.setAccountModuleBodyClassInternal()},n.prototype.setAccountModuleBodyClassInternal=function(){var n="";document.body.className.indexOf("swal2-toast-shown")>=0&&(n+=" swal2-toast-shown"),document.body.className=this._uiCustomizationService.getAccountModuleBodyClass()+" "+n},n}();t.d(e,"AccountModuleNgFactory",(function(){return Xi}));var Xi=l["\u0275cmf"](i,[],(function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,r.b,o.a,Bn,ne,ve,Ne,Be,Ke,Qe,lt,at,ft,Et,Ot,Bt,Wt,pl,Cl,Tl,Ol,Hl,wi,Ai.a,Ai.b,Ai.c]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[l.LOCALE_ID,[2,s["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,a["\u0275angular_packages_forms_forms_j"],a["\u0275angular_packages_forms_forms_j"],[]),l["\u0275mpd"](4608,K.HttpXsrfTokenExtractor,K["\u0275angular_packages_common_http_http_g"],[s.DOCUMENT,l.PLATFORM_ID,K["\u0275angular_packages_common_http_http_e"]]),l["\u0275mpd"](4608,K["\u0275angular_packages_common_http_http_h"],K["\u0275angular_packages_common_http_http_h"],[K.HttpXsrfTokenExtractor,K["\u0275angular_packages_common_http_http_f"]]),l["\u0275mpd"](5120,K["\u0275angular_packages_common_http_http_b"],K["\u0275angular_packages_common_http_http_c"],[]),l["\u0275mpd"](4608,K.JsonpClientBackend,K.JsonpClientBackend,[K["\u0275angular_packages_common_http_http_b"],s.DOCUMENT]),l["\u0275mpd"](4608,U.a,U.a,[]),l["\u0275mpd"](4608,B.a,B.a,[]),l["\u0275mpd"](4608,_i.a,_i.a,[U.a,B.a]),l["\u0275mpd"](5120,un,_n,[]),l["\u0275mpd"](4608,Cn,En,[]),l["\u0275mpd"](5120,K.HTTP_INTERCEPTORS,(function(n,e,t,l,i,r){return[n,new K.JsonpInterceptor(e),new _i.b(t),new xn(l,i,r)]}),[K["\u0275angular_packages_common_http_http_h"],K.JsonpClientBackend,_i.a,un,Cn,[2,bn]]),l["\u0275mpd"](4608,K["\u0275angular_packages_common_http_http_d"],K["\u0275angular_packages_common_http_http_d"],[]),l["\u0275mpd"](6144,K.XhrFactory,null,[K["\u0275angular_packages_common_http_http_d"]]),l["\u0275mpd"](4608,K.HttpXhrBackend,K.HttpXhrBackend,[K.XhrFactory]),l["\u0275mpd"](6144,K.HttpBackend,null,[K.HttpXhrBackend]),l["\u0275mpd"](4608,K.HttpHandler,K["\u0275HttpInterceptingHandler"],[K.HttpBackend,l.Injector]),l["\u0275mpd"](4608,K.HttpClient,K.HttpClient,[K.HttpHandler]),l["\u0275mpd"](4608,te.RecaptchaLoaderService,te.RecaptchaLoaderService,[l.PLATFORM_ID,[2,te.RECAPTCHA_LANGUAGE],[2,te.RECAPTCHA_BASE_URL],[2,te.RECAPTCHA_NONCE]]),l["\u0275mpd"](4608,jn.a,jn.a,[]),l["\u0275mpd"](4608,Ti.a,Ti.a,[]),l["\u0275mpd"](4608,Ii.a,Ii.a,[]),l["\u0275mpd"](4608,Ri.a,Ri.a,[]),l["\u0275mpd"](4608,Ni.a,Ni.a,[]),l["\u0275mpd"](4608,Fi.a,Fi.a,[]),l["\u0275mpd"](4608,Pi.a,Pi.a,[]),l["\u0275mpd"](4608,Oi.a,Oi.a,[K.HttpClient]),l["\u0275mpd"](4608,H.a,H.a,[]),l["\u0275mpd"](4608,M.a,M.a,[]),l["\u0275mpd"](4608,Di.a,Di.a,[]),l["\u0275mpd"](4608,ki.a,ki.a,[]),l["\u0275mpd"](4608,j.a,j.a,[]),l["\u0275mpd"](4608,Vi.a,Vi.a,[]),l["\u0275mpd"](4608,Li.a,Li.a,[]),l["\u0275mpd"](4608,Hi.a,Hi.a,[]),l["\u0275mpd"](4608,m.pb,m.pb,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Nc,m.Nc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.w,m.w,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Lc,m.Lc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.sd,m.sd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Cb,m.Cb,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Qc,m.Qc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Dd,m.Dd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Tc,m.Tc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.td,m.td,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.yc,m.yc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Ce,m.Ce,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.hb,m.hb,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.jc,m.jc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.ee,m.ee,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.ib,m.ib,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Fd,m.Fd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.pc,m.pc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.i,m.i,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.l,m.l,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.r,m.r,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.u,m.u,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.lb,m.lb,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Eb,m.Eb,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.dc,m.dc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.gc,m.gc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.nc,m.nc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.vc,m.vc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Ac,m.Ac,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Hc,m.Hc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Uc,m.Uc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.cd,m.cd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.md,m.md,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Td,m.Td,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Qd,m.Qd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Ud,m.Ud,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.ge,m.ge,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.ze,m.ze,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.ve,m.ve,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.xe,m.xe,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Ee,m.Ee,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.b,m.b,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.he,m.he,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Sd,m.Sd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.cc,m.cc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Gc,m.Gc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.cb,m.cb,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.lc,m.lc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Ld,m.Ld,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.je,m.je,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Dc,m.Dc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.xd,m.xd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.fe,m.fe,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.f,m.f,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.fd,m.fd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Ic,m.Ic,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.ic,m.ic,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Gd,m.Gd,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Bc,m.Bc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.Ad,m.Ad,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,m.zc,m.zc,[K.HttpClient,[2,m.a]]),l["\u0275mpd"](4608,Bi.a,Bi.a,[l.RendererFactory2,l.PLATFORM_ID]),l["\u0275mpd"](4608,h.a,h.a,[l.ComponentFactoryResolver,l.NgZone,l.Injector,Bi.a,l.ApplicationRef]),l["\u0275mpd"](4608,p.a,p.a,[l.RendererFactory2,h.a]),l["\u0275mpd"](4608,cn,wn,[]),l["\u0275mpd"](4608,dn,dn,[]),l["\u0275mpd"](5120,an,An,[]),l["\u0275mpd"](4608,Sn,Sn,[l.NgZone,K.HttpClient,[2,un],[2,cn],[2,vn],dn,an]),l["\u0275mpd"](4608,Ui.f,Ui.f,[]),l["\u0275mpd"](4608,Mi.x,Mi.x,[]),l["\u0275mpd"](4608,Mi.z,Mi.z,[]),l["\u0275mpd"](4608,Mi.a,Mi.a,[]),l["\u0275mpd"](4608,Mi.e,Mi.e,[]),l["\u0275mpd"](4608,Mi.c,Mi.c,[]),l["\u0275mpd"](4608,Mi.g,Mi.g,[]),l["\u0275mpd"](4608,Mi.y,Mi.y,[Mi.z,Mi.g]),l["\u0275mpd"](4608,Nn,Nn,[m.he,I.Router,M.a,U.a,H.a,B.a,Sn]),l["\u0275mpd"](4608,Se,Se,[]),l["\u0275mpd"](4608,xt,xt,[]),l["\u0275mpd"](4608,ji,ji,[Ti.a,I.Router,qi.a]),l["\u0275mpd"](1073742336,s.CommonModule,s.CommonModule,[]),l["\u0275mpd"](1073742336,a["\u0275angular_packages_forms_forms_bc"],a["\u0275angular_packages_forms_forms_bc"],[]),l["\u0275mpd"](1073742336,a.FormsModule,a.FormsModule,[]),l["\u0275mpd"](1073742336,K.HttpClientXsrfModule,K.HttpClientXsrfModule,[]),l["\u0275mpd"](1073742336,K.HttpClientModule,K.HttpClientModule,[]),l["\u0275mpd"](1073742336,K.HttpClientJsonpModule,K.HttpClientJsonpModule,[]),l["\u0275mpd"](1073742336,Ki.RecaptchaCommonModule,Ki.RecaptchaCommonModule,[]),l["\u0275mpd"](1073742336,Gi.RecaptchaModule,Gi.RecaptchaModule,[]),l["\u0275mpd"](1073742336,p.e,p.e,[]),l["\u0275mpd"](1073742336,zi.a,zi.a,[]),l["\u0275mpd"](1073742336,Wi.a,Wi.a,[]),l["\u0275mpd"](1073742336,$i.a,$i.a,[]),l["\u0275mpd"](1073742336,Ji.a,Ji.a,[]),l["\u0275mpd"](1073742336,I.RouterModule,I.RouterModule,[[2,I["\u0275angular_packages_router_router_a"]],[2,I.Router]]),l["\u0275mpd"](1073742336,Yi,Yi,[I.Router,V.a]),l["\u0275mpd"](1073742336,Tn,Tn,[]),l["\u0275mpd"](1073742336,Ui.d,Ui.d,[]),l["\u0275mpd"](1073742336,Mi.d,Mi.d,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](256,K["\u0275angular_packages_common_http_http_e"],"XSRF-TOKEN",[]),l["\u0275mpd"](256,K["\u0275angular_packages_common_http_http_f"],"X-XSRF-TOKEN",[]),l["\u0275mpd"](256,bn,null,[]),l["\u0275mpd"](1024,I.ROUTES,(function(){return[[{path:"",component:Fn,children:[{path:"",redirectTo:"login"},{path:"login",component:Kn,canActivate:[ji]},{path:"register",component:ue,canActivate:[ji]},{path:"register-tenant",component:be,canActivate:[ji]},{path:"register-tenant-result",component:Pe,canActivate:[ji]},{path:"forgot-password",component:Ue,canActivate:[ji]},{path:"reset-password",component:ze,canActivate:[ji]},{path:"email-activation",component:Ze,canActivate:[ji]},{path:"confirm-email",component:it,canActivate:[ji]},{path:"send-code",component:ut,canActivate:[ji]},{path:"verify-code",component:vt,canActivate:[ji]},{path:"buy",component:wt},{path:"extend",component:Dt},{path:"upgrade",component:Ut},{path:"select-edition",component:$t},{path:"paypal-purchase",component:fl},{path:"stripe-purchase",component:El},{path:"stripe-subscribe",component:Il},{path:"stripe-update-subscription",component:Dl},{path:"enrollment",component:Ml}]}]]}),[])])}))},WH67:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("CcnG"),i=t("15PL");e.RecaptchaCommonModule=function(){function n(){}return n.decorators=[{type:l.NgModule,args:[{declarations:[i.RecaptchaComponent],exports:[i.RecaptchaComponent]}]}],n}()},gfpf:function(n,e){var t={userAgent:!1},l={};if(void 0===i)var i={};i.lang={extend:function(n,e,l){if(!e||!n)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=e.prototype,n.prototype=new i,n.prototype.constructor=n,n.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),l){var r;for(r in l)n.prototype[r]=l[r];var s=function(){},a=["toString","valueOf"];try{/MSIE/.test(t.userAgent)&&(s=function(n,e){for(r=0;r<a.length;r+=1){var t=a[r],l=e[t];"function"==typeof l&&l!=Object.prototype[t]&&(n[t]=l)}})}catch(o){}s(n.prototype,l)}}};var r,o,s,a,u,c,d,p,h,g,f,m=m||(r=Math,s=(o={}).lib={},a=s.Base=function(){function n(){}return{extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var e in n)n.hasOwnProperty(e)&&(this[e]=n[e]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=s.WordArray=a.extend({init:function(n,e){n=this.words=n||[],this.sigBytes=null!=e?e:4*n.length},toString:function(n){return(n||d).stringify(this)},concat:function(n){var e=this.words,t=n.words,l=this.sigBytes,i=n.sigBytes;if(this.clamp(),l%4)for(var r=0;r<i;r++)e[l+r>>>2]|=(t[r>>>2]>>>24-r%4*8&255)<<24-(l+r)%4*8;else for(r=0;r<i;r+=4)e[l+r>>>2]=t[r>>>2];return this.sigBytes+=i,this},clamp:function(){var n=this.words,e=this.sigBytes;n[e>>>2]&=4294967295<<32-e%4*8,n.length=r.ceil(e/4)},clone:function(){var n=a.clone.call(this);return n.words=this.words.slice(0),n},random:function(n){for(var e=[],t=0;t<n;t+=4)e.push(4294967296*r.random()|0);return new u.init(e,n)}}),c=o.enc={},d=c.Hex={stringify:function(n){for(var e=n.words,t=n.sigBytes,l=[],i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;l.push((r>>>4).toString(16)),l.push((15&r).toString(16))}return l.join("")},parse:function(n){for(var e=n.length,t=[],l=0;l<e;l+=2)t[l>>>3]|=parseInt(n.substr(l,2),16)<<24-l%8*4;return new u.init(t,e/2)}},p=c.Latin1={stringify:function(n){for(var e=n.words,t=n.sigBytes,l=[],i=0;i<t;i++)l.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return l.join("")},parse:function(n){for(var e=n.length,t=[],l=0;l<e;l++)t[l>>>2]|=(255&n.charCodeAt(l))<<24-l%4*8;return new u.init(t,e)}},h=c.Utf8={stringify:function(n){try{return decodeURIComponent(escape(p.stringify(n)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(n){return p.parse(unescape(encodeURIComponent(n)))}},g=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=h.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes},_process:function(n){var e=this._data,t=e.words,l=e.sigBytes,i=this.blockSize,o=l/(4*i),s=(o=n?r.ceil(o):r.max((0|o)-this._minBufferSize,0))*i,a=r.min(4*s,l);if(s){for(var c=0;c<s;c+=i)this._doProcessBlock(t,c);var d=t.splice(0,s);e.sigBytes-=a}return new u.init(d,a)},clone:function(){var n=a.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),s.Hasher=g.extend({cfg:a.extend(),init:function(n){this.cfg=this.cfg.extend(n),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new f.HMAC.init(n,t).finalize(e)}}}),f=o.algo={},o);!function(n){var e,t=(e=m).lib,l=t.Base,i=t.WordArray;(e=e.x64={}).Word=l.extend({init:function(n,e){this.high=n,this.low=e}}),e.WordArray=l.extend({init:function(n,e){n=this.words=n||[],this.sigBytes=null!=e?e:8*n.length},toX32:function(){for(var n=this.words,e=n.length,t=[],l=0;l<e;l++){var r=n[l];t.push(r.high),t.push(r.low)}return i.create(t,this.sigBytes)},clone:function(){for(var n=l.clone.call(this),e=n.words=this.words.slice(0),t=e.length,i=0;i<t;i++)e[i]=e[i].clone();return n}})}(),m.lib.Cipher||function(n){var e=(h=m).lib,t=e.Base,l=e.WordArray,i=e.BufferedBlockAlgorithm,r=h.enc.Base64,o=h.algo.EvpKDF,s=e.Cipher=i.extend({cfg:t.extend(),createEncryptor:function(n,e){return this.create(this._ENC_XFORM_MODE,n,e)},createDecryptor:function(n,e){return this.create(this._DEC_XFORM_MODE,n,e)},init:function(n,e,t){this.cfg=this.cfg.extend(t),this._xformMode=n,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(n){return this._append(n),this._process()},finalize:function(n){return n&&this._append(n),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{encrypt:function(e,t,l){return("string"==typeof t?g:p).encrypt(n,e,t,l)},decrypt:function(e,t,l){return("string"==typeof t?g:p).decrypt(n,e,t,l)}}}});e.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var a=h.mode={},u=function(n,e,t){var l=this._iv;l?this._iv=void 0:l=this._prevBlock;for(var i=0;i<t;i++)n[e+i]^=l[i]},c=(e.BlockCipherMode=t.extend({createEncryptor:function(n,e){return this.Encryptor.create(n,e)},createDecryptor:function(n,e){return this.Decryptor.create(n,e)},init:function(n,e){this._cipher=n,this._iv=e}})).extend();c.Encryptor=c.extend({processBlock:function(n,e){var t=this._cipher,l=t.blockSize;u.call(this,n,e,l),t.encryptBlock(n,e),this._prevBlock=n.slice(e,e+l)}}),c.Decryptor=c.extend({processBlock:function(n,e){var t=this._cipher,l=t.blockSize,i=n.slice(e,e+l);t.decryptBlock(n,e),u.call(this,n,e,l),this._prevBlock=i}}),a=a.CBC=c,c=(h.pad={}).Pkcs7={pad:function(n,e){for(var t,i=(t=(t=4*e)-n.sigBytes%t)<<24|t<<16|t<<8|t,r=[],o=0;o<t;o+=4)r.push(i);t=l.create(r,t),n.concat(t)},unpad:function(n){n.sigBytes-=255&n.words[n.sigBytes-1>>>2]}},e.BlockCipher=s.extend({cfg:s.cfg.extend({mode:a,padding:c}),reset:function(){s.reset.call(this);var n=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var t=e.createEncryptor;else t=e.createDecryptor,this._minBufferSize=1;this._mode=t.call(e,this,n&&n.words)},_doProcessBlock:function(n,e){this._mode.processBlock(n,e)},_doFinalize:function(){var n=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){n.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),n.unpad(e);return e},blockSize:4});var d=e.CipherParams=t.extend({init:function(n){this.mixIn(n)},toString:function(n){return(n||this.formatter).stringify(this)}}),p=(a=(h.format={}).OpenSSL={stringify:function(n){var e=n.ciphertext;return((n=n.salt)?l.create([1398893684,1701076831]).concat(n).concat(e):e).toString(r)},parse:function(n){var e=(n=r.parse(n)).words;if(1398893684==e[0]&&1701076831==e[1]){var t=l.create(e.slice(2,4));e.splice(0,4),n.sigBytes-=16}return d.create({ciphertext:n,salt:t})}},e.SerializableCipher=t.extend({cfg:t.extend({format:a}),encrypt:function(n,e,t,l){l=this.cfg.extend(l);var i=n.createEncryptor(t,l);return e=i.finalize(e),d.create({ciphertext:e,key:t,iv:(i=i.cfg).iv,algorithm:n,mode:i.mode,padding:i.padding,blockSize:n.blockSize,formatter:l.format})},decrypt:function(n,e,t,l){return l=this.cfg.extend(l),e=this._parse(e,l.format),n.createDecryptor(t,l).finalize(e.ciphertext)},_parse:function(n,e){return"string"==typeof n?e.parse(n,this):n}})),h=(h.kdf={}).OpenSSL={execute:function(n,e,t,i){return i||(i=l.random(8)),n=o.create({keySize:e+t}).compute(n,i),t=l.create(n.words.slice(e),4*t),n.sigBytes=4*e,d.create({key:n,iv:t,salt:i})}},g=e.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:h}),encrypt:function(n,e,t,l){return t=(l=this.cfg.extend(l)).kdf.execute(t,n.keySize,n.ivSize),l.iv=t.iv,(n=p.encrypt.call(this,n,e,t.key,l)).mixIn(t),n},decrypt:function(n,e,t,l){return l=this.cfg.extend(l),e=this._parse(e,l.format),t=l.kdf.execute(t,n.keySize,n.ivSize,e.salt),l.iv=t.iv,p.decrypt.call(this,n,e,t.key,l)}})}(),function(){for(var n=m,e=n.lib.BlockCipher,t=n.algo,l=[],i=[],r=[],o=[],s=[],a=[],u=[],c=[],d=[],p=[],h=[],g=0;256>g;g++)h[g]=128>g?g<<1:g<<1^283;var f=0,v=0;for(g=0;256>g;g++){var y;l[f]=y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99,i[y]=f;var S=h[f],b=h[S],C=h[b],E=257*h[y]^16843008*y;r[f]=E<<24|E>>>8,o[f]=E<<16|E>>>16,s[f]=E<<8|E>>>24,a[f]=E,u[y]=(E=16843009*C^65537*b^257*S^16843008*f)<<24|E>>>8,c[y]=E<<16|E>>>16,d[y]=E<<8|E>>>24,p[y]=E,f?(f=S^h[h[h[C^S]]],v^=h[h[v]]):f=v=1}var x=[0,1,2,4,8,16,32,64,128,27,54];t=t.AES=e.extend({_doReset:function(){for(var n=(t=this._key).words,e=t.sigBytes/4,t=4*((this._nRounds=e+6)+1),i=this._keySchedule=[],r=0;r<t;r++)if(r<e)i[r]=n[r];else{var o=i[r-1];r%e?6<e&&4==r%e&&(o=l[o>>>24]<<24|l[o>>>16&255]<<16|l[o>>>8&255]<<8|l[255&o]):(o=l[(o=o<<8|o>>>24)>>>24]<<24|l[o>>>16&255]<<16|l[o>>>8&255]<<8|l[255&o],o^=x[r/e|0]<<24),i[r]=i[r-e]^o}for(n=this._invKeySchedule=[],e=0;e<t;e++)r=t-e,o=e%4?i[r]:i[r-4],n[e]=4>e||4>=r?o:u[l[o>>>24]]^c[l[o>>>16&255]]^d[l[o>>>8&255]]^p[l[255&o]]},encryptBlock:function(n,e){this._doCryptBlock(n,e,this._keySchedule,r,o,s,a,l)},decryptBlock:function(n,e){var t=n[e+1];n[e+1]=n[e+3],n[e+3]=t,this._doCryptBlock(n,e,this._invKeySchedule,u,c,d,p,i),t=n[e+1],n[e+1]=n[e+3],n[e+3]=t},_doCryptBlock:function(n,e,t,l,i,r,o,s){for(var a=this._nRounds,u=n[e]^t[0],c=n[e+1]^t[1],d=n[e+2]^t[2],p=n[e+3]^t[3],h=4,g=1;g<a;g++){var f=l[u>>>24]^i[c>>>16&255]^r[d>>>8&255]^o[255&p]^t[h++],m=l[c>>>24]^i[d>>>16&255]^r[p>>>8&255]^o[255&u]^t[h++],v=l[d>>>24]^i[p>>>16&255]^r[u>>>8&255]^o[255&c]^t[h++];p=l[p>>>24]^i[u>>>16&255]^r[c>>>8&255]^o[255&d]^t[h++],u=f,c=m,d=v}f=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^t[h++],m=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^t[h++],v=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^t[h++],p=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^t[h++],n[e]=f,n[e+1]=m,n[e+2]=v,n[e+3]=p},keySize:8}),n.AES=e._createHelper(t)}(),function(){function n(n,e){var t=(this._lBlock>>>n^this._rBlock)&e;this._rBlock^=t,this._lBlock^=t<<n}function e(n,e){var t=(this._rBlock>>>n^this._lBlock)&e;this._lBlock^=t,this._rBlock^=t<<n}var t,l=m,i=(t=l.lib).WordArray,r=l.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=r.DES=(t=t.BlockCipher).extend({_doReset:function(){for(var n=this._key.words,e=[],t=0;56>t;t++){var l=o[t]-1;e[t]=n[l>>>5]>>>31-l%32&1}for(n=this._subKeys=[],l=0;16>l;l++){var i=n[l]=[],r=a[l];for(t=0;24>t;t++)i[t/6|0]|=e[(s[t]-1+r)%28]<<31-t%6,i[4+(t/6|0)]|=e[28+(s[t+24]-1+r)%28]<<31-t%6;for(i[0]=i[0]<<1|i[0]>>>31,t=1;7>t;t++)i[t]>>>=4*(t-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(e=this._invSubKeys=[],t=0;16>t;t++)e[t]=n[15-t]},encryptBlock:function(n,e){this._doCryptBlock(n,e,this._subKeys)},decryptBlock:function(n,e){this._doCryptBlock(n,e,this._invSubKeys)},_doCryptBlock:function(t,l,i){this._lBlock=t[l],this._rBlock=t[l+1],n.call(this,4,252645135),n.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),n.call(this,1,1431655765);for(var r=0;16>r;r++){for(var o=i[r],s=this._lBlock,a=this._rBlock,d=0,p=0;8>p;p++)d|=u[p][((a^o[p])&c[p])>>>0];this._lBlock=a,this._rBlock=s^d}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,n.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),n.call(this,16,65535),n.call(this,4,252645135),t[l]=this._lBlock,t[l+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});l.DES=t._createHelper(d),r=r.TripleDES=t.extend({_doReset:function(){var n=this._key.words;this._des1=d.createEncryptor(i.create(n.slice(0,2))),this._des2=d.createEncryptor(i.create(n.slice(2,4))),this._des3=d.createEncryptor(i.create(n.slice(4,6)))},encryptBlock:function(n,e){this._des1.encryptBlock(n,e),this._des2.decryptBlock(n,e),this._des3.encryptBlock(n,e)},decryptBlock:function(n,e){this._des3.decryptBlock(n,e),this._des2.encryptBlock(n,e),this._des1.decryptBlock(n,e)},keySize:6,ivSize:2,blockSize:2}),l.TripleDES=t._createHelper(r)}(),function(){var n=m.lib.WordArray;m.enc.Base64={stringify:function(n){var e=n.words,t=n.sigBytes,l=this._map;n.clamp(),n=[];for(var i=0;i<t;i+=3)for(var r=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<t;o++)n.push(l.charAt(r>>>6*(3-o)&63));if(e=l.charAt(64))for(;n.length%4;)n.push(e);return n.join("")},parse:function(e){var t=e.length,l=this._map;(i=l.charAt(64))&&-1!=(i=e.indexOf(i))&&(t=i);for(var i=[],r=0,o=0;o<t;o++)if(o%4){var s=l.indexOf(e.charAt(o-1))<<o%4*2,a=l.indexOf(e.charAt(o))>>>6-o%4*2;i[r>>>2]|=(s|a)<<24-r%4*8,r++}return n.create(i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(n){function e(n,e,t,l,i,r,o){return((n=n+(e&t|~e&l)+i+o)<<r|n>>>32-r)+e}function t(n,e,t,l,i,r,o){return((n=n+(e&l|t&~l)+i+o)<<r|n>>>32-r)+e}function l(n,e,t,l,i,r,o){return((n=n+(e^t^l)+i+o)<<r|n>>>32-r)+e}function i(n,e,t,l,i,r,o){return((n=n+(t^(e|~l))+i+o)<<r|n>>>32-r)+e}for(var r=m,o=(a=r.lib).WordArray,s=a.Hasher,a=r.algo,u=[],c=0;64>c;c++)u[c]=4294967296*n.abs(n.sin(c+1))|0;a=a.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(n,r){for(var o=0;16>o;o++)n[s=r+o]=16711935&((a=n[s])<<8|a>>>24)|4278255360&(a<<24|a>>>8);var s,a=n[r+1],c=n[r+2],d=n[r+3],p=n[r+4],h=n[r+5],g=n[r+6],f=n[r+7],m=n[r+8],v=n[r+9],y=n[r+10],S=n[r+11],b=n[r+12],C=n[r+13],E=n[r+14],x=n[r+15],w=e(w=(o=this._hash.words)[0],T=o[1],_=o[2],A=o[3],s=n[r+0],7,u[0]),A=e(A,w,T,_,a,12,u[1]),_=e(_,A,w,T,c,17,u[2]),T=e(T,_,A,w,d,22,u[3]);w=e(w,T,_,A,p,7,u[4]),A=e(A,w,T,_,h,12,u[5]),_=e(_,A,w,T,g,17,u[6]),T=e(T,_,A,w,f,22,u[7]),w=e(w,T,_,A,m,7,u[8]),A=e(A,w,T,_,v,12,u[9]),_=e(_,A,w,T,y,17,u[10]),T=e(T,_,A,w,S,22,u[11]),w=e(w,T,_,A,b,7,u[12]),A=e(A,w,T,_,C,12,u[13]),_=e(_,A,w,T,E,17,u[14]),w=t(w,T=e(T,_,A,w,x,22,u[15]),_,A,a,5,u[16]),A=t(A,w,T,_,g,9,u[17]),_=t(_,A,w,T,S,14,u[18]),T=t(T,_,A,w,s,20,u[19]),w=t(w,T,_,A,h,5,u[20]),A=t(A,w,T,_,y,9,u[21]),_=t(_,A,w,T,x,14,u[22]),T=t(T,_,A,w,p,20,u[23]),w=t(w,T,_,A,v,5,u[24]),A=t(A,w,T,_,E,9,u[25]),_=t(_,A,w,T,d,14,u[26]),T=t(T,_,A,w,m,20,u[27]),w=t(w,T,_,A,C,5,u[28]),A=t(A,w,T,_,c,9,u[29]),_=t(_,A,w,T,f,14,u[30]),w=l(w,T=t(T,_,A,w,b,20,u[31]),_,A,h,4,u[32]),A=l(A,w,T,_,m,11,u[33]),_=l(_,A,w,T,S,16,u[34]),T=l(T,_,A,w,E,23,u[35]),w=l(w,T,_,A,a,4,u[36]),A=l(A,w,T,_,p,11,u[37]),_=l(_,A,w,T,f,16,u[38]),T=l(T,_,A,w,y,23,u[39]),w=l(w,T,_,A,C,4,u[40]),A=l(A,w,T,_,s,11,u[41]),_=l(_,A,w,T,d,16,u[42]),T=l(T,_,A,w,g,23,u[43]),w=l(w,T,_,A,v,4,u[44]),A=l(A,w,T,_,b,11,u[45]),_=l(_,A,w,T,x,16,u[46]),w=i(w,T=l(T,_,A,w,c,23,u[47]),_,A,s,6,u[48]),A=i(A,w,T,_,f,10,u[49]),_=i(_,A,w,T,E,15,u[50]),T=i(T,_,A,w,h,21,u[51]),w=i(w,T,_,A,b,6,u[52]),A=i(A,w,T,_,d,10,u[53]),_=i(_,A,w,T,y,15,u[54]),T=i(T,_,A,w,a,21,u[55]),w=i(w,T,_,A,m,6,u[56]),A=i(A,w,T,_,x,10,u[57]),_=i(_,A,w,T,g,15,u[58]),T=i(T,_,A,w,C,21,u[59]),w=i(w,T,_,A,p,6,u[60]),A=i(A,w,T,_,S,10,u[61]),_=i(_,A,w,T,c,15,u[62]),T=i(T,_,A,w,v,21,u[63]),o[0]=o[0]+w|0,o[1]=o[1]+T|0,o[2]=o[2]+_|0,o[3]=o[3]+A|0},_doFinalize:function(){var e=this._data,t=e.words,l=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var r=n.floor(l/4294967296);for(t[15+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t[14+(i+64>>>9<<4)]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,l=0;4>l;l++)t[l]=16711935&((i=t[l])<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var n=s.clone.call(this);return n._hash=this._hash.clone(),n}}),r.MD5=s._createHelper(a),r.HmacMD5=s._createHmacHelper(a)}(Math),function(){var n=m,e=(i=n.lib).WordArray,t=i.Hasher,l=[],i=n.algo.SHA1=t.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,e){for(var t=this._hash.words,i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],u=0;80>u;u++){if(16>u)l[u]=0|n[e+u];else{var c=l[u-3]^l[u-8]^l[u-14]^l[u-16];l[u]=c<<1|c>>>31}c=(i<<5|i>>>27)+a+l[u],c=20>u?c+(1518500249+(r&o|~r&s)):40>u?c+(1859775393+(r^o^s)):60>u?c+((r&o|r&s|o&s)-1894007588):c+((r^o^s)-899497514),a=s,s=o,o=r<<30|r>>>2,r=i,i=c}t[0]=t[0]+i|0,t[1]=t[1]+r|0,t[2]=t[2]+o|0,t[3]=t[3]+s|0,t[4]=t[4]+a|0},_doFinalize:function(){var n=this._data,e=n.words,t=8*this._nDataBytes,l=8*n.sigBytes;return e[l>>>5]|=128<<24-l%32,e[14+(l+64>>>9<<4)]=Math.floor(t/4294967296),e[15+(l+64>>>9<<4)]=t,n.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var n=t.clone.call(this);return n._hash=this._hash.clone(),n}});n.SHA1=t._createHelper(i),n.HmacSHA1=t._createHmacHelper(i)}(),function(n){for(var e=m,t=(i=e.lib).WordArray,l=i.Hasher,i=e.algo,r=[],o=[],s=function(n){return 4294967296*(n-(0|n))|0},a=2,u=0;64>u;){var c;n:{for(var d=n.sqrt(c=a),p=2;p<=d;p++)if(!(c%p)){c=!1;break n}c=!0}c&&(8>u&&(r[u]=s(n.pow(a,.5))),o[u]=s(n.pow(a,1/3)),u++),a++}var h=[];i=i.SHA256=l.extend({_doReset:function(){this._hash=new t.init(r.slice(0))},_doProcessBlock:function(n,e){for(var t=this._hash.words,l=t[0],i=t[1],r=t[2],s=t[3],a=t[4],u=t[5],c=t[6],d=t[7],p=0;64>p;p++){if(16>p)h[p]=0|n[e+p];else{var g=h[p-15],f=h[p-2];h[p]=((g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3)+h[p-7]+((f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10)+h[p-16]}g=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&c)+o[p]+h[p],f=((l<<30|l>>>2)^(l<<19|l>>>13)^(l<<10|l>>>22))+(l&i^l&r^i&r),d=c,c=u,u=a,a=s+g|0,s=r,r=i,i=l,l=g+f|0}t[0]=t[0]+l|0,t[1]=t[1]+i|0,t[2]=t[2]+r|0,t[3]=t[3]+s|0,t[4]=t[4]+a|0,t[5]=t[5]+u|0,t[6]=t[6]+c|0,t[7]=t[7]+d|0},_doFinalize:function(){var e=this._data,t=e.words,l=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=n.floor(l/4294967296),t[15+(i+64>>>9<<4)]=l,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var n=l.clone.call(this);return n._hash=this._hash.clone(),n}}),e.SHA256=l._createHelper(i),e.HmacSHA256=l._createHmacHelper(i)}(Math),function(){var n=m,e=n.lib.WordArray,t=(l=n.algo).SHA256,l=l.SHA224=t.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var n=t._doFinalize.call(this);return n.sigBytes-=4,n}});n.SHA224=t._createHelper(l),n.HmacSHA224=t._createHmacHelper(l)}(),function(){function n(){return l.create.apply(l,arguments)}for(var e=m,t=e.lib.Hasher,l=(r=e.x64).Word,i=r.WordArray,r=e.algo,o=[n(1116352408,3609767458),n(1899447441,602891725),n(3049323471,3964484399),n(3921009573,2173295548),n(961987163,4081628472),n(1508970993,3053834265),n(2453635748,2937671579),n(2870763221,3664609560),n(3624381080,2734883394),n(310598401,1164996542),n(607225278,1323610764),n(1426881987,3590304994),n(1925078388,4068182383),n(2162078206,991336113),n(2614888103,633803317),n(3248222580,3479774868),n(3835390401,2666613458),n(4022224774,944711139),n(264347078,2341262773),n(604807628,2007800933),n(770255983,1495990901),n(1249150122,1856431235),n(1555081692,3175218132),n(1996064986,2198950837),n(2554220882,3999719339),n(2821834349,766784016),n(2952996808,2566594879),n(3210313671,3203337956),n(3336571891,1034457026),n(3584528711,2466948901),n(113926993,3758326383),n(338241895,168717936),n(666307205,1188179964),n(773529912,1546045734),n(1294757372,1522805485),n(1396182291,2643833823),n(1695183700,2343527390),n(1986661051,1014477480),n(2177026350,1206759142),n(2456956037,344077627),n(2730485921,1290863460),n(2820302411,3158454273),n(3259730800,3505952657),n(3345764771,106217008),n(3516065817,3606008344),n(3600352804,1432725776),n(4094571909,1467031594),n(275423344,851169720),n(430227734,3100823752),n(506948616,1363258195),n(659060556,3750685593),n(883997877,3785050280),n(958139571,3318307427),n(1322822218,3812723403),n(1537002063,2003034995),n(1747873779,3602036899),n(1955562222,1575990012),n(2024104815,1125592928),n(2227730452,2716904306),n(2361852424,442776044),n(2428436474,593698344),n(2756734187,3733110249),n(3204031479,2999351573),n(3329325298,3815920427),n(3391569614,3928383900),n(3515267271,566280711),n(3940187606,3454069534),n(4118630271,4000239992),n(116418474,1914138554),n(174292421,2731055270),n(289380356,3203993006),n(460393269,320620315),n(685471733,587496836),n(852142971,1086792851),n(1017036298,365543100),n(1126000580,2618297676),n(1288033470,3409855158),n(1501505948,4234509866),n(1607167915,987167468),n(1816402316,1246189591)],s=[],a=0;80>a;a++)s[a]=n();r=r.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(n,e){for(var t,l=(t=this._hash.words)[0],i=t[1],r=t[2],a=t[3],u=t[4],c=t[5],d=t[6],p=l.high,h=l.low,g=i.high,f=i.low,m=r.high,v=r.low,y=a.high,S=a.low,b=u.high,C=u.low,E=c.high,x=c.low,w=d.high,A=d.low,_=(t=t[7]).high,T=t.low,I=p,R=h,N=g,F=f,P=m,O=v,D=y,k=S,V=b,L=C,H=E,B=x,U=w,M=A,q=_,j=T,K=0;80>K;K++){var G=s[K];if(16>K)var z=G.high=0|n[e+2*K],W=G.low=0|n[e+2*K+1];else{z=((W=(z=s[K-15]).high)>>>1|($=z.low)<<31)^(W>>>8|$<<24)^W>>>7;var $=($>>>1|W<<31)^($>>>8|W<<24)^($>>>7|W<<25),J=((W=(J=s[K-2]).high)>>>19|(Y=J.low)<<13)^(W<<3|Y>>>29)^W>>>6,Y=(Y>>>19|W<<13)^(Y<<3|W>>>29)^(Y>>>6|W<<26);G.high=z=(z=(z=z+(X=(W=s[K-7]).high)+((W=$+W.low)>>>0<$>>>0?1:0))+J+((W+=Y)>>>0<Y>>>0?1:0))+(tn=(Q=s[K-16]).high)+((W+=Q=Q.low)>>>0<Q>>>0?1:0),G.low=W}var X=V&H^~V&U,Q=L&B^~L&M,Z=(G=I&N^I&P^N&P,R&F^R&O^F&O),nn=(Y=o[K]).high,en=Y.low,tn=q+((V>>>14|L<<18)^(V>>>18|L<<14)^(V<<23|L>>>9))+((Y=j+((L>>>14|V<<18)^(L>>>18|V<<14)^(L<<23|V>>>9)))>>>0<j>>>0?1:0);q=U,j=M,U=H,M=B,H=V,B=L,V=D+(tn=(tn=(tn=tn+X+((Y+=Q)>>>0<Q>>>0?1:0))+nn+((Y+=en)>>>0<en>>>0?1:0))+z+((Y+=W)>>>0<W>>>0?1:0))+((L=k+Y|0)>>>0<k>>>0?1:0)|0,D=P,k=O,P=N,O=F,N=I,F=R,I=tn+(G=($=(I>>>28|R<<4)^(I<<30|R>>>2)^(I<<25|R>>>7))+G+((W=(J=(R>>>28|I<<4)^(R<<30|I>>>2)^(R<<25|I>>>7))+Z)>>>0<J>>>0?1:0))+((R=Y+W|0)>>>0<Y>>>0?1:0)|0}h=l.low=h+R,l.high=p+I+(h>>>0<R>>>0?1:0),f=i.low=f+F,i.high=g+N+(f>>>0<F>>>0?1:0),v=r.low=v+O,r.high=m+P+(v>>>0<O>>>0?1:0),S=a.low=S+k,a.high=y+D+(S>>>0<k>>>0?1:0),C=u.low=C+L,u.high=b+V+(C>>>0<L>>>0?1:0),x=c.low=x+B,c.high=E+H+(x>>>0<B>>>0?1:0),A=d.low=A+M,d.high=w+U+(A>>>0<M>>>0?1:0),T=t.low=T+j,t.high=_+q+(T>>>0<j>>>0?1:0)},_doFinalize:function(){var n=this._data,e=n.words,t=8*this._nDataBytes,l=8*n.sigBytes;return e[l>>>5]|=128<<24-l%32,e[30+(l+128>>>10<<5)]=Math.floor(t/4294967296),e[31+(l+128>>>10<<5)]=t,n.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var n=t.clone.call(this);return n._hash=this._hash.clone(),n},blockSize:32}),e.SHA512=t._createHelper(r),e.HmacSHA512=t._createHmacHelper(r)}(),function(){var n=m,e=(i=n.x64).Word,t=i.WordArray,l=(i=n.algo).SHA512,i=i.SHA384=l.extend({_doReset:function(){this._hash=new t.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var n=l._doFinalize.call(this);return n.sigBytes-=16,n}});n.SHA384=l._createHelper(i),n.HmacSHA384=l._createHmacHelper(i)}(),function(){var n=m,e=(l=n.lib).WordArray,t=l.Hasher,l=n.algo,i=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),r=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),a=e.create([0,1518500249,1859775393,2400959708,2840853838]),u=e.create([1352829926,1548603684,1836072691,2053994217,0]);l=l.RIPEMD160=t.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,e){for(var t=0;16>t;t++)n[l=e+t]=16711935&((C=n[l])<<8|C>>>24)|4278255360&(C<<24|C>>>8);var l,c,d,p,h,g,f,m,v,y,S,b,C=a.words,E=u.words,x=i.words,w=r.words,A=o.words,_=s.words;for(f=c=(l=this._hash.words)[0],m=d=l[1],v=p=l[2],y=h=l[3],S=g=l[4],t=0;80>t;t+=1)b=c+n[e+x[t]]|0,b=16>t?b+((d^p^h)+C[0]):32>t?b+((d&p|~d&h)+C[1]):48>t?b+(((d|~p)^h)+C[2]):64>t?b+((d&h|p&~h)+C[3]):b+((d^(p|~h))+C[4]),b=(b=(b|=0)<<A[t]|b>>>32-A[t])+g|0,c=g,g=h,h=p<<10|p>>>22,p=d,d=b,b=f+n[e+w[t]]|0,b=16>t?b+((m^(v|~y))+E[0]):32>t?b+((m&y|v&~y)+E[1]):48>t?b+(((m|~v)^y)+E[2]):64>t?b+((m&v|~m&y)+E[3]):b+((m^v^y)+E[4]),b=(b=(b|=0)<<_[t]|b>>>32-_[t])+S|0,f=S,S=y,y=v<<10|v>>>22,v=m,m=b;b=l[1]+p+y|0,l[1]=l[2]+h+S|0,l[2]=l[3]+g+f|0,l[3]=l[4]+c+m|0,l[4]=l[0]+d+v|0,l[0]=b},_doFinalize:function(){var n=this._data,e=n.words,t=8*this._nDataBytes,l=8*n.sigBytes;for(e[l>>>5]|=128<<24-l%32,e[14+(l+64>>>9<<4)]=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8),n.sigBytes=4*(e.length+1),this._process(),e=(n=this._hash).words,t=0;5>t;t++)e[t]=16711935&((l=e[t])<<8|l>>>24)|4278255360&(l<<24|l>>>8);return n},clone:function(){var n=t.clone.call(this);return n._hash=this._hash.clone(),n}}),n.RIPEMD160=t._createHelper(l),n.HmacRIPEMD160=t._createHmacHelper(l)}(Math),function(){var n=m.enc.Utf8;m.algo.HMAC=m.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var l=e.blockSize,i=4*l;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),o=this._iKey=t.clone(),s=r.words,a=o.words,u=0;u<l;u++)s[u]^=1549556828,a[u]^=909522486;r.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var n=this._hasher;n.reset(),n.update(this._iKey)},update:function(n){return this._hasher.update(n),this},finalize:function(n){var e=this._hasher;return n=e.finalize(n),e.reset(),e.finalize(this._oKey.clone().concat(n))}})}(),function(){var n,e=m,t=(n=e.lib).Base,l=n.WordArray,i=(n=e.algo).HMAC,r=n.PBKDF2=t.extend({cfg:t.extend({keySize:4,hasher:n.SHA1,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,e){for(var t=i.create((c=this.cfg).hasher,n),r=l.create(),o=l.create([1]),s=r.words,a=o.words,u=c.keySize,c=c.iterations;s.length<u;){var d=t.update(e).finalize(o);t.reset();for(var p=d.words,h=p.length,g=d,f=1;f<c;f++){g=t.finalize(g),t.reset();for(var m=g.words,v=0;v<h;v++)p[v]^=m[v]}r.concat(d),a[0]++}return r.sigBytes=4*u,r}});e.PBKDF2=function(n,e,t){return r.create(t).compute(n,e)}}();var v,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function S(n){var e,t,l="";for(e=0;e+3<=n.length;e+=3)t=parseInt(n.substring(e,e+3),16),l+=y.charAt(t>>6)+y.charAt(63&t);for(e+1==n.length?(t=parseInt(n.substring(e,e+1),16),l+=y.charAt(t<<2)):e+2==n.length&&(t=parseInt(n.substring(e,e+2),16),l+=y.charAt(t>>2)+y.charAt((3&t)<<4));(3&l.length)>0;)l+="=";return l}function b(n){var e,t,l,i="",r=0;for(e=0;e<n.length&&"="!=n.charAt(e);++e)(l=y.indexOf(n.charAt(e)))<0||(0==r?(i+=T(l>>2),t=3&l,r=1):1==r?(i+=T(t<<2|l>>4),t=15&l,r=2):2==r?(i+=T(t),i+=T(l>>2),t=3&l,r=3):(i+=T(t<<2|l>>4),i+=T(15&l),r=0));return 1==r&&(i+=T(t<<2)),i}function C(n){var e,t=b(n),l=new Array;for(e=0;2*e<t.length;++e)l[e]=parseInt(t.substring(2*e,2*e+2),16);return l}function E(n,e,t){null!=n&&("number"==typeof n?this.fromNumber(n,e,t):this.fromString(n,null==e&&"string"!=typeof n?256:e))}function x(){return new E(null)}"Microsoft Internet Explorer"==t.appName?(E.prototype.am=function(n,e,t,l,i,r){for(var o=32767&e,s=e>>15;--r>=0;){var a=32767&this[n],u=this[n++]>>15,c=s*a+u*o;i=((a=o*a+((32767&c)<<15)+t[l]+(1073741823&i))>>>30)+(c>>>15)+s*u+(i>>>30),t[l++]=1073741823&a}return i},v=30):"Netscape"!=t.appName?(E.prototype.am=function(n,e,t,l,i,r){for(;--r>=0;){var o=e*this[n++]+t[l]+i;i=Math.floor(o/67108864),t[l++]=67108863&o}return i},v=26):(E.prototype.am=function(n,e,t,l,i,r){for(var o=16383&e,s=e>>14;--r>=0;){var a=16383&this[n],u=this[n++]>>14,c=s*a+u*o;i=((a=o*a+((16383&c)<<14)+t[l]+i)>>28)+(c>>14)+s*u,t[l++]=268435455&a}return i},v=28),E.prototype.DB=v,E.prototype.DM=(1<<v)-1,E.prototype.DV=1<<v,E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-v,E.prototype.F2=2*v-52;var w,A,_=new Array;for(w="0".charCodeAt(0),A=0;A<=9;++A)_[w++]=A;for(w="a".charCodeAt(0),A=10;A<36;++A)_[w++]=A;for(w="A".charCodeAt(0),A=10;A<36;++A)_[w++]=A;function T(n){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(n)}function I(n,e){var t=_[n.charCodeAt(e)];return null==t?-1:t}function R(n){var e=x();return e.fromInt(n),e}function N(n){var e,t=1;return 0!=(e=n>>>16)&&(n=e,t+=16),0!=(e=n>>8)&&(n=e,t+=8),0!=(e=n>>4)&&(n=e,t+=4),0!=(e=n>>2)&&(n=e,t+=2),0!=(e=n>>1)&&(n=e,t+=1),t}function F(n){this.m=n}function P(n){this.m=n,this.mp=n.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<n.DB-15)-1,this.mt2=2*n.t}function O(n,e){return n&e}function D(n,e){return n|e}function k(n,e){return n^e}function V(n,e){return n&~e}function L(n){if(0==n)return-1;var e=0;return 0==(65535&n)&&(n>>=16,e+=16),0==(255&n)&&(n>>=8,e+=8),0==(15&n)&&(n>>=4,e+=4),0==(3&n)&&(n>>=2,e+=2),0==(1&n)&&++e,e}function H(n){for(var e=0;0!=n;)n&=n-1,++e;return e}function B(){}function U(n){return n}function M(n){this.r2=x(),this.q3=x(),E.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}F.prototype.convert=function(n){return n.s<0||n.compareTo(this.m)>=0?n.mod(this.m):n},F.prototype.revert=function(n){return n},F.prototype.reduce=function(n){n.divRemTo(this.m,null,n)},F.prototype.mulTo=function(n,e,t){n.multiplyTo(e,t),this.reduce(t)},F.prototype.sqrTo=function(n,e){n.squareTo(e),this.reduce(e)},P.prototype.convert=function(n){var e=x();return n.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),n.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e},P.prototype.revert=function(n){var e=x();return n.copyTo(e),this.reduce(e),e},P.prototype.reduce=function(n){for(;n.t<=this.mt2;)n[n.t++]=0;for(var e=0;e<this.m.t;++e){var t=32767&n[e],l=t*this.mpl+((t*this.mph+(n[e]>>15)*this.mpl&this.um)<<15)&n.DM;for(n[t=e+this.m.t]+=this.m.am(0,l,n,e,0,this.m.t);n[t]>=n.DV;)n[t]-=n.DV,n[++t]++}n.clamp(),n.drShiftTo(this.m.t,n),n.compareTo(this.m)>=0&&n.subTo(this.m,n)},P.prototype.mulTo=function(n,e,t){n.multiplyTo(e,t),this.reduce(t)},P.prototype.sqrTo=function(n,e){n.squareTo(e),this.reduce(e)},E.prototype.copyTo=function(n){for(var e=this.t-1;e>=0;--e)n[e]=this[e];n.t=this.t,n.s=this.s},E.prototype.fromInt=function(n){this.t=1,this.s=n<0?-1:0,n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0},E.prototype.fromString=function(n,e){var t;if(16==e)t=4;else if(8==e)t=3;else if(256==e)t=8;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return void this.fromRadix(n,e);t=2}this.t=0,this.s=0;for(var l=n.length,i=!1,r=0;--l>=0;){var o=8==t?255&n[l]:I(n,l);o<0?"-"==n.charAt(l)&&(i=!0):(i=!1,0==r?this[this.t++]=o:r+t>this.DB?(this[this.t-1]|=(o&(1<<this.DB-r)-1)<<r,this[this.t++]=o>>this.DB-r):this[this.t-1]|=o<<r,(r+=t)>=this.DB&&(r-=this.DB))}8==t&&0!=(128&n[0])&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),i&&E.ZERO.subTo(this,this)},E.prototype.clamp=function(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t},E.prototype.dlShiftTo=function(n,e){var t;for(t=this.t-1;t>=0;--t)e[t+n]=this[t];for(t=n-1;t>=0;--t)e[t]=0;e.t=this.t+n,e.s=this.s},E.prototype.drShiftTo=function(n,e){for(var t=n;t<this.t;++t)e[t-n]=this[t];e.t=Math.max(this.t-n,0),e.s=this.s},E.prototype.lShiftTo=function(n,e){var t,l=n%this.DB,i=this.DB-l,r=(1<<i)-1,o=Math.floor(n/this.DB),s=this.s<<l&this.DM;for(t=this.t-1;t>=0;--t)e[t+o+1]=this[t]>>i|s,s=(this[t]&r)<<l;for(t=o-1;t>=0;--t)e[t]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()},E.prototype.rShiftTo=function(n,e){e.s=this.s;var t=Math.floor(n/this.DB);if(t>=this.t)e.t=0;else{var l=n%this.DB,i=this.DB-l,r=(1<<l)-1;e[0]=this[t]>>l;for(var o=t+1;o<this.t;++o)e[o-t-1]|=(this[o]&r)<<i,e[o-t]=this[o]>>l;l>0&&(e[this.t-t-1]|=(this.s&r)<<i),e.t=this.t-t,e.clamp()}},E.prototype.subTo=function(n,e){for(var t=0,l=0,i=Math.min(n.t,this.t);t<i;)l+=this[t]-n[t],e[t++]=l&this.DM,l>>=this.DB;if(n.t<this.t){for(l-=n.s;t<this.t;)l+=this[t],e[t++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;t<n.t;)l-=n[t],e[t++]=l&this.DM,l>>=this.DB;l-=n.s}e.s=l<0?-1:0,l<-1?e[t++]=this.DV+l:l>0&&(e[t++]=l),e.t=t,e.clamp()},E.prototype.multiplyTo=function(n,e){var t=this.abs(),l=n.abs(),i=t.t;for(e.t=i+l.t;--i>=0;)e[i]=0;for(i=0;i<l.t;++i)e[i+t.t]=t.am(0,l[i],e,i,0,t.t);e.s=0,e.clamp(),this.s!=n.s&&E.ZERO.subTo(e,e)},E.prototype.squareTo=function(n){for(var e=this.abs(),t=n.t=2*e.t;--t>=0;)n[t]=0;for(t=0;t<e.t-1;++t){var l=e.am(t,e[t],n,2*t,0,1);(n[t+e.t]+=e.am(t+1,2*e[t],n,2*t+1,l,e.t-t-1))>=e.DV&&(n[t+e.t]-=e.DV,n[t+e.t+1]=1)}n.t>0&&(n[n.t-1]+=e.am(t,e[t],n,2*t,0,1)),n.s=0,n.clamp()},E.prototype.divRemTo=function(n,e,t){var l=n.abs();if(!(l.t<=0)){var i=this.abs();if(i.t<l.t)return null!=e&&e.fromInt(0),void(null!=t&&this.copyTo(t));null==t&&(t=x());var r=x(),o=this.s,s=n.s,a=this.DB-N(l[l.t-1]);a>0?(l.lShiftTo(a,r),i.lShiftTo(a,t)):(l.copyTo(r),i.copyTo(t));var u=r.t,c=r[u-1];if(0!=c){var d=c*(1<<this.F1)+(u>1?r[u-2]>>this.F2:0),p=this.FV/d,h=(1<<this.F1)/d,g=1<<this.F2,f=t.t,m=f-u,v=null==e?x():e;for(r.dlShiftTo(m,v),t.compareTo(v)>=0&&(t[t.t++]=1,t.subTo(v,t)),E.ONE.dlShiftTo(u,v),v.subTo(r,r);r.t<u;)r[r.t++]=0;for(;--m>=0;){var y=t[--f]==c?this.DM:Math.floor(t[f]*p+(t[f-1]+g)*h);if((t[f]+=r.am(0,y,t,m,0,u))<y)for(r.dlShiftTo(m,v),t.subTo(v,t);t[f]<--y;)t.subTo(v,t)}null!=e&&(t.drShiftTo(u,e),o!=s&&E.ZERO.subTo(e,e)),t.t=u,t.clamp(),a>0&&t.rShiftTo(a,t),o<0&&E.ZERO.subTo(t,t)}}},E.prototype.invDigit=function(){if(this.t<1)return 0;var n=this[0];if(0==(1&n))return 0;var e=3&n;return(e=(e=(e=(e=e*(2-(15&n)*e)&15)*(2-(255&n)*e)&255)*(2-((65535&n)*e&65535))&65535)*(2-n*e%this.DV)%this.DV)>0?this.DV-e:-e},E.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function(n,e){if(n>4294967295||n<1)return E.ONE;var t=x(),l=x(),i=e.convert(this),r=N(n)-1;for(i.copyTo(t);--r>=0;)if(e.sqrTo(t,l),(n&1<<r)>0)e.mulTo(l,i,t);else{var o=t;t=l,l=o}return e.revert(t)},E.prototype.toString=function(n){if(this.s<0)return"-"+this.negate().toString(n);var e;if(16==n)e=4;else if(8==n)e=3;else if(2==n)e=1;else if(32==n)e=5;else{if(4!=n)return this.toRadix(n);e=2}var t,l=(1<<e)-1,i=!1,r="",o=this.t,s=this.DB-o*this.DB%e;if(o-- >0)for(s<this.DB&&(t=this[o]>>s)>0&&(i=!0,r=T(t));o>=0;)s<e?(t=(this[o]&(1<<s)-1)<<e-s,t|=this[--o]>>(s+=this.DB-e)):(t=this[o]>>(s-=e)&l,s<=0&&(s+=this.DB,--o)),t>0&&(i=!0),i&&(r+=T(t));return i?r:"0"},E.prototype.negate=function(){var n=x();return E.ZERO.subTo(this,n),n},E.prototype.abs=function(){return this.s<0?this.negate():this},E.prototype.compareTo=function(n){var e=this.s-n.s;if(0!=e)return e;var t=this.t;if(0!=(e=t-n.t))return this.s<0?-e:e;for(;--t>=0;)if(0!=(e=this[t]-n[t]))return e;return 0},E.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+N(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function(n){var e=x();return this.abs().divRemTo(n,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&n.subTo(e,e),e},E.prototype.modPowInt=function(n,e){var t;return t=n<256||e.isEven()?new F(e):new P(e),this.exp(n,t)},E.ZERO=R(0),E.ONE=R(1),B.prototype.convert=U,B.prototype.revert=U,B.prototype.mulTo=function(n,e,t){n.multiplyTo(e,t)},B.prototype.sqrTo=function(n,e){n.squareTo(e)},M.prototype.convert=function(n){if(n.s<0||n.t>2*this.m.t)return n.mod(this.m);if(n.compareTo(this.m)<0)return n;var e=x();return n.copyTo(e),this.reduce(e),e},M.prototype.revert=function(n){return n},M.prototype.reduce=function(n){for(n.drShiftTo(this.m.t-1,this.r2),n.t>this.m.t+1&&(n.t=this.m.t+1,n.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);n.compareTo(this.r2)<0;)n.dAddOffset(1,this.m.t+1);for(n.subTo(this.r2,n);n.compareTo(this.m)>=0;)n.subTo(this.m,n)},M.prototype.mulTo=function(n,e,t){n.multiplyTo(e,t),this.reduce(t)},M.prototype.sqrTo=function(n,e){n.squareTo(e),this.reduce(e)};var q,j,K,G=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],z=(1<<26)/G[G.length-1];function W(){this.i=0,this.j=0,this.S=new Array}function $(){!function(n){j[K++]^=255&n,j[K++]^=n>>8&255,j[K++]^=n>>16&255,j[K++]^=n>>24&255,K>=256&&(K-=256)}((new Date).getTime())}if(E.prototype.chunkSize=function(n){return Math.floor(Math.LN2*this.DB/Math.log(n))},E.prototype.toRadix=function(n){if(null==n&&(n=10),0==this.signum()||n<2||n>36)return"0";var e=this.chunkSize(n),t=Math.pow(n,e),l=R(t),i=x(),r=x(),o="";for(this.divRemTo(l,i,r);i.signum()>0;)o=(t+r.intValue()).toString(n).substr(1)+o,i.divRemTo(l,i,r);return r.intValue().toString(n)+o},E.prototype.fromRadix=function(n,e){this.fromInt(0),null==e&&(e=10);for(var t=this.chunkSize(e),l=Math.pow(e,t),i=!1,r=0,o=0,s=0;s<n.length;++s){var a=I(n,s);a<0?"-"==n.charAt(s)&&0==this.signum()&&(i=!0):(o=e*o+a,++r>=t&&(this.dMultiply(l),this.dAddOffset(o,0),r=0,o=0))}r>0&&(this.dMultiply(Math.pow(e,r)),this.dAddOffset(o,0)),i&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function(n,e,t){if("number"==typeof e)if(n<2)this.fromInt(1);else for(this.fromNumber(n,t),this.testBit(n-1)||this.bitwiseTo(E.ONE.shiftLeft(n-1),D,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>n&&this.subTo(E.ONE.shiftLeft(n-1),this);else{var l=new Array,i=7&n;l.length=1+(n>>3),e.nextBytes(l),i>0?l[0]&=(1<<i)-1:l[0]=0,this.fromString(l,256)}},E.prototype.bitwiseTo=function(n,e,t){var l,i,r=Math.min(n.t,this.t);for(l=0;l<r;++l)t[l]=e(this[l],n[l]);if(n.t<this.t){for(i=n.s&this.DM,l=r;l<this.t;++l)t[l]=e(this[l],i);t.t=this.t}else{for(i=this.s&this.DM,l=r;l<n.t;++l)t[l]=e(i,n[l]);t.t=n.t}t.s=e(this.s,n.s),t.clamp()},E.prototype.changeBit=function(n,e){var t=E.ONE.shiftLeft(n);return this.bitwiseTo(t,e,t),t},E.prototype.addTo=function(n,e){for(var t=0,l=0,i=Math.min(n.t,this.t);t<i;)l+=this[t]+n[t],e[t++]=l&this.DM,l>>=this.DB;if(n.t<this.t){for(l+=n.s;t<this.t;)l+=this[t],e[t++]=l&this.DM,l>>=this.DB;l+=this.s}else{for(l+=this.s;t<n.t;)l+=n[t],e[t++]=l&this.DM,l>>=this.DB;l+=n.s}e.s=l<0?-1:0,l>0?e[t++]=l:l<-1&&(e[t++]=this.DV+l),e.t=t,e.clamp()},E.prototype.dMultiply=function(n){this[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function(n,e){if(0!=n){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=n;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},E.prototype.multiplyLowerTo=function(n,e,t){var l,i=Math.min(this.t+n.t,e);for(t.s=0,t.t=i;i>0;)t[--i]=0;for(l=t.t-this.t;i<l;++i)t[i+this.t]=this.am(0,n[i],t,i,0,this.t);for(l=Math.min(n.t,e);i<l;++i)this.am(0,n[i],t,i,0,e-i);t.clamp()},E.prototype.multiplyUpperTo=function(n,e,t){--e;var l=t.t=this.t+n.t-e;for(t.s=0;--l>=0;)t[l]=0;for(l=Math.max(e-this.t,0);l<n.t;++l)t[this.t+l-e]=this.am(e-l,n[l],t,0,0,this.t+l-e);t.clamp(),t.drShiftTo(1,t)},E.prototype.modInt=function(n){if(n<=0)return 0;var e=this.DV%n,t=this.s<0?n-1:0;if(this.t>0)if(0==e)t=this[0]%n;else for(var l=this.t-1;l>=0;--l)t=(e*t+this[l])%n;return t},E.prototype.millerRabin=function(n){var e=this.subtract(E.ONE),t=e.getLowestSetBit();if(t<=0)return!1;var l=e.shiftRight(t);(n=n+1>>1)>G.length&&(n=G.length);for(var i=x(),r=0;r<n;++r){i.fromInt(G[Math.floor(Math.random()*G.length)]);var o=i.modPow(l,this);if(0!=o.compareTo(E.ONE)&&0!=o.compareTo(e)){for(var s=1;s++<t&&0!=o.compareTo(e);)if(0==(o=o.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=o.compareTo(e))return!1}}return!0},E.prototype.clone=function(){var n=x();return this.copyTo(n),n},E.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function(){var n=this.t,e=new Array;e[0]=this.s;var t,l=this.DB-n*this.DB%8,i=0;if(n-- >0)for(l<this.DB&&(t=this[n]>>l)!=(this.s&this.DM)>>l&&(e[i++]=t|this.s<<this.DB-l);n>=0;)l<8?(t=(this[n]&(1<<l)-1)<<8-l,t|=this[--n]>>(l+=this.DB-8)):(t=this[n]>>(l-=8)&255,l<=0&&(l+=this.DB,--n)),0!=(128&t)&&(t|=-256),0==i&&(128&this.s)!=(128&t)&&++i,(i>0||t!=this.s)&&(e[i++]=t);return e},E.prototype.equals=function(n){return 0==this.compareTo(n)},E.prototype.min=function(n){return this.compareTo(n)<0?this:n},E.prototype.max=function(n){return this.compareTo(n)>0?this:n},E.prototype.and=function(n){var e=x();return this.bitwiseTo(n,O,e),e},E.prototype.or=function(n){var e=x();return this.bitwiseTo(n,D,e),e},E.prototype.xor=function(n){var e=x();return this.bitwiseTo(n,k,e),e},E.prototype.andNot=function(n){var e=x();return this.bitwiseTo(n,V,e),e},E.prototype.not=function(){for(var n=x(),e=0;e<this.t;++e)n[e]=this.DM&~this[e];return n.t=this.t,n.s=~this.s,n},E.prototype.shiftLeft=function(n){var e=x();return n<0?this.rShiftTo(-n,e):this.lShiftTo(n,e),e},E.prototype.shiftRight=function(n){var e=x();return n<0?this.lShiftTo(-n,e):this.rShiftTo(n,e),e},E.prototype.getLowestSetBit=function(){for(var n=0;n<this.t;++n)if(0!=this[n])return n*this.DB+L(this[n]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function(){for(var n=0,e=this.s&this.DM,t=0;t<this.t;++t)n+=H(this[t]^e);return n},E.prototype.testBit=function(n){var e=Math.floor(n/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<n%this.DB)},E.prototype.setBit=function(n){return this.changeBit(n,D)},E.prototype.clearBit=function(n){return this.changeBit(n,V)},E.prototype.flipBit=function(n){return this.changeBit(n,k)},E.prototype.add=function(n){var e=x();return this.addTo(n,e),e},E.prototype.subtract=function(n){var e=x();return this.subTo(n,e),e},E.prototype.multiply=function(n){var e=x();return this.multiplyTo(n,e),e},E.prototype.divide=function(n){var e=x();return this.divRemTo(n,e,null),e},E.prototype.remainder=function(n){var e=x();return this.divRemTo(n,null,e),e},E.prototype.divideAndRemainder=function(n){var e=x(),t=x();return this.divRemTo(n,e,t),new Array(e,t)},E.prototype.modPow=function(n,e){var t,l,i=n.bitLength(),r=R(1);if(i<=0)return r;t=i<18?1:i<48?3:i<144?4:i<768?5:6,l=i<8?new F(e):e.isEven()?new M(e):new P(e);var o=new Array,s=3,a=t-1,u=(1<<t)-1;if(o[1]=l.convert(this),t>1){var c=x();for(l.sqrTo(o[1],c);s<=u;)o[s]=x(),l.mulTo(c,o[s-2],o[s]),s+=2}var d,p,h=n.t-1,g=!0,f=x();for(i=N(n[h])-1;h>=0;){for(i>=a?d=n[h]>>i-a&u:(d=(n[h]&(1<<i+1)-1)<<a-i,h>0&&(d|=n[h-1]>>this.DB+i-a)),s=t;0==(1&d);)d>>=1,--s;if((i-=s)<0&&(i+=this.DB,--h),g)o[d].copyTo(r),g=!1;else{for(;s>1;)l.sqrTo(r,f),l.sqrTo(f,r),s-=2;s>0?l.sqrTo(r,f):(p=r,r=f,f=p),l.mulTo(f,o[d],r)}for(;h>=0&&0==(n[h]&1<<i);)l.sqrTo(r,f),p=r,r=f,f=p,--i<0&&(i=this.DB-1,--h)}return l.revert(r)},E.prototype.modInverse=function(n){var e=n.isEven();if(this.isEven()&&e||0==n.signum())return E.ZERO;for(var t=n.clone(),l=this.clone(),i=R(1),r=R(0),o=R(0),s=R(1);0!=t.signum();){for(;t.isEven();)t.rShiftTo(1,t),e?(i.isEven()&&r.isEven()||(i.addTo(this,i),r.subTo(n,r)),i.rShiftTo(1,i)):r.isEven()||r.subTo(n,r),r.rShiftTo(1,r);for(;l.isEven();)l.rShiftTo(1,l),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(n,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(n,s),s.rShiftTo(1,s);t.compareTo(l)>=0?(t.subTo(l,t),e&&i.subTo(o,i),r.subTo(s,r)):(l.subTo(t,l),e&&o.subTo(i,o),s.subTo(r,s))}return 0!=l.compareTo(E.ONE)?E.ZERO:s.compareTo(n)>=0?s.subtract(n):s.signum()<0?(s.addTo(n,s),s.signum()<0?s.add(n):s):s},E.prototype.pow=function(n){return this.exp(n,new B)},E.prototype.gcd=function(n){var e=this.s<0?this.negate():this.clone(),t=n.s<0?n.negate():n.clone();if(e.compareTo(t)<0){var l=e;e=t,t=l}var i=e.getLowestSetBit(),r=t.getLowestSetBit();if(r<0)return e;for(i<r&&(r=i),r>0&&(e.rShiftTo(r,e),t.rShiftTo(r,t));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),e.compareTo(t)>=0?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));return r>0&&t.lShiftTo(r,t),t},E.prototype.isProbablePrime=function(n){var e,t=this.abs();if(1==t.t&&t[0]<=G[G.length-1]){for(e=0;e<G.length;++e)if(t[0]==G[e])return!0;return!1}if(t.isEven())return!1;for(e=1;e<G.length;){for(var l=G[e],i=e+1;i<G.length&&l<z;)l*=G[i++];for(l=t.modInt(l);e<i;)if(l%G[e++]==0)return!1}return t.millerRabin(n)},E.prototype.square=function(){var n=x();return this.squareTo(n),n},W.prototype.init=function(n){var e,t,l;for(e=0;e<256;++e)this.S[e]=e;for(t=0,e=0;e<256;++e)l=this.S[e],this.S[e]=this.S[t=t+this.S[e]+n[e%n.length]&255],this.S[t]=l;this.i=0,this.j=0},W.prototype.next=function(){var n;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,n=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=n,this.S[n+this.S[this.i]&255]},null==j){var J;if(j=new Array,K=0,void 0!==l&&(void 0!==l.crypto||void 0!==l.msCrypto)){var Y=l.crypto||l.msCrypto;if(Y.getRandomValues){var X=new Uint8Array(32);for(Y.getRandomValues(X),J=0;J<32;++J)j[K++]=X[J]}else if("Netscape"==t.appName&&t.appVersion<"5"){var Q=l.crypto.random(32);for(J=0;J<Q.length;++J)j[K++]=255&Q.charCodeAt(J)}}for(;K<256;)J=Math.floor(65536*Math.random()),j[K++]=J>>>8,j[K++]=255&J;K=0,$()}function Z(){if(null==q){for($(),(q=new W).init(j),K=0;K<j.length;++K)j[K]=0;K=0}return q.next()}function nn(){}function en(n,e){return new E(n,e)}function tn(n,e,t){for(var l="",i=0;l.length<e;)l+=t(String.fromCharCode.apply(String,n.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return l}function ln(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function rn(n,e,t){for(var l="",i=0;l.length<e;)l+=t(n+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return l}function on(n,e){this.x=e,this.q=n}function sn(n,e,t,l){this.curve=n,this.x=e,this.y=t,this.z=null==l?E.ONE:l,this.zinv=null}function an(n,e,t){this.q=n,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(t),this.infinity=new sn(this,null,null)}nn.prototype.nextBytes=function(n){var e;for(e=0;e<n.length;++e)n[e]=Z()},ln.prototype.doPublic=function(n){return n.modPowInt(this.e,this.n)},ln.prototype.setPublic=function(n,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof n)this.n=n,this.e=e;else{if(!(null!=n&&null!=e&&n.length>0&&e.length>0))throw"Invalid RSA public key";this.n=en(n,16),this.e=parseInt(e,16)}},ln.prototype.encrypt=function(n){var e=function(n,e){if(e<n.length+11)throw"Message too long for RSA";for(var t=new Array,l=n.length-1;l>=0&&e>0;){var i=n.charCodeAt(l--);i<128?t[--e]=i:i>127&&i<2048?(t[--e]=63&i|128,t[--e]=i>>6|192):(t[--e]=63&i|128,t[--e]=i>>6&63|128,t[--e]=i>>12|224)}t[--e]=0;for(var r=new nn,o=new Array;e>2;){for(o[0]=0;0==o[0];)r.nextBytes(o);t[--e]=o[0]}return t[--e]=2,t[--e]=0,new E(t)}(n,this.n.bitLength()+7>>3);if(null==e)return null;var t=this.doPublic(e);if(null==t)return null;var l=t.toString(16);return 0==(1&l.length)?l:"0"+l},ln.prototype.encryptOAEP=function(n,e,t){var l=function(n,e,t,l){var i=cn.crypto.MessageDigest,r=cn.crypto.Util,o=null;if(t||(t="sha1"),"string"==typeof t&&(o=i.getCanonicalAlgName(t),l=i.getHashLength(o),t=function(n){return wn(r.hashHex(An(n),o))}),n.length+2*l+2>e)throw"Message too long for RSA";var s,a="";for(s=0;s<e-n.length-2*l-2;s+=1)a+="\0";var u=t("")+a+"\x01"+n,c=new Array(l);(new nn).nextBytes(c);var d=tn(c,u.length,t),p=[];for(s=0;s<u.length;s+=1)p[s]=u.charCodeAt(s)^d.charCodeAt(s);var h=tn(p,c.length,t),g=[0];for(s=0;s<c.length;s+=1)g[s+1]=c[s]^h.charCodeAt(s);return new E(g.concat(p))}(n,this.n.bitLength()+7>>3,e,t);if(null==l)return null;var i=this.doPublic(l);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r},ln.prototype.type="RSA",ln.prototype.doPrivate=function(n){if(null==this.p||null==this.q)return n.modPow(this.d,this.n);for(var e=n.mod(this.p).modPow(this.dmp1,this.p),t=n.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(t)<0;)e=e.add(this.p);return e.subtract(t).multiply(this.coeff).mod(this.p).multiply(this.q).add(t)},ln.prototype.setPrivate=function(n,e,t){if(this.isPrivate=!0,"string"!=typeof n)this.n=n,this.e=e,this.d=t;else{if(!(null!=n&&null!=e&&n.length>0&&e.length>0))throw"Invalid RSA private key";this.n=en(n,16),this.e=parseInt(e,16),this.d=en(t,16)}},ln.prototype.setPrivateEx=function(n,e,t,l,i,r,o,s){if(this.isPrivate=!0,this.isPublic=!1,null==n)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==n.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=n&&null!=e&&n.length>0&&e.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=en(n,16),this.e=parseInt(e,16),this.d=en(t,16),this.p=en(l,16),this.q=en(i,16),this.dmp1=en(r,16),this.dmq1=en(o,16),this.coeff=en(s,16)},ln.prototype.generate=function(n,e){var t=new nn,l=n>>1;this.e=parseInt(e,16);for(var i=new E(e,16);;){for(;this.p=new E(n-l,1,t),0!=this.p.subtract(E.ONE).gcd(i).compareTo(E.ONE)||!this.p.isProbablePrime(10););for(;this.q=new E(l,1,t),0!=this.q.subtract(E.ONE).gcd(i).compareTo(E.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var o=this.p.subtract(E.ONE),s=this.q.subtract(E.ONE),a=o.multiply(s);if(0==a.gcd(i).compareTo(E.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==n)){this.d=i.modInverse(a),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},ln.prototype.decrypt=function(n){if(n.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var e=en(n,16),t=this.doPrivate(e);return null==t?null:function(n,e){for(var t=n.toByteArray(),l=0;l<t.length&&0==t[l];)++l;if(t.length-l!=e-1||2!=t[l])return null;for(++l;0!=t[l];)if(++l>=t.length)return null;for(var i="";++l<t.length;){var r=255&t[l];r<128?i+=String.fromCharCode(r):r>191&&r<224?(i+=String.fromCharCode((31&r)<<6|63&t[l+1]),++l):(i+=String.fromCharCode((15&r)<<12|(63&t[l+1])<<6|63&t[l+2]),l+=2)}return i}(t,this.n.bitLength()+7>>3)},ln.prototype.decryptOAEP=function(n,e,t){if(n.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var l=en(n,16),i=this.doPrivate(l);return null==i?null:function(n,e,t,l){var i=cn.crypto.MessageDigest,r=cn.crypto.Util,o=null;for(t||(t="sha1"),"string"==typeof t&&(o=i.getCanonicalAlgName(t),l=i.getHashLength(o),t=function(n){return wn(r.hashHex(An(n),o))}),n=n.toByteArray(),s=0;s<n.length;s+=1)n[s]&=255;for(;n.length<e;)n.unshift(0);if((n=String.fromCharCode.apply(String,n)).length<2*l+2)throw"Cipher too short";var s,a=n.substr(1,l),u=n.substr(l+1),c=rn(u,l,t),d=[];for(s=0;s<a.length;s+=1)d[s]=a.charCodeAt(s)^c.charCodeAt(s);var p=rn(String.fromCharCode.apply(String,d),n.length-l,t),h=[];for(s=0;s<u.length;s+=1)h[s]=u.charCodeAt(s)^p.charCodeAt(s);if((h=String.fromCharCode.apply(String,h)).substr(0,l)!==t(""))throw"Hash mismatch";var g=(h=h.substr(l)).indexOf("\x01");if((-1!=g?h.substr(0,g).lastIndexOf("\0"):-1)+1!=g)throw"Malformed data";return h.substr(g+1)}(i,this.n.bitLength()+7>>3,e,t)},on.prototype.equals=function(n){return n==this||this.q.equals(n.q)&&this.x.equals(n.x)},on.prototype.toBigInteger=function(){return this.x},on.prototype.negate=function(){return new on(this.q,this.x.negate().mod(this.q))},on.prototype.add=function(n){return new on(this.q,this.x.add(n.toBigInteger()).mod(this.q))},on.prototype.subtract=function(n){return new on(this.q,this.x.subtract(n.toBigInteger()).mod(this.q))},on.prototype.multiply=function(n){return new on(this.q,this.x.multiply(n.toBigInteger()).mod(this.q))},on.prototype.square=function(){return new on(this.q,this.x.square().mod(this.q))},on.prototype.divide=function(n){return new on(this.q,this.x.multiply(n.toBigInteger().modInverse(this.q)).mod(this.q))},sn.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},sn.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},sn.prototype.equals=function(n){return n==this||(this.isInfinity()?n.isInfinity():n.isInfinity()?this.isInfinity():!!n.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(n.z)).mod(this.curve.q).equals(E.ZERO)&&n.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(n.z)).mod(this.curve.q).equals(E.ZERO))},sn.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},sn.prototype.negate=function(){return new sn(this.curve,this.x,this.y.negate(),this.z)},sn.prototype.add=function(n){if(this.isInfinity())return n;if(n.isInfinity())return this;var e=n.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(n.z)).mod(this.curve.q),t=n.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(n.z)).mod(this.curve.q);if(E.ZERO.equals(t))return E.ZERO.equals(e)?this.twice():this.curve.getInfinity();var l=new E("3"),i=this.x.toBigInteger(),r=this.y.toBigInteger(),o=(n.x.toBigInteger(),n.y.toBigInteger(),t.square()),s=o.multiply(t),a=i.multiply(o),u=e.square().multiply(this.z),c=u.subtract(a.shiftLeft(1)).multiply(n.z).subtract(s).multiply(t).mod(this.curve.q),d=a.multiply(l).multiply(e).subtract(r.multiply(s)).subtract(u.multiply(e)).multiply(n.z).add(e.multiply(s)).mod(this.curve.q),p=s.multiply(this.z).multiply(n.z).mod(this.curve.q);return new sn(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(d),p)},sn.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var n=new E("3"),e=this.x.toBigInteger(),t=this.y.toBigInteger(),l=t.multiply(this.z),i=l.multiply(t).mod(this.curve.q),r=this.curve.a.toBigInteger(),o=e.square().multiply(n);E.ZERO.equals(r)||(o=o.add(this.z.square().multiply(r)));var s=(o=o.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(l).mod(this.curve.q),a=o.multiply(n).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),u=l.square().multiply(l).shiftLeft(3).mod(this.curve.q);return new sn(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(a),u)},sn.prototype.multiply=function(n){if(this.isInfinity())return this;if(0==n.signum())return this.curve.getInfinity();var e,t=n,l=t.multiply(new E("3")),i=this.negate(),r=this,o=this.curve.q.subtract(n),s=o.multiply(new E("3")),a=new sn(this.curve,this.x,this.y),u=a.negate();for(e=l.bitLength()-2;e>0;--e){r=r.twice();var c=l.testBit(e);c!=t.testBit(e)&&(r=r.add(c?this:i))}for(e=s.bitLength()-2;e>0;--e){a=a.twice();var d=s.testBit(e);d!=o.testBit(e)&&(a=a.add(d?a:u))}return r},sn.prototype.multiplyTwo=function(n,e,t){var l;l=n.bitLength()>t.bitLength()?n.bitLength()-1:t.bitLength()-1;for(var i=this.curve.getInfinity(),r=this.add(e);l>=0;)i=i.twice(),n.testBit(l)?i=t.testBit(l)?i.add(r):i.add(this):t.testBit(l)&&(i=i.add(e)),--l;return i},an.prototype.getQ=function(){return this.q},an.prototype.getA=function(){return this.a},an.prototype.getB=function(){return this.b},an.prototype.equals=function(n){return n==this||this.q.equals(n.q)&&this.a.equals(n.a)&&this.b.equals(n.b)},an.prototype.getInfinity=function(){return this.infinity},an.prototype.fromBigInteger=function(n){return new on(this.q,n)},an.prototype.decodePointHex=function(n){switch(parseInt(n.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(n.length-2)/2,t=n.substr(2,e),l=n.substr(e+2,e);return new sn(this,this.fromBigInteger(new E(t,16)),this.fromBigInteger(new E(l,16)));default:return null}},on.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},sn.prototype.getEncoded=function(n){var e=function(n,e){var t=n.toByteArrayUnsigned();if(e<t.length)t=t.slice(t.length-e);else for(;e>t.length;)t.unshift(0);return t},t=this.getX().toBigInteger(),l=this.getY().toBigInteger(),i=e(t,32);return n?l.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(l,32))),i},sn.decodeFrom=function(n,e){var t=e.length-1,l=e.slice(1,1+t/2),i=e.slice(1+t/2,1+t);l.unshift(0),i.unshift(0);var r=new E(l),o=new E(i);return new sn(n,n.fromBigInteger(r),n.fromBigInteger(o))},sn.decodeFromHex=function(n,e){e.substr(0,2);var t=e.length-2,l=e.substr(2,t/2),i=e.substr(2+t/2,t/2),r=new E(l,16),o=new E(i,16);return new sn(n,n.fromBigInteger(r),n.fromBigInteger(o))},sn.prototype.add2D=function(n){if(this.isInfinity())return n;if(n.isInfinity())return this;if(this.x.equals(n.x))return this.y.equals(n.y)?this.twice():this.curve.getInfinity();var e=n.x.subtract(this.x),t=n.y.subtract(this.y).divide(e),l=t.square().subtract(this.x).subtract(n.x),i=t.multiply(this.x.subtract(l)).subtract(this.y);return new sn(this.curve,l,i)},sn.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var n=this.curve.fromBigInteger(E.valueOf(2)),e=this.curve.fromBigInteger(E.valueOf(3)),t=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(n)),l=t.square().subtract(this.x.multiply(n)),i=t.multiply(this.x.subtract(l)).subtract(this.y);return new sn(this.curve,l,i)},sn.prototype.multiply2D=function(n){if(this.isInfinity())return this;if(0==n.signum())return this.curve.getInfinity();var e,t=n,l=t.multiply(new E("3")),i=this.negate(),r=this;for(e=l.bitLength()-2;e>0;--e){r=r.twice();var o=l.testBit(e);o!=t.testBit(e)&&(r=r.add2D(o?this:i))}return r},sn.prototype.isOnCurve=function(){var n=this.getX().toBigInteger(),e=this.getY().toBigInteger(),t=this.curve.getA().toBigInteger(),l=this.curve.getB().toBigInteger(),i=this.curve.getQ(),r=e.multiply(e).mod(i),o=n.multiply(n).multiply(n).add(t.multiply(n)).add(l).mod(i);return r.equals(o)},sn.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},sn.prototype.validate=function(){var n=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),t=this.getY().toBigInteger();if(e.compareTo(E.ONE)<0||e.compareTo(n.subtract(E.ONE))>0)throw new Error("x coordinate out of bounds");if(t.compareTo(E.ONE)<0||t.compareTo(n.subtract(E.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(n).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var un=function(){var n=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),t={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function l(n,e,l){return e?t[e]:String.fromCharCode(parseInt(l,16))}var i=new String(""),r=Object.hasOwnProperty;return function(t,o){var s,a,u=t.match(n),c=u[0],d=!1;"{"===c?s={}:"["===c?s=[]:(s=[],d=!0);for(var p=[s],h=1-d,g=u.length;h<g;++h){var f;switch((c=u[h]).charCodeAt(0)){default:(f=p[0])[a||f.length]=+c,a=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(e,l)),f=p[0],!a){if(!(f instanceof Array)){a=c||i;break}a=f.length}f[a]=c,a=void 0;break;case 91:p.unshift((f=p[0])[a||f.length]=[]),a=void 0;break;case 93:p.shift();break;case 102:(f=p[0])[a||f.length]=!1,a=void 0;break;case 110:(f=p[0])[a||f.length]=null,a=void 0;break;case 116:(f=p[0])[a||f.length]=!0,a=void 0;break;case 123:p.unshift((f=p[0])[a||f.length]={}),a=void 0;break;case 125:p.shift()}}if(d){if(1!==p.length)throw new Error;s=s[0]}else if(p.length)throw new Error;if(o){var m=function(n,e){var t=n[e];if(t&&"object"==typeof t){var l=null;for(var i in t)if(r.call(t,i)&&t!==n){var s=m(t,i);void 0!==s?t[i]=s:(l||(l=[]),l.push(i))}if(l)for(var a=l.length;--a>=0;)delete t[l[a]]}return o.call(n,e,t)};s=m({"":s},"")}return s}}();void 0!==cn&&cn||(cn={}),void 0!==cn.asn1&&cn.asn1||(cn.asn1={}),cn.asn1.ASN1Util=new function(){this.integerToByteHex=function(n){var e=n.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(n){var e=n.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var t=e.substr(1).length;t%2==1?t+=1:e.match(/^[0-7]/)||(t+=2);for(var l="",i=0;i<t;i++)l+="f";e=new E(l,16).xor(n).add(E.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(n,e){return Rn(n,e)},this.newObject=function(n){var e=cn.asn1,t=e.DERBoolean,l=e.DERInteger,i=e.DERBitString,r=e.DEROctetString,o=e.DERNull,s=e.DERObjectIdentifier,a=e.DEREnumerated,u=e.DERUTF8String,c=e.DERNumericString,d=e.DERPrintableString,p=e.DERTeletexString,h=e.DERIA5String,g=e.DERUTCTime,f=e.DERGeneralizedTime,m=e.DERVisibleString,v=e.DERBMPString,y=e.DERSequence,S=e.DERSet,b=e.DERTaggedObject,C=e.ASN1Util.newObject,E=Object.keys(n);if(1!=E.length)throw"key of param shall be only one.";var x=E[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+x+":"))throw new Error("undefined key: "+x);if("bool"==x)return new t(n[x]);if("int"==x)return new l(n[x]);if("bitstr"==x)return new i(n[x]);if("octstr"==x)return new r(n[x]);if("null"==x)return new o(n[x]);if("oid"==x)return new s(n[x]);if("enum"==x)return new a(n[x]);if("utf8str"==x)return new u(n[x]);if("numstr"==x)return new c(n[x]);if("prnstr"==x)return new d(n[x]);if("telstr"==x)return new p(n[x]);if("ia5str"==x)return new h(n[x]);if("utctime"==x)return new g(n[x]);if("gentime"==x)return new f(n[x]);if("visstr"==x)return new m(n[x]);if("bmpstr"==x)return new v(n[x]);if("seq"==x){for(var w=n[x],A=[],_=0;_<w.length;_++){var T=C(w[_]);A.push(T)}return new y({array:A})}if("set"==x){for(w=n[x],A=[],_=0;_<w.length;_++)T=C(w[_]),A.push(T);return new S({array:A})}if("tag"==x){var I=n[x];if("[object Array]"===Object.prototype.toString.call(I)&&3==I.length){var R=C(I[2]);return new b({tag:I[0],explicit:I[1],obj:R})}var N={};if(void 0!==I.explicit&&(N.explicit=I.explicit),void 0!==I.tag&&(N.tag=I.tag),void 0===I.obj)throw"obj shall be specified for 'tag'.";return N.obj=C(I.obj),new b(N)}},this.jsonToASN1HEX=function(n){return this.newObject(n).getEncodedHex()}},cn.asn1.ASN1Util.oidHexToInt=function(n){for(var e="",t=parseInt(n.substr(0,2),16),l=(e=Math.floor(t/40)+"."+t%40,""),i=2;i<n.length;i+=2){var r=("00000000"+parseInt(n.substr(i,2),16).toString(2)).slice(-8);l+=r.substr(1,7),"0"==r.substr(0,1)&&(e=e+"."+new E(l,2).toString(10),l="")}return e},cn.asn1.ASN1Util.oidIntToHex=function(n){var e=function(n){var e=n.toString(16);return 1==e.length&&(e="0"+e),e},t=function(n){var t="",l=new E(n,10).toString(2),i=7-l.length%7;7==i&&(i=0);for(var r="",o=0;o<i;o++)r+="0";for(l=r+l,o=0;o<l.length-1;o+=7){var s=l.substr(o,7);o!=l.length-7&&(s="1"+s),t+=e(parseInt(s,2))}return t};if(!n.match(/^[0-9.]+$/))throw"malformed oid string: "+n;var l="",i=n.split("."),r=40*parseInt(i[0])+parseInt(i[1]);l+=e(r),i.splice(0,2);for(var o=0;o<i.length;o++)l+=t(i[o]);return l},cn.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var n=this.hV.length/2,e=n.toString(16);if(e.length%2==1&&(e="0"+e),n<128)return e;var t=e.length/2;if(t>15)throw"ASN.1 length too long to represent by 8x: n = "+n.toString(16);return(128+t).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},cn.asn1.DERAbstractString=function(n){cn.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.s=n,this.hV=En(this.s).toLowerCase()},this.setStringHex=function(n){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.getFreshValueHex=function(){return this.hV},void 0!==n&&("string"==typeof n?this.setString(n):void 0!==n.str?this.setString(n.str):void 0!==n.hex&&this.setStringHex(n.hex))},i.lang.extend(cn.asn1.DERAbstractString,cn.asn1.ASN1Object),cn.asn1.DERAbstractTime=function(n){cn.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(n){var e=n.getTime()+6e4*n.getTimezoneOffset();return new Date(e)},this.formatDate=function(n,e,t){var l=this.zeroPadding,i=this.localDateToUTC(n),r=String(i.getFullYear());"utc"==e&&(r=r.substr(2,2));var o=r+l(String(i.getMonth()+1),2)+l(String(i.getDate()),2)+l(String(i.getHours()),2)+l(String(i.getMinutes()),2)+l(String(i.getSeconds()),2);if(!0===t){var s=i.getMilliseconds();if(0!=s){var a=l(String(s),3);o=o+"."+(a=a.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(n,e){return n.length>=e?n:new Array(e-n.length+1).join("0")+n},this.getString=function(){return this.s},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.s=n,this.hV=vn(n)},this.setByDateValue=function(n,e,t,l,i,r){var o=new Date(Date.UTC(n,e-1,t,l,i,r,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},i.lang.extend(cn.asn1.DERAbstractTime,cn.asn1.ASN1Object),cn.asn1.DERAbstractStructured=function(n){cn.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(n){this.hTLV=null,this.isModified=!0,this.asn1Array=n},this.appendASN1Object=function(n){this.hTLV=null,this.isModified=!0,this.asn1Array.push(n)},this.asn1Array=new Array,void 0!==n&&void 0!==n.array&&(this.asn1Array=n.array)},i.lang.extend(cn.asn1.DERAbstractStructured,cn.asn1.ASN1Object),cn.asn1.DERBoolean=function(){cn.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},i.lang.extend(cn.asn1.DERBoolean,cn.asn1.ASN1Object),cn.asn1.DERInteger=function(n){cn.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(n){this.hTLV=null,this.isModified=!0,this.hV=cn.asn1.ASN1Util.bigIntToMinTwosComplementsHex(n)},this.setByInteger=function(n){var e=new E(String(n),10);this.setByBigInteger(e)},this.setValueHex=function(n){this.hV=n},this.getFreshValueHex=function(){return this.hV},void 0!==n&&(void 0!==n.bigint?this.setByBigInteger(n.bigint):void 0!==n.int?this.setByInteger(n.int):"number"==typeof n?this.setByInteger(n):void 0!==n.hex&&this.setValueHex(n.hex))},i.lang.extend(cn.asn1.DERInteger,cn.asn1.ASN1Object),cn.asn1.DERBitString=function(n){if(void 0!==n&&void 0!==n.obj){var e=cn.asn1.ASN1Util.newObject(n.obj);n.hex="00"+e.getEncodedHex()}cn.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(n){this.hTLV=null,this.isModified=!0,this.hV=n},this.setUnusedBitsAndHexValue=function(n,e){if(n<0||7<n)throw"unused bits shall be from 0 to 7: u = "+n;var t="0"+n;this.hTLV=null,this.isModified=!0,this.hV=t+e},this.setByBinaryString=function(n){var e=8-(n=n.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var t=0;t<=e;t++)n+="0";var l="";for(t=0;t<n.length-1;t+=8){var i=n.substr(t,8),r=parseInt(i,2).toString(16);1==r.length&&(r="0"+r),l+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+e+l},this.setByBooleanArray=function(n){for(var e="",t=0;t<n.length;t++)e+=1==n[t]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(n){for(var e=new Array(n),t=0;t<n;t++)e[t]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==n&&("string"==typeof n&&n.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(n):void 0!==n.hex?this.setHexValueIncludingUnusedBits(n.hex):void 0!==n.bin?this.setByBinaryString(n.bin):void 0!==n.array&&this.setByBooleanArray(n.array))},i.lang.extend(cn.asn1.DERBitString,cn.asn1.ASN1Object),cn.asn1.DEROctetString=function(n){if(void 0!==n&&void 0!==n.obj){var e=cn.asn1.ASN1Util.newObject(n.obj);n.hex=e.getEncodedHex()}cn.asn1.DEROctetString.superclass.constructor.call(this,n),this.hT="04"},i.lang.extend(cn.asn1.DEROctetString,cn.asn1.DERAbstractString),cn.asn1.DERNull=function(){cn.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},i.lang.extend(cn.asn1.DERNull,cn.asn1.ASN1Object),cn.asn1.DERObjectIdentifier=function(n){var e=function(n){var e=n.toString(16);return 1==e.length&&(e="0"+e),e},t=function(n){var t="",l=new E(n,10).toString(2),i=7-l.length%7;7==i&&(i=0);for(var r="",o=0;o<i;o++)r+="0";for(l=r+l,o=0;o<l.length-1;o+=7){var s=l.substr(o,7);o!=l.length-7&&(s="1"+s),t+=e(parseInt(s,2))}return t};cn.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(n){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueOidString=function(n){if(!n.match(/^[0-9.]+$/))throw"malformed oid string: "+n;var l="",i=n.split("."),r=40*parseInt(i[0])+parseInt(i[1]);l+=e(r),i.splice(0,2);for(var o=0;o<i.length;o++)l+=t(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=l},this.setValueName=function(n){var e=cn.asn1.x509.OID.name2oid(n);if(""===e)throw"DERObjectIdentifier oidName undefined: "+n;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==n&&("string"==typeof n?n.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(n):this.setValueName(n):void 0!==n.oid?this.setValueOidString(n.oid):void 0!==n.hex?this.setValueHex(n.hex):void 0!==n.name&&this.setValueName(n.name))},i.lang.extend(cn.asn1.DERObjectIdentifier,cn.asn1.ASN1Object),cn.asn1.DEREnumerated=function(n){cn.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(n){this.hTLV=null,this.isModified=!0,this.hV=cn.asn1.ASN1Util.bigIntToMinTwosComplementsHex(n)},this.setByInteger=function(n){var e=new E(String(n),10);this.setByBigInteger(e)},this.setValueHex=function(n){this.hV=n},this.getFreshValueHex=function(){return this.hV},void 0!==n&&(void 0!==n.int?this.setByInteger(n.int):"number"==typeof n?this.setByInteger(n):void 0!==n.hex&&this.setValueHex(n.hex))},i.lang.extend(cn.asn1.DEREnumerated,cn.asn1.ASN1Object),cn.asn1.DERUTF8String=function(n){cn.asn1.DERUTF8String.superclass.constructor.call(this,n),this.hT="0c"},i.lang.extend(cn.asn1.DERUTF8String,cn.asn1.DERAbstractString),cn.asn1.DERNumericString=function(n){cn.asn1.DERNumericString.superclass.constructor.call(this,n),this.hT="12"},i.lang.extend(cn.asn1.DERNumericString,cn.asn1.DERAbstractString),cn.asn1.DERPrintableString=function(n){cn.asn1.DERPrintableString.superclass.constructor.call(this,n),this.hT="13"},i.lang.extend(cn.asn1.DERPrintableString,cn.asn1.DERAbstractString),cn.asn1.DERTeletexString=function(n){cn.asn1.DERTeletexString.superclass.constructor.call(this,n),this.hT="14"},i.lang.extend(cn.asn1.DERTeletexString,cn.asn1.DERAbstractString),cn.asn1.DERIA5String=function(n){cn.asn1.DERIA5String.superclass.constructor.call(this,n),this.hT="16"},i.lang.extend(cn.asn1.DERIA5String,cn.asn1.DERAbstractString),cn.asn1.DERVisibleString=function(n){cn.asn1.DERIA5String.superclass.constructor.call(this,n),this.hT="1a"},i.lang.extend(cn.asn1.DERVisibleString,cn.asn1.DERAbstractString),cn.asn1.DERBMPString=function(n){cn.asn1.DERBMPString.superclass.constructor.call(this,n),this.hT="1e"},i.lang.extend(cn.asn1.DERBMPString,cn.asn1.DERAbstractString),cn.asn1.DERUTCTime=function(n){cn.asn1.DERUTCTime.superclass.constructor.call(this,n),this.hT="17",this.setByDate=function(n){this.hTLV=null,this.isModified=!0,this.date=n,this.s=this.formatDate(this.date,"utc"),this.hV=vn(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=vn(this.s)),this.hV},void 0!==n&&(void 0!==n.str?this.setString(n.str):"string"==typeof n&&n.match(/^[0-9]{12}Z$/)?this.setString(n):void 0!==n.hex?this.setStringHex(n.hex):void 0!==n.date&&this.setByDate(n.date))},i.lang.extend(cn.asn1.DERUTCTime,cn.asn1.DERAbstractTime),cn.asn1.DERGeneralizedTime=function(n){cn.asn1.DERGeneralizedTime.superclass.constructor.call(this,n),this.hT="18",this.withMillis=!1,this.setByDate=function(n){this.hTLV=null,this.isModified=!0,this.date=n,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=vn(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=vn(this.s)),this.hV},void 0!==n&&(void 0!==n.str?this.setString(n.str):"string"==typeof n&&n.match(/^[0-9]{14}Z$/)?this.setString(n):void 0!==n.hex?this.setStringHex(n.hex):void 0!==n.date&&this.setByDate(n.date),!0===n.millis&&(this.withMillis=!0))},i.lang.extend(cn.asn1.DERGeneralizedTime,cn.asn1.DERAbstractTime),cn.asn1.DERSequence=function(n){cn.asn1.DERSequence.superclass.constructor.call(this,n),this.hT="30",this.getFreshValueHex=function(){for(var n="",e=0;e<this.asn1Array.length;e++)n+=this.asn1Array[e].getEncodedHex();return this.hV=n,this.hV}},i.lang.extend(cn.asn1.DERSequence,cn.asn1.DERAbstractStructured),cn.asn1.DERSet=function(n){cn.asn1.DERSet.superclass.constructor.call(this,n),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var n=new Array,e=0;e<this.asn1Array.length;e++)n.push(this.asn1Array[e].getEncodedHex());return 1==this.sortFlag&&n.sort(),this.hV=n.join(""),this.hV},void 0!==n&&void 0!==n.sortflag&&0==n.sortflag&&(this.sortFlag=!1)},i.lang.extend(cn.asn1.DERSet,cn.asn1.DERAbstractStructured),cn.asn1.DERTaggedObject=function(n){cn.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(n,e,t){this.hT=e,this.isExplicit=n,this.asn1Object=t,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=t.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==n&&(void 0!==n.tag&&(this.hT=n.tag),void 0!==n.explicit&&(this.isExplicit=n.explicit),void 0!==n.obj&&(this.asn1Object=n.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},i.lang.extend(cn.asn1.DERTaggedObject,cn.asn1.ASN1Object);var cn,dn,pn,hn=new function(){};function gn(n){for(var e=new Array,t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}function fn(n){for(var e="",t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e}function mn(n){for(var e="",t=0;t<n.length;t++){var l=n[t].toString(16);1==l.length&&(l="0"+l),e+=l}return e}function vn(n){return mn(gn(n))}function yn(n){return(n=(n=n.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Sn(n){return n.length%4==2?n+="==":n.length%4==3&&(n+="="),(n=n.replace(/-/g,"+")).replace(/_/g,"/")}function bn(n){return n.length%2==1&&(n="0"+n),yn(S(n))}function Cn(n){return b(Sn(n))}function En(n){return On(Hn(n))}function xn(n){return decodeURIComponent(Dn(n))}function wn(n){for(var e="",t=0;t<n.length-1;t+=2)e+=String.fromCharCode(parseInt(n.substr(t,2),16));return e}function An(n){for(var e="",t=0;t<n.length;t++)e+=("0"+n.charCodeAt(t).toString(16)).slice(-2);return e}function _n(n){return S(n)}function Tn(n){return _n(n).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function In(n){return b(n.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Rn(n,e){return"-----BEGIN "+e+"-----\r\n"+Tn(n)+"\r\n-----END "+e+"-----\r\n"}function Nn(n,e){if(-1==n.indexOf("-----BEGIN "))throw"can't find PEM header: "+e;return In(n=void 0!==e?(n=n.replace(new RegExp("^[^]*-----BEGIN "+e+"-----"),"")).replace(new RegExp("-----END "+e+"-----[^]*$"),""):(n=n.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Fn(n){var e,t,l,i,r,o,s,a,u,c,d;if(d=n.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return a=d[1],e=parseInt(a),2===a.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),t=parseInt(d[2])-1,l=parseInt(d[3]),i=parseInt(d[4]),r=parseInt(d[5]),o=parseInt(d[6]),s=0,""!==(u=d[7])&&(c=(u.substr(1)+"00").substr(0,3),s=parseInt(c)),Date.UTC(e,t,l,i,r,o,s);throw"unsupported zulu format: "+n}function Pn(n){return~~(Fn(n)/1e3)}function On(n){return n.replace(/%/g,"")}function Dn(n){return n.replace(/(..)/g,"%$1")}function kn(n){var e="malformed IPv6 address";if(!n.match(/^[0-9A-Fa-f:]+$/))throw e;var t=(n=n.toLowerCase()).split(":").length-1;if(t<2)throw e;var l=":".repeat(7-t+2),i=(n=n.replace("::",l)).split(":");if(8!=i.length)throw e;for(var r=0;r<8;r++)i[r]=("0000"+i[r]).slice(-4);return i.join("")}function Vn(n){if(!n.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var e=(n=n.toLowerCase()).match(/.{1,4}/g),t=0;t<8;t++)e[t]=e[t].replace(/^0+/,""),""==e[t]&&(e[t]="0");var l=(n=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null===l)return n.slice(1,-1);var i="";for(t=0;t<l.length;t++)l[t].length>i.length&&(i=l[t]);return(n=n.replace(i,"::")).slice(1,-1)}function Ln(n){var e="malformed hex value";if(!n.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=n.length)return 32==n.length?Vn(n):n;try{return parseInt(n.substr(0,2),16)+"."+parseInt(n.substr(2,2),16)+"."+parseInt(n.substr(4,2),16)+"."+parseInt(n.substr(6,2),16)}catch(o){throw e}}function Hn(n){for(var e=encodeURIComponent(n),t="",l=0;l<e.length;l++)"%"==e[l]?(t+=e.substr(l,3),l+=2):t=t+"%"+vn(e[l]);return t}function Bn(n){return n.length%2==1?"0"+n:n.substr(0,1)>"7"?"00"+n:n}function Un(n){n=(n=(n=n.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return n.split(/,/).map((function(n,e,t){var l=parseInt(n);if(l<0||255<l)throw"integer not in range 0-255";return("00"+l.toString(16)).slice(-2)})).join("")}catch(o){throw"malformed integer array string: "+o}}hn.getLblen=function(n,e){if("8"!=n.substr(e+2,1))return 1;var t=parseInt(n.substr(e+3,1));return 0==t?-1:0<t&&t<10?t+1:-2},hn.getL=function(n,e){var t=hn.getLblen(n,e);return t<1?"":n.substr(e+2,2*t)},hn.getVblen=function(n,e){var t;return""==(t=hn.getL(n,e))?-1:("8"===t.substr(0,1)?new E(t.substr(2),16):new E(t,16)).intValue()},hn.getVidx=function(n,e){var t=hn.getLblen(n,e);return t<0?t:e+2*(t+1)},hn.getV=function(n,e){var t=hn.getVidx(n,e),l=hn.getVblen(n,e);return n.substr(t,2*l)},hn.getTLV=function(n,e){return n.substr(e,2)+hn.getL(n,e)+hn.getV(n,e)},hn.getNextSiblingIdx=function(n,e){return hn.getVidx(n,e)+2*hn.getVblen(n,e)},hn.getChildIdx=function(n,e){var t=hn,l=new Array,i=t.getVidx(n,e);"03"==n.substr(e,2)?l.push(i+2):l.push(i);for(var r=t.getVblen(n,e),o=i,s=0;;){var a=t.getNextSiblingIdx(n,o);if(null==a||a-i>=2*r)break;if(s>=200)break;l.push(a),o=a,s++}return l},hn.getNthChildIdx=function(n,e,t){return hn.getChildIdx(n,e)[t]},hn.getIdxbyList=function(n,e,t,l){var i,r,o=hn;if(0==t.length){if(void 0!==l&&n.substr(e,2)!==l)throw Error("checking tag doesn't match: "+n.substr(e,2)+"!="+l);return e}return i=t.shift(),r=o.getChildIdx(n,e),o.getIdxbyList(n,r[i],t,l)},hn.getIdxbyListEx=function(n,e,t,l){var i,r,o=hn;if(0==t.length)return void 0!==l&&n.substr(e,2)!==l?-1:e;i=t.shift(),r=o.getChildIdx(n,e);for(var s=0,a=0;a<r.length;a++){var u=n.substr(r[a],2);if("number"==typeof i&&!o.isContextTag(u)&&s==i||"string"==typeof i&&o.isContextTag(u,i))return o.getIdxbyListEx(n,r[a],t,l);o.isContextTag(u)||s++}return-1},hn.getTLVbyList=function(n,e,t,l){var i=hn,r=i.getIdxbyList(n,e,t);if(void 0===r)throw new Error("can't find nthList object");if(void 0!==l&&n.substr(r,2)!=l)throw new Error("checking tag doesn't match: "+n.substr(r,2)+"!="+l);return i.getTLV(n,r)},hn.getTLVbyListEx=function(n,e,t,l){var i=hn,r=i.getIdxbyListEx(n,e,t,l);return-1==r?null:i.getTLV(n,r)},hn.getVbyList=function(n,e,t,l,i){var r,o,s=hn;if(void 0===(r=s.getIdxbyList(n,e,t,l)))throw"can't find nthList object";return o=s.getV(n,r),!0===i&&(o=o.substr(2)),o},hn.getVbyListEx=function(n,e,t,l,i){var r,o,s=hn;return-1==(r=s.getIdxbyListEx(n,e,t,l))?null:(o=s.getV(n,r),"03"==n.substr(r,2)&&!1!==i&&(o=o.substr(2)),o)},hn.hextooidstr=function(n){var e=function(n,e){return n.length>=e?n:new Array(e-n.length+1).join("0")+n},t=[],l=n.substr(0,2),i=parseInt(l,16);t[0]=new String(Math.floor(i/40)),t[1]=new String(i%40);for(var r=n.substr(2),o=[],s=0;s<r.length/2;s++)o.push(parseInt(r.substr(2*s,2),16));var a=[],u="";for(s=0;s<o.length;s++)128&o[s]?u+=e((127&o[s]).toString(2),7):(u+=e((127&o[s]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var c=t.join(".");return a.length>0&&(c=c+"."+a.join(".")),c},hn.dump=function(n,e,t,l){var i=hn,r=i.getV,o=i.dump,s=i.getChildIdx,a=n;n instanceof cn.asn1.ASN1Object&&(a=n.getEncodedHex());var u=function(n,e){return n.length<=2*e?n:n.substr(0,e)+"..(total "+n.length/2+"bytes).."+n.substr(n.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===t&&(t=0),void 0===l&&(l="");var c,d=e.ommit_long_octet;if("01"==(c=a.substr(t,2)))return"00"==(p=r(a,t))?l+"BOOLEAN FALSE\n":l+"BOOLEAN TRUE\n";if("02"==c)return l+"INTEGER "+u(p=r(a,t),d)+"\n";if("03"==c){var p=r(a,t);return i.isASN1HEX(p.substr(2))?(E=l+"BITSTRING, encapsulates\n")+o(p.substr(2),e,0,l+"  "):l+"BITSTRING "+u(p,d)+"\n"}if("04"==c)return p=r(a,t),i.isASN1HEX(p)?(E=l+"OCTETSTRING, encapsulates\n")+o(p,e,0,l+"  "):l+"OCTETSTRING "+u(p,d)+"\n";if("05"==c)return l+"NULL\n";if("06"==c){var h=r(a,t),g=cn.asn1.ASN1Util.oidHexToInt(h),f=cn.asn1.x509.OID.oid2name(g),m=g.replace(/\./g," ");return""!=f?l+"ObjectIdentifier "+f+" ("+m+")\n":l+"ObjectIdentifier ("+m+")\n"}if("0c"==c)return l+"UTF8String '"+xn(r(a,t))+"'\n";if("13"==c)return l+"PrintableString '"+xn(r(a,t))+"'\n";if("14"==c)return l+"TeletexString '"+xn(r(a,t))+"'\n";if("16"==c)return l+"IA5String '"+xn(r(a,t))+"'\n";if("17"==c)return l+"UTCTime "+xn(r(a,t))+"\n";if("18"==c)return l+"GeneralizedTime "+xn(r(a,t))+"\n";if("1a"==c)return l+"VisualString '"+xn(r(a,t))+"'\n";if("1e"==c)return l+"BMPString '"+xn(r(a,t))+"'\n";if("30"==c){if("3000"==a.substr(t,4))return l+"SEQUENCE {}\n";E=l+"SEQUENCE\n";var v=e;if((2==(b=s(a,t)).length||3==b.length)&&"06"==a.substr(b[0],2)&&"04"==a.substr(b[b.length-1],2)){f=i.oidname(r(a,b[0]));var y=JSON.parse(JSON.stringify(e));y.x509ExtName=f,v=y}for(var S=0;S<b.length;S++)E+=o(a,v,b[S],l+"  ");return E}if("31"==c){E=l+"SET\n";var b=s(a,t);for(S=0;S<b.length;S++)E+=o(a,e,b[S],l+"  ");return E}if(0!=(128&(c=parseInt(c,16)))){var C=31&c;if(0!=(32&c)){var E=l+"["+C+"]\n";for(b=s(a,t),S=0;S<b.length;S++)E+=o(a,e,b[S],l+"  ");return E}return"68747470"==(p=r(a,t)).substr(0,8)&&(p=xn(p)),"subjectAltName"===e.x509ExtName&&2==C&&(p=xn(p)),l+"["+C+"] "+p+"\n"}return l+"UNKNOWN("+c+") "+r(a,t)+"\n"},hn.isContextTag=function(n,e){var t,l;n=n.toLowerCase();try{t=parseInt(n,16)}catch(p){return-1}if(void 0===e)return 128==(192&t);try{return null!=e.match(/^\[[0-9]+\]$/)&&!((l=parseInt(e.substr(1,e.length-1),10))>31)&&128==(192&t)&&(31&t)==l}catch(p){return!1}},hn.isASN1HEX=function(n){var e=hn;if(n.length%2==1)return!1;var t=e.getVblen(n,0),l=n.substr(0,2),i=e.getL(n,0);return n.length-l.length-i.length==2*t},hn.checkStrictDER=function(n,e,t,l,i){var r=hn;if(void 0===t){if("string"!=typeof n)throw new Error("not hex string");if(n=n.toLowerCase(),!cn.lang.String.isHex(n))throw new Error("not hex string");t=n.length,i=(l=n.length/2)<128?1:Math.ceil(l.toString(16))+1}if(r.getL(n,e).length>2*i)throw new Error("L of TLV too long: idx="+e);var o=r.getVblen(n,e);if(o>l)throw new Error("value of L too long than hex: idx="+e);var s=r.getTLV(n,e),a=s.length-2-r.getL(n,e).length;if(a!==2*o)throw new Error("V string length and L's value not the same:"+a+"/"+2*o);if(0===e&&n.length!=s.length)throw new Error("total length and TLV length unmatch:"+n.length+"!="+s.length);var u=n.substr(e,2);if("02"===u){var c=r.getVidx(n,e);if("00"==n.substr(c,2)&&n.charCodeAt(c+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var d=r.getVblen(n,e),p=0,h=r.getChildIdx(n,e),g=0;g<h.length;g++)p+=r.getTLV(n,h[g]).length,r.checkStrictDER(n,h[g],t,l,i);if(2*d!=p)throw new Error("sum of children's TLV length and L unmatch: "+2*d+"!="+p)}},hn.oidname=function(n){var e=cn.asn1;cn.lang.String.isHex(n)&&(n=e.ASN1Util.oidHexToInt(n));var t=e.x509.OID.oid2name(n);return""===t&&(t=n),t},void 0!==cn&&cn||(cn={}),void 0!==cn.asn1&&cn.asn1||(cn.asn1={}),void 0!==cn.asn1.x509&&cn.asn1.x509||(cn.asn1.x509={}),cn.asn1.x509.Certificate=function(n){cn.asn1.x509.Certificate.superclass.constructor.call(this);var e=cn.asn1,t=e.DERSequence,l=e.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var n=new cn.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});n.init(this.prvKey),n.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=n.sign(),this.asn1Sig=new l({hex:"00"+this.hexSig});var e=new t({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(n){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=n,this.asn1Sig=new l({hex:"00"+this.hexSig});var e=new t({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+Tn(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==n&&(void 0!==n.tbscertobj&&(this.asn1TBSCert=n.tbscertobj),void 0!==n.prvkeyobj&&(this.prvKey=n.prvkeyobj))},i.lang.extend(cn.asn1.x509.Certificate,cn.asn1.ASN1Object),cn.asn1.x509.TBSCertificate=function(n){cn.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=cn.asn1,t=e.DERSequence,l=e.DERInteger,i=e.DERTaggedObject,r=e.x509,o=r.Time,s=r.X500Name,a=r.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new i({obj:new l({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(n){this.asn1SerialNumber=new l(n)},this.setSignatureAlgByParam=function(n){this.asn1SignatureAlg=new r.AlgorithmIdentifier(n)},this.setIssuerByParam=function(n){this.asn1Issuer=new s(n)},this.setNotBeforeByParam=function(n){this.asn1NotBefore=new o(n)},this.setNotAfterByParam=function(n){this.asn1NotAfter=new o(n)},this.setSubjectByParam=function(n){this.asn1Subject=new s(n)},this.setSubjectPublicKey=function(n){this.asn1SubjPKey=new a(n)},this.setSubjectPublicKeyByGetKey=function(n){var e=Mn.getKey(n);this.asn1SubjPKey=new a(e)},this.appendExtension=function(n){this.extensionsArray.push(n)},this.appendExtensionByName=function(n,e){cn.asn1.x509.Extension.appendByNameToArray(n,e,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var n=new t({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(n),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new t({array:this.extensionsArray}),l=new i({explicit:!0,tag:"a3",obj:e});this.asn1Array.push(l)}var r=new t({array:this.asn1Array});return this.hTLV=r.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},i.lang.extend(cn.asn1.x509.TBSCertificate,cn.asn1.ASN1Object),cn.asn1.x509.Extension=function(n){cn.asn1.x509.Extension.superclass.constructor.call(this);var e=cn.asn1,t=e.DERObjectIdentifier,l=e.DEROctetString,i=e.DERBoolean,r=e.DERSequence;this.getEncodedHex=function(){var n=new t({oid:this.oid}),e=new l({hex:this.getExtnValueHex()}),o=new Array;return o.push(n),this.critical&&o.push(new i),o.push(e),new r({array:o}).getEncodedHex()},this.critical=!1,void 0!==n&&void 0!==n.critical&&(this.critical=n.critical)},i.lang.extend(cn.asn1.x509.Extension,cn.asn1.ASN1Object),cn.asn1.x509.Extension.appendByNameToArray=function(n,e,t){var l=n.toLowerCase(),i=cn.asn1.x509;if("basicconstraints"==l){var r=new i.BasicConstraints(e);t.push(r)}else if("keyusage"==l)r=new i.KeyUsage(e),t.push(r);else if("crldistributionpoints"==l)r=new i.CRLDistributionPoints(e),t.push(r);else if("extkeyusage"==l)r=new i.ExtKeyUsage(e),t.push(r);else if("authoritykeyidentifier"==l)r=new i.AuthorityKeyIdentifier(e),t.push(r);else if("subjectkeyidentifier"==l)r=new i.SubjectKeyIdentifier(e),t.push(r);else if("authorityinfoaccess"==l)r=new i.AuthorityInfoAccess(e),t.push(r);else if("subjectaltname"==l)r=new i.SubjectAltName(e),t.push(r);else if("issueraltname"==l)r=new i.IssuerAltName(e),t.push(r);else{if("certificatepolicies"!=l)throw new Error("unsupported extension name: "+n);r=new i.CertificatePolicies(e),t.push(r)}},cn.asn1.x509.KeyUsage=function(n){cn.asn1.x509.KeyUsage.superclass.constructor.call(this,n);var e=zn.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==n&&(void 0!==n.bin&&(this.asn1ExtnValue=new cn.asn1.DERBitString(n)),void 0!==n.names&&void 0!==n.names.length)){for(var t=n.names,l="000000000",i=0;i<t.length;i++)for(var r=0;r<e.length;r++)t[i]===e[r]&&(l=l.substring(0,r)+"1"+l.substring(r+1,l.length));this.asn1ExtnValue=new cn.asn1.DERBitString({bin:l})}},i.lang.extend(cn.asn1.x509.KeyUsage,cn.asn1.x509.Extension),cn.asn1.x509.BasicConstraints=function(n){cn.asn1.x509.BasicConstraints.superclass.constructor.call(this,n),this.getExtnValueHex=function(){var n=new Array;this.cA&&n.push(new cn.asn1.DERBoolean),this.pathLen>-1&&n.push(new cn.asn1.DERInteger({int:this.pathLen}));var e=new cn.asn1.DERSequence({array:n});return this.asn1ExtnValue=e,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==n&&(void 0!==n.cA&&(this.cA=n.cA),void 0!==n.pathLen&&(this.pathLen=n.pathLen))},i.lang.extend(cn.asn1.x509.BasicConstraints,cn.asn1.x509.Extension),cn.asn1.x509.CRLDistributionPoints=function(n){cn.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,n);var e=cn.asn1,t=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(n){this.asn1ExtnValue=new e.DERSequence({array:n})},this.setByOneURI=function(n){var e=new t.GeneralNames([{uri:n}]),l=new t.DistributionPointName(e),i=new t.DistributionPoint({dpobj:l});this.setByDPArray([i])},this.oid="2.5.29.31",void 0!==n&&(void 0!==n.array?this.setByDPArray(n.array):void 0!==n.uri&&this.setByOneURI(n.uri))},i.lang.extend(cn.asn1.x509.CRLDistributionPoints,cn.asn1.x509.Extension),cn.asn1.x509.CertificatePolicies=function(n){cn.asn1.x509.CertificatePolicies.superclass.constructor.call(this,n);var e=cn.asn1,t=e.DERSequence,l=e.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var n=[],e=0;e<this.params.array.length;e++)n.push(new l(this.params.array[e]));var i=new t({array:n});return this.asn1ExtnValue=i,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",void 0!==n&&(this.params=n)},i.lang.extend(cn.asn1.x509.CertificatePolicies,cn.asn1.x509.Extension),cn.asn1.x509.PolicyInformation=function(n){cn.asn1.x509.PolicyInformation.superclass.constructor.call(this,n);var e=cn.asn1,t=e.DERSequence,l=e.DERObjectIdentifier,i=e.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var n=[new l({oid:this.params.policyoid})];if(void 0!==this.params.array){for(var e=[],r=0;r<this.params.array.length;r++)e.push(new i(this.params.array[r]));e.length>0&&n.push(new t({array:e}))}return new t({array:n}).getEncodedHex()},void 0!==n&&(this.params=n)},i.lang.extend(cn.asn1.x509.PolicyInformation,cn.asn1.ASN1Object),cn.asn1.x509.PolicyQualifierInfo=function(n){cn.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,n);var e=cn.asn1,t=e.DERSequence,l=e.DERIA5String,i=e.DERObjectIdentifier,r=e.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return void 0!==this.params.cps?new t({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new l({str:this.params.cps})]}).getEncodedHex():null!=this.params.unotice?new t({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new r(this.params.unotice)]}).getEncodedHex():void 0},void 0!==n&&(this.params=n)},i.lang.extend(cn.asn1.x509.PolicyQualifierInfo,cn.asn1.ASN1Object),cn.asn1.x509.UserNotice=function(n){cn.asn1.x509.UserNotice.superclass.constructor.call(this,n);var e=cn.asn1.DERSequence,t=cn.asn1.x509.DisplayText,l=cn.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var n=[];return void 0!==this.params.noticeref&&n.push(new l(this.params.noticeref)),void 0!==this.params.exptext&&n.push(new t(this.params.exptext)),new e({array:n}).getEncodedHex()},void 0!==n&&(this.params=n)},i.lang.extend(cn.asn1.x509.UserNotice,cn.asn1.ASN1Object),cn.asn1.x509.NoticeReference=function(n){cn.asn1.x509.NoticeReference.superclass.constructor.call(this,n);var e=cn.asn1.DERSequence,t=cn.asn1.DERInteger,l=cn.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var n=[];if(void 0!==this.params.org&&n.push(new l(this.params.org)),void 0!==this.params.noticenum){for(var i=[],r=this.params.noticenum,o=0;o<r.length;o++)i.push(new t(r[o]));n.push(new e({array:i}))}if(0==n.length)throw new Error("parameter is empty");return new e({array:n}).getEncodedHex()},void 0!==n&&(this.params=n)},i.lang.extend(cn.asn1.x509.NoticeReference,cn.asn1.ASN1Object),cn.asn1.x509.DisplayText=function(n){cn.asn1.x509.DisplayText.superclass.constructor.call(this,n),this.hT="0c",void 0!==n&&("ia5"===n.type?this.hT="16":"vis"===n.type?this.hT="1a":"bmp"===n.type&&(this.hT="1e"))},i.lang.extend(cn.asn1.x509.DisplayText,cn.asn1.DERAbstractString),cn.asn1.x509.ExtKeyUsage=function(n){cn.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,n);var e=cn.asn1;this.setPurposeArray=function(n){this.asn1ExtnValue=new e.DERSequence;for(var t=0;t<n.length;t++){var l=new e.DERObjectIdentifier(n[t]);this.asn1ExtnValue.appendASN1Object(l)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==n&&void 0!==n.array&&this.setPurposeArray(n.array)},i.lang.extend(cn.asn1.x509.ExtKeyUsage,cn.asn1.x509.Extension),cn.asn1.x509.AuthorityKeyIdentifier=function(n){cn.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,n);var e=cn.asn1,t=e.DERTaggedObject,l=e.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var n=new Array;this.asn1KID&&n.push(new t({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&n.push(new t({explicit:!1,tag:"a1",obj:new l([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&n.push(new t({explicit:!1,tag:"82",obj:this.asn1CertSN}));var i=new e.DERSequence({array:n});return this.asn1ExtnValue=i,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(n){if(void 0!==n.str||void 0!==n.hex)this.asn1KID=new cn.asn1.DEROctetString(n);else if("object"==typeof n&&cn.crypto.Util.isKey(n)||"string"==typeof n&&-1!=n.indexOf("BEGIN ")){var e=n;"string"==typeof n&&(e=Mn.getKey(n));var t=Mn.getKeyID(e);this.asn1KID=new cn.asn1.DEROctetString({hex:t})}},this.setCertIssuerByParam=function(n){void 0!==n.str||void 0!==n.ldapstr||void 0!==n.hex||void 0!==n.certsubject||void 0!==n.certissuer?this.asn1CertIssuer=new cn.asn1.x509.X500Name(n):"string"==typeof n&&-1!=n.indexOf("BEGIN ")&&-1!=n.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new cn.asn1.x509.X500Name({certissuer:n}))},this.setCertSNByParam=function(n){if(void 0!==n.str||void 0!==n.bigint||void 0!==n.hex)this.asn1CertSN=new cn.asn1.DERInteger(n);else if("string"==typeof n&&-1!=n.indexOf("BEGIN ")&&n.indexOf("CERTIFICATE")){var e=new zn;e.readCertPEM(n);var t=e.getSerialNumberHex();this.asn1CertSN=new cn.asn1.DERInteger({hex:t})}},this.oid="2.5.29.35",void 0!==n&&(void 0!==n.kid&&this.setKIDByParam(n.kid),void 0!==n.issuer&&this.setCertIssuerByParam(n.issuer),void 0!==n.sn&&this.setCertSNByParam(n.sn),void 0!==n.issuersn&&"string"==typeof n.issuersn&&-1!=n.issuersn.indexOf("BEGIN ")&&n.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(n.issuersn),this.setCertIssuerByParam(n.issuersn)))},i.lang.extend(cn.asn1.x509.AuthorityKeyIdentifier,cn.asn1.x509.Extension),cn.asn1.x509.SubjectKeyIdentifier=function(n){cn.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,n);var e=cn.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(n){if(void 0!==n.str||void 0!==n.hex)this.asn1KID=new e(n);else if("object"==typeof n&&cn.crypto.Util.isKey(n)||"string"==typeof n&&-1!=n.indexOf("BEGIN")){var t=n;"string"==typeof n&&(t=Mn.getKey(n));var l=Mn.getKeyID(t);this.asn1KID=new cn.asn1.DEROctetString({hex:l})}},this.oid="2.5.29.14",void 0!==n&&void 0!==n.kid&&this.setKIDByParam(n.kid)},i.lang.extend(cn.asn1.x509.SubjectKeyIdentifier,cn.asn1.x509.Extension),cn.asn1.x509.AuthorityInfoAccess=function(n){cn.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,n),this.setAccessDescriptionArray=function(n){for(var e=new Array,t=cn.asn1,l=t.DERSequence,i=0;i<n.length;i++){var r=new l({array:[new t.DERObjectIdentifier(n[i].accessMethod),new t.x509.GeneralName(n[i].accessLocation)]});e.push(r)}this.asn1ExtnValue=new l({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==n&&void 0!==n.array&&this.setAccessDescriptionArray(n.array)},i.lang.extend(cn.asn1.x509.AuthorityInfoAccess,cn.asn1.x509.Extension),cn.asn1.x509.SubjectAltName=function(n){cn.asn1.x509.SubjectAltName.superclass.constructor.call(this,n),this.setNameArray=function(n){this.asn1ExtnValue=new cn.asn1.x509.GeneralNames(n)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==n&&void 0!==n.array&&this.setNameArray(n.array)},i.lang.extend(cn.asn1.x509.SubjectAltName,cn.asn1.x509.Extension),cn.asn1.x509.IssuerAltName=function(n){cn.asn1.x509.IssuerAltName.superclass.constructor.call(this,n),this.setNameArray=function(n){this.asn1ExtnValue=new cn.asn1.x509.GeneralNames(n)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==n&&void 0!==n.array&&this.setNameArray(n.array)},i.lang.extend(cn.asn1.x509.IssuerAltName,cn.asn1.x509.Extension),cn.asn1.x509.CRL=function(n){cn.asn1.x509.CRL.superclass.constructor.call(this),this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new cn.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg,prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new cn.asn1.DERBitString({hex:"00"+this.hexSig});var n=new cn.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=n.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+Tn(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==n&&(void 0!==n.tbsobj&&(this.asn1TBSCertList=n.tbsobj),void 0!==n.prvkeyobj&&(this.prvKey=n.prvkeyobj))},i.lang.extend(cn.asn1.x509.CRL,cn.asn1.ASN1Object),cn.asn1.x509.TBSCertList=function(n){cn.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=cn.asn1,t=e.DERSequence,l=e.x509,i=l.Time;this.setSignatureAlgByParam=function(n){this.asn1SignatureAlg=new l.AlgorithmIdentifier(n)},this.setIssuerByParam=function(n){this.asn1Issuer=new l.X500Name(n)},this.setThisUpdateByParam=function(n){this.asn1ThisUpdate=new i(n)},this.setNextUpdateByParam=function(n){this.asn1NextUpdate=new i(n)},this.addRevokedCert=function(n,e){var t={};null!=n&&null!=n&&(t.sn=n),null!=e&&null!=e&&(t.time=e);var i=new l.CRLEntry(t);this.aRevokedCert.push(i)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var n=new t({array:this.aRevokedCert});this.asn1Array.push(n)}var e=new t({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},i.lang.extend(cn.asn1.x509.TBSCertList,cn.asn1.ASN1Object),cn.asn1.x509.CRLEntry=function(n){cn.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=cn.asn1;this.setCertSerial=function(n){this.sn=new e.DERInteger(n)},this.setRevocationDate=function(n){this.time=new e.x509.Time(n)},this.getEncodedHex=function(){var n=new e.DERSequence({array:[this.sn,this.time]});return this.TLV=n.getEncodedHex(),this.TLV},void 0!==n&&(void 0!==n.time&&this.setRevocationDate(n.time),void 0!==n.sn&&this.setCertSerial(n.sn))},i.lang.extend(cn.asn1.x509.CRLEntry,cn.asn1.ASN1Object),cn.asn1.x509.X500Name=function(n){cn.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var e,t=cn.asn1,l=t.x509;this.setByString=function(n){var e=n.split("/");e.shift();for(var t=[],i=0;i<e.length;i++)if(e[i].match(/^[^=]+=.+$/))t.push(e[i]);else{var r=t.length-1;t[r]=t[r]+"/"+e[i]}for(i=0;i<t.length;i++)this.asn1Array.push(new l.RDN({str:t[i]}))},this.setByLdapString=function(n){var e=l.X500Name.ldapToCompat(n);this.setByString(e)},this.setByObject=function(n){for(var e in n)if(n.hasOwnProperty(e)){var t=new cn.asn1.x509.RDN({str:e+"="+n[e]});this.asn1Array?this.asn1Array.push(t):this.asn1Array=[t]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var n=new t.DERSequence({array:this.asn1Array});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==n&&(void 0!==n.str?this.setByString(n.str):void 0!==n.ldapstr?this.setByLdapString(n.ldapstr):void 0!==n.hex?this.hTLV=n.hex:void 0!==n.certissuer?((e=new zn).readCertPEM(n.certissuer),this.hTLV=e.getIssuerHex()):void 0!==n.certsubject?((e=new zn).readCertPEM(n.certsubject),this.hTLV=e.getSubjectHex()):"object"==typeof n&&void 0===n.certsubject&&void 0===n.certissuer&&this.setByObject(n))},i.lang.extend(cn.asn1.x509.X500Name,cn.asn1.ASN1Object),cn.asn1.x509.X500Name.compatToLDAP=function(n){if("/"!==n.substr(0,1))throw"malformed input";var e=(n=n.substr(1)).split("/");return e.reverse(),(e=e.map((function(n){return n.replace(/,/,"\\,")}))).join(",")},cn.asn1.x509.X500Name.onelineToLDAP=function(n){return cn.asn1.x509.X500Name.compatToLDAP(n)},cn.asn1.x509.X500Name.ldapToCompat=function(n){for(var e=n.split(","),t=!1,l=[],i=0;e.length>0;i++){var r=e.shift();if(!0===t){var o=(l.pop()+","+r).replace(/\\,/g,",");l.push(o),t=!1}else l.push(r);"\\"===r.substr(-1,1)&&(t=!0)}return(l=l.map((function(n){return n.replace("/","\\/")}))).reverse(),"/"+l.join("/")},cn.asn1.x509.X500Name.ldapToOneline=function(n){return cn.asn1.x509.X500Name.ldapToCompat(n)},cn.asn1.x509.RDN=function(n){cn.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(n){this.asn1Array.push(new cn.asn1.x509.AttributeTypeAndValue({str:n}))},this.addByMultiValuedString=function(n){for(var e=cn.asn1.x509.RDN.parseString(n),t=0;t<e.length;t++)this.addByString(e[t])},this.getEncodedHex=function(){var n=new cn.asn1.DERSet({array:this.asn1Array});return this.TLV=n.getEncodedHex(),this.TLV},void 0!==n&&void 0!==n.str&&this.addByMultiValuedString(n.str)},i.lang.extend(cn.asn1.x509.RDN,cn.asn1.ASN1Object),cn.asn1.x509.RDN.parseString=function(n){for(var e=n.split(/\+/),t=!1,l=[],i=0;e.length>0;i++){var r=e.shift();if(!0===t){var o=(l.pop()+"+"+r).replace(/\\\+/g,"+");l.push(o),t=!1}else l.push(r);"\\"===r.substr(-1,1)&&(t=!0)}var s=!1,a=[];for(i=0;l.length>0;i++){if(r=l.shift(),!0===s){var u=a.pop();r.match(/"$/)?(o=(u+"+"+r).replace(/^([^=]+)="(.*)"$/,"$1=$2"),a.push(o),s=!1):a.push(u+"+"+r)}else a.push(r);r.match(/^[^=]+="/)&&(s=!0)}return a},cn.asn1.x509.AttributeTypeAndValue=function(n){cn.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var e=cn.asn1;this.setByString=function(n){var e=n.match(/^([^=]+)=(.+)$/);if(!e)throw"malformed attrTypeAndValueStr: "+n;this.setByAttrTypeAndValueStr(e[1],e[2])},this.setByAttrTypeAndValueStr=function(n,e){this.typeObj=cn.asn1.x509.OID.atype2obj(n);var t="utf8";"C"==n&&(t="prn"),this.valueObj=this.getValueObj(t,e)},this.getValueObj=function(n,t){if("utf8"==n)return new e.DERUTF8String({str:t});if("prn"==n)return new e.DERPrintableString({str:t});if("tel"==n)return new e.DERTeletexString({str:t});if("ia5"==n)return new e.DERIA5String({str:t});throw"unsupported directory string type: type="+n+" value="+t},this.getEncodedHex=function(){var n=new e.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=n.getEncodedHex(),this.TLV},void 0!==n&&void 0!==n.str&&this.setByString(n.str)},i.lang.extend(cn.asn1.x509.AttributeTypeAndValue,cn.asn1.ASN1Object),cn.asn1.x509.SubjectPublicKeyInfo=function(n){cn.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=cn.asn1,t=e.DERInteger,l=e.DERBitString,i=e.DERObjectIdentifier,r=e.DERSequence,o=e.ASN1Util.newObject,s=e.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new r({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var n=this.getASN1Object();return this.hTLV=n.getEncodedHex(),this.hTLV},this.setPubKey=function(n){try{if(n instanceof ln){var e=o({seq:[{int:{bigint:n.n}},{int:{int:n.e}}]}).getEncodedHex();this.asn1AlgId=new s({name:"rsaEncryption"}),this.asn1SubjPKey=new l({hex:"00"+e})}}catch(u){}try{if(n instanceof cn.crypto.ECDSA){var r=new i({name:n.curveName});this.asn1AlgId=new s({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new l({hex:"00"+n.pubKeyHex})}}catch(u){}try{if(n instanceof cn.crypto.DSA){r=new o({seq:[{int:{bigint:n.p}},{int:{bigint:n.q}},{int:{bigint:n.g}}]}),this.asn1AlgId=new s({name:"dsa",asn1params:r});var a=new t({bigint:n.y});this.asn1SubjPKey=new l({hex:"00"+a.getEncodedHex()})}}catch(u){}},void 0!==n&&this.setPubKey(n)},i.lang.extend(cn.asn1.x509.SubjectPublicKeyInfo,cn.asn1.ASN1Object),cn.asn1.x509.Time=function(n){cn.asn1.x509.Time.superclass.constructor.call(this);var e=cn.asn1,t=e.DERUTCTime,l=e.DERGeneralizedTime;this.setTimeParams=function(n){this.timeParams=n},this.getEncodedHex=function(){var n=null;return n=null!=this.timeParams?"utc"==this.type?new t(this.timeParams):new l(this.timeParams):"utc"==this.type?new t:new l,this.TLV=n.getEncodedHex(),this.TLV},this.type="utc",void 0!==n&&(void 0!==n.type?this.type=n.type:void 0!==n.str&&(n.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),n.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=n)},i.lang.extend(cn.asn1.x509.Time,cn.asn1.ASN1Object),cn.asn1.x509.AlgorithmIdentifier=function(n){cn.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var e=cn.asn1,t=e.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var n=null;for(var l in t)l===this.nameAlg&&(n=t[l]);if(null!==n)return this.hTLV=n,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=e.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var r=new e.DERSequence({array:i});return this.hTLV=r.getEncodedHex(),this.hTLV},void 0!==n&&(void 0!==n.name&&(this.nameAlg=n.name),void 0!==n.asn1params&&(this.asn1Params=n.asn1params),void 0!==n.paramempty&&(this.paramEmpty=n.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var l=this.nameAlg.toLowerCase();"withdsa"!==l.substr(-7,7)&&"withecdsa"!==l.substr(-9,9)&&(this.asn1Params=new e.DERNull)}},i.lang.extend(cn.asn1.x509.AlgorithmIdentifier,cn.asn1.ASN1Object),cn.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},cn.asn1.x509.GeneralName=function(n){cn.asn1.x509.GeneralName.superclass.constructor.call(this);var e={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},t=cn.asn1,l=t.DEROctetString,i=t.DERIA5String,r=t.DERTaggedObject,o=t.ASN1Object,s=t.x509.X500Name,a=Nn;this.explicit=!1,this.setByParam=function(n){var t=null;if(void 0!==n){if(void 0!==n.rfc822&&(this.type="rfc822",t=new i({str:n[this.type]})),void 0!==n.dns&&(this.type="dns",t=new i({str:n[this.type]})),void 0!==n.uri&&(this.type="uri",t=new i({str:n[this.type]})),void 0!==n.dn&&(this.type="dn",this.explicit=!0,t="string"==typeof n.dn?new s({str:n.dn}):n.dn instanceof cn.asn1.x509.X500Name?n.dn:new s(n.dn)),void 0!==n.ldapdn&&(this.type="dn",this.explicit=!0,t=new s({ldapstr:n.ldapdn})),void 0!==n.certissuer){this.type="dn",this.explicit=!0;var u=null;if((d=n.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=d.indexOf("-----BEGIN ")&&(u=a(d)),null==u)throw"certissuer param not cert";(p=new zn).hex=u;var c=p.getIssuerHex();(t=new o).hTLV=c}if(void 0!==n.certsubj){var d,p;if(this.type="dn",this.explicit=!0,u=null,(d=n.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=d.indexOf("-----BEGIN ")&&(u=a(d)),null==u)throw"certsubj param not cert";(p=new zn).hex=u,c=p.getSubjectHex(),(t=new o).hTLV=c}if(void 0!==n.ip){this.type="ip",this.explicit=!1;var h,g=n.ip,f="malformed IP address";if(g.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(h=Un("["+g.split(".").join(",")+"]")).length)throw f}else if(g.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))h=kn(g);else{if(!g.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw f;h=g}t=new l({hex:h})}if(null==this.type)throw"unsupported type in params="+n;this.asn1Obj=new r({explicit:this.explicit,tag:e[this.type],obj:t})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==n&&this.setByParam(n)},i.lang.extend(cn.asn1.x509.GeneralName,cn.asn1.ASN1Object),cn.asn1.x509.GeneralNames=function(n){cn.asn1.x509.GeneralNames.superclass.constructor.call(this);var e=cn.asn1;this.setByParamArray=function(n){for(var t=0;t<n.length;t++){var l=new e.x509.GeneralName(n[t]);this.asn1Array.push(l)}},this.getEncodedHex=function(){return new e.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==n&&this.setByParamArray(n)},i.lang.extend(cn.asn1.x509.GeneralNames,cn.asn1.ASN1Object),cn.asn1.x509.DistributionPointName=function(n){cn.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=cn.asn1,t=e.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new t({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==n){if(!e.x509.GeneralNames.prototype.isPrototypeOf(n))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=n}},i.lang.extend(cn.asn1.x509.DistributionPointName,cn.asn1.ASN1Object),cn.asn1.x509.DistributionPoint=function(n){cn.asn1.x509.DistributionPoint.superclass.constructor.call(this);var e=cn.asn1;this.getEncodedHex=function(){var n=new e.DERSequence;if(null!=this.asn1DP){var t=new e.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});n.appendASN1Object(t)}return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==n&&void 0!==n.dpobj&&(this.asn1DP=n.dpobj)},i.lang.extend(cn.asn1.x509.DistributionPoint,cn.asn1.ASN1Object),cn.asn1.x509.OID=new function(n){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(n){if(void 0!==this.objCache[n])return this.objCache[n];if(void 0===this.name2oidList[n])throw"Name of ObjectIdentifier not defined: "+n;var e=new cn.asn1.DERObjectIdentifier({oid:this.name2oidList[n]});return this.objCache[n]=e,e},this.atype2obj=function(n){if(void 0!==this.objCache[n])return this.objCache[n];if(void 0===this.atype2oidList[n])throw"AttributeType name undefined: "+n;var e=new cn.asn1.DERObjectIdentifier({oid:this.atype2oidList[n]});return this.objCache[n]=e,e}},cn.asn1.x509.OID.oid2name=function(n){var e=cn.asn1.x509.OID.name2oidList;for(var t in e)if(e[t]==n)return t;return""},cn.asn1.x509.OID.oid2atype=function(n){var e=cn.asn1.x509.OID.atype2oidList;for(var t in e)if(e[t]==n)return t;return n},cn.asn1.x509.OID.name2oid=function(n){var e=cn.asn1.x509.OID.name2oidList;return void 0===e[n]?"":e[n]},cn.asn1.x509.X509Util={},cn.asn1.x509.X509Util.newCertPEM=function(n){var e=cn.asn1.x509,t=e.Certificate,l=new(0,e.TBSCertificate);if(void 0===n.serial)throw"serial number undefined.";if(l.setSerialNumberByParam(n.serial),"string"!=typeof n.sigalg.name)throw"unproper signature algorithm name";if(l.setSignatureAlgByParam(n.sigalg),void 0===n.issuer)throw"issuer name undefined.";if(l.setIssuerByParam(n.issuer),void 0===n.notbefore)throw"notbefore undefined.";if(l.setNotBeforeByParam(n.notbefore),void 0===n.notafter)throw"notafter undefined.";if(l.setNotAfterByParam(n.notafter),void 0===n.subject)throw"subject name undefined.";if(l.setSubjectByParam(n.subject),void 0===n.sbjpubkey)throw"subject public key undefined.";if(l.setSubjectPublicKeyByGetKey(n.sbjpubkey),void 0!==n.ext&&void 0!==n.ext.length)for(var i=0;i<n.ext.length;i++)for(key in n.ext[i])l.appendExtensionByName(key,n.ext[i][key]);if(void 0===n.cakey&&void 0===n.sighex)throw"param cakey and sighex undefined.";var r=null;return n.cakey&&(r=new t({tbscertobj:l,prvkeyobj:!0===n.cakey.isPrivate?n.cakey:Mn.getKey.apply(null,n.cakey)})).sign(),n.sighex&&(r=new t({tbscertobj:l})).setSignatureHex(n.sighex),r.getPEMString()},void 0!==cn&&cn||(cn={}),void 0!==cn.asn1&&cn.asn1||(cn.asn1={}),void 0!==cn.asn1.cms&&cn.asn1.cms||(cn.asn1.cms={}),cn.asn1.cms.Attribute=function(n){var e=cn.asn1;e.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var n,t,l;n=new e.DERObjectIdentifier({oid:this.attrTypeOid}),t=new e.DERSet({array:this.valueList});try{t.getEncodedHex()}catch(i){throw"fail valueSet.getEncodedHex in Attribute(1)/"+i}l=new e.DERSequence({array:[n,t]});try{this.hTLV=l.getEncodedHex()}catch(i){throw"failed seq.getEncodedHex in Attribute(2)/"+i}return this.hTLV}},i.lang.extend(cn.asn1.cms.Attribute,cn.asn1.ASN1Object),cn.asn1.cms.ContentType=function(n){var e=cn.asn1;e.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var t=null;void 0!==n&&(t=new e.DERObjectIdentifier(n),this.valueList=[t])},i.lang.extend(cn.asn1.cms.ContentType,cn.asn1.cms.Attribute),cn.asn1.cms.MessageDigest=function(n){var e,t=cn,l=t.asn1,i=l.DEROctetString,r=l.cms;r.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==n&&(n.eciObj instanceof r.EncapsulatedContentInfo&&"string"==typeof n.hashAlg?((e=new i({hex:t.crypto.Util.hashHex(n.eciObj.eContentValueHex,n.hashAlg)})).getEncodedHex(),this.valueList=[e]):((e=new i(n)).getEncodedHex(),this.valueList=[e]))},i.lang.extend(cn.asn1.cms.MessageDigest,cn.asn1.cms.Attribute),cn.asn1.cms.SigningTime=function(n){var e=cn.asn1;if(e.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==n){var t=new e.x509.Time(n);try{t.getEncodedHex()}catch(s){throw"SigningTime.getEncodedHex() failed/"+s}this.valueList=[t]}},i.lang.extend(cn.asn1.cms.SigningTime,cn.asn1.cms.Attribute),cn.asn1.cms.SigningCertificate=function(n){var e=cn,t=e.asn1,l=t.DERSequence,i=t.cms;i.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(n){for(var r=[],o=0;o<n.length;o++){var s=Nn(n[o]),a=e.crypto.Util.hashHex(s,"sha1"),u=new t.DEROctetString({hex:a});u.getEncodedHex();var c=new i.IssuerSerial({cert:n[o]});c.getEncodedHex();var d=new l({array:[u,c]});d.getEncodedHex(),r.push(d)}var p=new l({array:r});p.getEncodedHex(),this.valueList=[p]},void 0!==n&&"object"==typeof n.array&&this.setCerts(n.array)},i.lang.extend(cn.asn1.cms.SigningCertificate,cn.asn1.cms.Attribute),cn.asn1.cms.SigningCertificateV2=function(n){var e=cn.asn1,t=e.DERSequence,l=e.x509,i=e.cms,r=cn.crypto;if(i.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(n,o){for(var s=[],a=0;a<n.length;a++){var u=Nn(n[a]),c=[];"sha256"!==o&&c.push(new l.AlgorithmIdentifier({name:o}));var d=r.Util.hashHex(u,o),p=new e.DEROctetString({hex:d});p.getEncodedHex(),c.push(p);var h=new i.IssuerSerial({cert:n[a]});h.getEncodedHex(),c.push(h);var g=new t({array:c});g.getEncodedHex(),s.push(g)}var f=new t({array:s});f.getEncodedHex(),this.valueList=[f]},void 0!==n&&"object"==typeof n.array){var o="sha256";"string"==typeof n.hashAlg&&(o=n.hashAlg),this.setCerts(n.array,o)}},i.lang.extend(cn.asn1.cms.SigningCertificateV2,cn.asn1.cms.Attribute),cn.asn1.cms.IssuerSerial=function(n){var e=cn.asn1,t=e.DERInteger,l=e.x509,i=l.X500Name,r=l.GeneralNames,o=zn;e.cms.IssuerSerial.superclass.constructor.call(this),this.setByCertPEM=function(n){var e=Nn(n),l=new o;l.hex=e;var r=l.getIssuerHex();this.dIssuer=new i,this.dIssuer.hTLV=r;var s=l.getSerialNumberHex();this.dSerial=new t({hex:s})},this.getEncodedHex=function(){var n=new r([{dn:this.dIssuer}]),t=new e.DERSequence({array:[n,this.dSerial]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==n&&("string"==typeof n&&-1!=n.indexOf("-----BEGIN ")&&this.setByCertPEM(n),n.issuer&&n.serial&&(this.dIssuer=n.issuer instanceof i?n.issuer:new i(n.issuer),this.dSerial=n.serial instanceof t?n.serial:new t(n.serial)),"string"==typeof n.cert&&this.setByCertPEM(n.cert))},i.lang.extend(cn.asn1.cms.IssuerSerial,cn.asn1.ASN1Object),cn.asn1.cms.IssuerAndSerialNumber=function(n){var e=cn.asn1,t=e.DERInteger,l=e.x509.X500Name,i=zn;e.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.setByCertPEM=function(n){var e=Nn(n),r=new i;r.hex=e;var o=r.getIssuerHex();this.dIssuer=new l,this.dIssuer.hTLV=o;var s=r.getSerialNumberHex();this.dSerial=new t({hex:s})},this.getEncodedHex=function(){var n=new e.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==n&&("string"==typeof n&&-1!=n.indexOf("-----BEGIN ")&&this.setByCertPEM(n),n.issuer&&n.serial&&(this.dIssuer=n.issuer instanceof l?n.issuer:new l(n.issuer),this.dSerial=n.serial instanceof t?n.serial:new t(n.serial)),"string"==typeof n.cert&&this.setByCertPEM(n.cert))},i.lang.extend(cn.asn1.cms.IssuerAndSerialNumber,cn.asn1.ASN1Object),cn.asn1.cms.AttributeList=function(n){var e=cn.asn1,t=e.cms;t.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(n){n instanceof t.Attribute&&this.list.push(n)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var n=new e.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==n&&void 0!==n.sortflag&&0==n.sortflag&&(this.sortFlag=!1)},i.lang.extend(cn.asn1.cms.AttributeList,cn.asn1.ASN1Object),cn.asn1.cms.SignerInfo=function(n){var e=cn.asn1,t=e.DERTaggedObject,l=e.cms,i=l.AttributeList,r=l.ContentType,o=l.EncapsulatedContentInfo,s=l.MessageDigest,a=l.SignedData,u=e.x509.AlgorithmIdentifier,c=cn.crypto,d=Mn;l.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new e.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new i,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new i,this.setSignerIdentifier=function(n){"string"==typeof n&&-1!=n.indexOf("CERTIFICATE")&&-1!=n.indexOf("BEGIN")&&-1!=n.indexOf("END")&&(this.dSignerIdentifier=new l.IssuerAndSerialNumber({cert:n}))},this.setForContentAndHash=function(n){void 0!==n&&(n.eciObj instanceof o&&(this.dSignedAttrs.add(new r({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new s({eciObj:n.eciObj,hashAlg:n.hashAlg}))),void 0!==n.sdObj&&n.sdObj instanceof a&&-1==n.sdObj.digestAlgNameList.join(":").indexOf(n.hashAlg)&&n.sdObj.digestAlgNameList.push(n.hashAlg),"string"==typeof n.hashAlg&&(this.dDigestAlgorithm=new u({name:n.hashAlg})))},this.sign=function(n,t){this.dSigAlg=new u({name:t});var l=this.dSignedAttrs.getEncodedHex(),i=d.getKey(n),r=new c.Signature({alg:t});r.init(i),r.updateHex(l);var o=r.sign();this.dSig=new e.DEROctetString({hex:o})},this.addUnsigned=function(n){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(n)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof i&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var n=new t({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),l=null;this.dUnsignedAttrs.length()>0&&(l=new t({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var r=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,n,this.dSigAlg,this.dSig];null!=l&&r.push(l);var o=new e.DERSequence({array:r});return this.hTLV=o.getEncodedHex(),this.hTLV}},i.lang.extend(cn.asn1.cms.SignerInfo,cn.asn1.ASN1Object),cn.asn1.cms.EncapsulatedContentInfo=function(n){var e=cn.asn1,t=e.DERTaggedObject,l=e.DERSequence,i=e.DERObjectIdentifier,r=e.DEROctetString;e.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new i({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(n){this.dEContentType=n.match(/^[0-2][.][0-9.]+$/)?new i({oid:n}):new i({name:n})},this.setContentValue=function(n){void 0!==n&&("string"==typeof n.hex?this.eContentValueHex=n.hex:"string"==typeof n.str&&(this.eContentValueHex=En(n.str)))},this.setContentValueHex=function(n){this.eContentValueHex=n},this.setContentValueStr=function(n){this.eContentValueHex=En(n)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var n=new r({hex:this.eContentValueHex});this.dEContent=new t({obj:n,tag:"a0",explicit:!0});var e=[this.dEContentType];this.isDetached||e.push(this.dEContent);var i=new l({array:e});return this.hTLV=i.getEncodedHex(),this.hTLV}},i.lang.extend(cn.asn1.cms.EncapsulatedContentInfo,cn.asn1.ASN1Object),cn.asn1.cms.ContentInfo=function(n){var e=cn.asn1,t=e.DERTaggedObject,l=e.DERSequence,i=e.x509;cn.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(n){"string"==typeof n&&(this.dContentType=i.OID.name2obj(n))},this.getEncodedHex=function(){var n=new t({obj:this.dContent,tag:"a0",explicit:!0}),e=new l({array:[this.dContentType,n]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n&&(n.type&&this.setContentType(n.type),n.obj&&n.obj instanceof e.ASN1Object&&(this.dContent=n.obj))},i.lang.extend(cn.asn1.cms.ContentInfo,cn.asn1.ASN1Object),cn.asn1.cms.SignedData=function(n){var e=cn.asn1,t=e.ASN1Object,l=e.DERInteger,i=e.DERSet,r=e.DERSequence,o=e.DERTaggedObject,s=e.cms,a=s.EncapsulatedContentInfo,u=s.SignerInfo,c=s.ContentInfo,d=e.x509.AlgorithmIdentifier;cn.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new l({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new a,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new u],this.addCertificatesByPEM=function(n){var e=Nn(n),l=new t;l.hTLV=e,this.certificateList.push(l)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var n=[],e=0;e<this.digestAlgNameList.length;e++){var t=new d({name:this.digestAlgNameList[e]});n.push(t)}this.dDigestAlgs=new i({array:n})}var l=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var s=new i({array:this.certificateList});this.dCerts=new o({obj:s,tag:"a0",explicit:!1})}null!=this.dCerts&&l.push(this.dCerts);var a=new i({array:this.signerInfoList});l.push(a);var u=new r({array:l});return this.hTLV=u.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new c({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return Rn(this.getContentInfoEncodedHex(),"CMS")}},i.lang.extend(cn.asn1.cms.SignedData,cn.asn1.ASN1Object),cn.asn1.cms.CMSUtil=new function(){},cn.asn1.cms.CMSUtil.newSignedData=function(n){var e=cn.asn1,t=e.cms,l=t.SignerInfo,i=t.SigningTime,r=t.SigningCertificate,o=t.SigningCertificateV2,s=e.cades.SignaturePolicyIdentifier,a=new(0,t.SignedData);if(a.dEncapContentInfo.setContentValue(n.content),"boolean"==typeof n.detached&&(a.dEncapContentInfo.isDetached=n.detached),"object"==typeof n.certs)for(var u=0;u<n.certs.length;u++)a.addCertificatesByPEM(n.certs[u]);for(a.signerInfoList=[],u=0;u<n.signerInfos.length;u++){var c=n.signerInfos[u],d=new l;for(attrName in d.setSignerIdentifier(c.signerCert),d.setForContentAndHash({sdObj:a,eciObj:a.dEncapContentInfo,hashAlg:c.hashAlg}),c.sAttr){var p=c.sAttr[attrName];if("SigningTime"==attrName){var h=new i(p);d.dSignedAttrs.add(h)}"SigningCertificate"==attrName&&(h=new r(p),d.dSignedAttrs.add(h)),"SigningCertificateV2"==attrName&&(h=new o(p),d.dSignedAttrs.add(h)),"SignaturePolicyIdentifier"==attrName&&(h=new s(p),d.dSignedAttrs.add(h))}d.sign(c.signerPrvKey,c.sigAlg),a.signerInfoList.push(d)}return a},cn.asn1.cms.CMSUtil.verifySignedData=function(n){var e=hn.getVbyList,t=hn.getTLVbyList,l=hn.getIdxbyList,i=hn.getChildIdx,r=hn.getTLV,o=hn.oidname,s=cn.crypto.Util.hashHex;void 0===n.cms&&(0,cn.lang.String.isHex)(n.cms);var a=n.cms,u=function(n,r){var s=r.idx;r.signerid_issuer1=t(n,s,[1,0],"30"),r.signerid_serial1=e(n,s,[1,1],"02"),r.hashalg=o(e(n,s,[2,0],"06"));var a=l(n,s,[3],"a0");r.idxSignedAttrs=a,c(n,r,a);var u=i(n,s).length;if(u<6)throw"malformed SignerInfo";r.sigalg=o(e(n,s,[u-2,0],"06")),r.sigval=e(n,s,[u-1],"04")},c=function(n,t,l){var r=i(n,l);t.signedAttrIdxList=r;for(var o=0;o<r.length;o++){var s,a=r[o],u=e(n,a,[0],"06");"2a864886f70d010905"===u?(s=xn(e(n,a,[1,0])),t.saSigningTime=s):"2a864886f70d010904"===u&&(s=e(n,a,[1,0],"04"),t.saMessageDigest=s)}},d=function(n,e,t,l){t.verifyDetail={};var o=t.verifyDetail,a=e.parse.econtent,u=t.hashalg,c=t.saMessageDigest;o.validMessageDigest=!1,s(a,u)===c&&(o.validMessageDigest=!0),function(n,e,t,l){var o,s=e.parse.certsIdx;if(void 0===e.certs){o=[],e.certkeys=[];for(var a=i(n,s),u=0;u<a.length;u++){var c=r(n,a[u]),d=new zn;d.readCertHex(c),o[u]=d,e.certkeys[u]=d.getPublicKey()}e.certs=o}else o=e.certs;for(e.cccc=o.length,e.cccci=a.length,u=0;u<o.length;u++){var p=d.getIssuerHex(),h=d.getSerialNumberHex();t.signerid_issuer1===p&&t.signerid_serial1===h&&(t.certkey_idx=u)}}(n,e,t),o.validSignatureValue=!1;var d=t.sigalg,p="31"+r(n,t.idxSignedAttrs).substr(2);t.signedattrshex=p;var h=e.certs[t.certkey_idx].getPublicKey(),g=new cn.crypto.Signature({alg:d});g.init(h),g.updateHex(p);var f=g.verify(t.sigval);o.validSignatureValue_isValid=f,!0===f&&(o.validSignatureValue=!0),t.isValid=!1,o.validMessageDigest&&o.validSignatureValue&&(t.isValid=!0)},p={isValid:!1,parse:{}};return function(n,t){if("2a864886f70d010702"!==e(n,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=e(n,0,[1,0,2,1,0]),function(n,e){for(var t,i=3;i<6;i++)if(void 0!==(t=l(n,0,[1,0,i]))){var r=n.substr(t,2);"a0"===r&&(e.certsIdx=t),"a1"===r&&(e.revinfosIdx=t),"31"===r&&(e.signerinfosIdx=t)}}(n,t),t.signerInfos=[],function(n,e){var t=e.signerinfosIdx;if(void 0!==t){var l=i(n,t);e.signerInfoIdxList=l;for(var r=0;r<l.length;r++){var o={idx:l[r]};u(n,o),e.signerInfos.push(o)}}}(n,t)}(a,p.parse),function(n,e){for(var t=e.parse.signerInfos,l=t.length,i=!0,r=0;r<l;r++){var o=t[r];d(n,e,o),o.isValid||(i=!1)}e.isValid=i}(a,p),p},void 0!==cn&&cn||(cn={}),void 0!==cn.asn1&&cn.asn1||(cn.asn1={}),void 0!==cn.asn1.tsp&&cn.asn1.tsp||(cn.asn1.tsp={}),cn.asn1.tsp.Accuracy=function(n){var e=cn.asn1,t=e.DERInteger,l=e.DERSequence,i=e.DERTaggedObject;e.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var n=null,e=null,r=null,o=[];if(null!=this.seconds&&(n=new t({int:this.seconds}),o.push(n)),null!=this.millis){var s=new t({int:this.millis});e=new i({obj:s,tag:"80",explicit:!1}),o.push(e)}if(null!=this.micros){var a=new t({int:this.micros});r=new i({obj:a,tag:"81",explicit:!1}),o.push(r)}var u=new l({array:o});return this.hTLV=u.getEncodedHex(),this.hTLV},void 0!==n&&("number"==typeof n.seconds&&(this.seconds=n.seconds),"number"==typeof n.millis&&(this.millis=n.millis),"number"==typeof n.micros&&(this.micros=n.micros))},i.lang.extend(cn.asn1.tsp.Accuracy,cn.asn1.ASN1Object),cn.asn1.tsp.MessageImprint=function(n){var e=cn.asn1,t=e.DERSequence,l=e.DEROctetString,i=e.x509.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new t({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==n&&("string"==typeof n.hashAlg&&(this.dHashAlg=new i({name:n.hashAlg})),"string"==typeof n.hashValue&&(this.dHashValue=new l({hex:n.hashValue})))},i.lang.extend(cn.asn1.tsp.MessageImprint,cn.asn1.ASN1Object),cn.asn1.tsp.TimeStampReq=function(n){var e=cn.asn1,t=e.DERSequence,l=e.DERInteger,i=e.DERBoolean,r=e.DERObjectIdentifier,o=e.tsp,s=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.dVersion=new l({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(n){n instanceof s?this.dMessageImprint=n:"object"==typeof n&&(this.dMessageImprint=new s(n))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var n=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&n.push(this.dPolicy),null!=this.dNonce&&n.push(this.dNonce),this.certReq&&n.push(new i);var e=new t({array:n});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n&&("object"==typeof n.mi&&this.setMessageImprint(n.mi),"object"==typeof n.policy&&(this.dPolicy=new r(n.policy)),"object"==typeof n.nonce&&(this.dNonce=new l(n.nonce)),"boolean"==typeof n.certreq&&(this.certReq=n.certreq))},i.lang.extend(cn.asn1.tsp.TimeStampReq,cn.asn1.ASN1Object),cn.asn1.tsp.TSTInfo=function(n){var e=cn.asn1,t=e.DERSequence,l=e.DERInteger,i=e.DERBoolean,r=e.DERGeneralizedTime,o=e.DERObjectIdentifier,s=e.tsp,a=s.MessageImprint,u=s.Accuracy,c=e.x509.X500Name;if(s.TSTInfo.superclass.constructor.call(this),this.dVersion=new l({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var n=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(n.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(n.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(n.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";n.push(this.dGenTime),null!=this.dAccuracy&&n.push(this.dAccuracy),null!=this.dOrdering&&n.push(this.dOrdering),null!=this.dNonce&&n.push(this.dNonce),null!=this.dTsa&&n.push(this.dTsa);var e=new t({array:n});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n){if("string"==typeof n.policy){if(!n.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:n.policy})}void 0!==n.messageImprint&&(this.dMessageImprint=new a(n.messageImprint)),void 0!==n.serialNumber&&(this.dSerialNumber=new l(n.serialNumber)),void 0!==n.genTime&&(this.dGenTime=new r(n.genTime)),void 0!==n.accuracy&&(this.dAccuracy=new u(n.accuracy)),void 0!==n.ordering&&1==n.ordering&&(this.dOrdering=new i),void 0!==n.nonce&&(this.dNonce=new l(n.nonce)),void 0!==n.tsa&&(this.dTsa=new c(n.tsa))}},i.lang.extend(cn.asn1.tsp.TSTInfo,cn.asn1.ASN1Object),cn.asn1.tsp.TimeStampResp=function(n){var e=cn.asn1,t=e.DERSequence,l=e.ASN1Object,i=e.tsp,r=i.PKIStatusInfo;i.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var n=[this.dStatus];null!=this.dTST&&n.push(this.dTST);var e=new t({array:n});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n&&("object"==typeof n.status&&(this.dStatus=new r(n.status)),void 0!==n.tst&&n.tst instanceof l&&(this.dTST=n.tst.getContentInfo()))},i.lang.extend(cn.asn1.tsp.TimeStampResp,cn.asn1.ASN1Object),cn.asn1.tsp.PKIStatusInfo=function(n){var e=cn.asn1,t=e.DERSequence,l=e.tsp,i=l.PKIStatus,r=l.PKIFreeText,o=l.PKIFailureInfo;l.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var n=[this.dStatus];null!=this.dStatusString&&n.push(this.dStatusString),null!=this.dFailureInfo&&n.push(this.dFailureInfo);var e=new t({array:n});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n&&("object"==typeof n.status&&(this.dStatus=new i(n.status)),"object"==typeof n.statstr&&(this.dStatusString=new r({array:n.statstr})),"object"==typeof n.failinfo&&(this.dFailureInfo=new o(n.failinfo)))},i.lang.extend(cn.asn1.tsp.PKIStatusInfo,cn.asn1.ASN1Object),cn.asn1.tsp.PKIStatus=function(n){var e=cn.asn1,t=e.DERInteger,l=e.tsp,i=l.PKIStatus;if(l.PKIStatus.superclass.constructor.call(this),this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==n)if(void 0!==n.name){var r=i.valueList;if(void 0===r[n.name])throw"name undefined: "+n.name;this.dStatus=new t({int:r[n.name]})}else this.dStatus=new t(n)},i.lang.extend(cn.asn1.tsp.PKIStatus,cn.asn1.ASN1Object),cn.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},cn.asn1.tsp.PKIFreeText=function(n){var e=cn.asn1,t=e.DERSequence,l=e.DERUTF8String;e.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var n=[],e=0;e<this.textList.length;e++)n.push(new l({str:this.textList[e]}));var i=new t({array:n});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==n&&"object"==typeof n.array&&(this.textList=n.array)},i.lang.extend(cn.asn1.tsp.PKIFreeText,cn.asn1.ASN1Object),cn.asn1.tsp.PKIFailureInfo=function(n){var e=cn.asn1,t=e.DERBitString,l=e.tsp.PKIFailureInfo;if(l.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var n=new Number(this.value).toString(2),e=new t;return e.setByBinaryString(n),this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n)if("string"==typeof n.name){var i=l.valueList;if(void 0===i[n.name])throw"name undefined: "+n.name;this.value=i[n.name]}else"number"==typeof n.int&&(this.value=n.int)},i.lang.extend(cn.asn1.tsp.PKIFailureInfo,cn.asn1.ASN1Object),cn.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},cn.asn1.tsp.AbstractTSAAdapter=function(n){this.getTSTHex=function(n,e){throw"not implemented yet"}},cn.asn1.tsp.SimpleTSAAdapter=function(n){var e=cn.asn1.tsp,t=cn.crypto.Util.hashHex;e.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(n,l){var i=t(n,l);this.params.tstInfo.messageImprint={hashAlg:l,hashValue:i},this.params.tstInfo.serialNumber={int:this.serial++};var r=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:r},e.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==n&&(this.params=n)},i.lang.extend(cn.asn1.tsp.SimpleTSAAdapter,cn.asn1.tsp.AbstractTSAAdapter),cn.asn1.tsp.FixedTSAAdapter=function(n){var e=cn.asn1.tsp,t=cn.crypto.Util.hashHex;e.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(n,l){var i=t(n,l);return this.params.tstInfo.messageImprint={hashAlg:l,hashValue:i},e.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==n&&(this.params=n)},i.lang.extend(cn.asn1.tsp.FixedTSAAdapter,cn.asn1.tsp.AbstractTSAAdapter),cn.asn1.tsp.TSPUtil=new function(){},cn.asn1.tsp.TSPUtil.newTimeStampToken=function(n){var e=cn.asn1,t=e.cms,l=e.tsp.TSTInfo,i=new t.SignedData,r=new l(n.tstInfo).getEncodedHex();if(i.dEncapContentInfo.setContentValue({hex:r}),i.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof n.certs)for(var o=0;o<n.certs.length;o++)i.addCertificatesByPEM(n.certs[o]);var s=i.signerInfoList[0];s.setSignerIdentifier(n.signerCert),s.setForContentAndHash({sdObj:i,eciObj:i.dEncapContentInfo,hashAlg:n.hashAlg});var a=new t.SigningCertificate({array:[n.signerCert]});return s.dSignedAttrs.add(a),s.sign(n.signerPrvKey,n.sigAlg),i},cn.asn1.tsp.TSPUtil.parseTimeStampReq=function(n){var e=hn,t=e.getV,l=e.getTLV,i={certreq:!1},r=(0,e.getChildIdx)(n,0);if(r.length<2)throw"TimeStampReq must have at least 2 items";var o=l(n,r[1]);i.mi=cn.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var s=2;s<r.length;s++){var a=r[s],u=n.substr(a,2);if("06"==u){var c=t(n,a);i.policy=e.hextooidstr(c)}"02"==u&&(i.nonce=t(n,a)),"01"==u&&(i.certreq=!0)}return i},cn.asn1.tsp.TSPUtil.parseMessageImprint=function(n){var e=hn,t=e.getChildIdx,l=e.getV,i=e.getIdxbyList,r={};if("30"!=n.substr(0,2))throw"head of messageImprint hex shall be '30'";t(n,0);var o=l(n,i(n,0,[0,0])),s=e.hextooidstr(o),a=cn.asn1.x509.OID.oid2name(s);if(""==a)throw"hashAlg name undefined: "+s;var u=a,c=i(n,0,[1]);return r.hashAlg=u,r.hashValue=l(n,c),r},void 0!==cn&&cn||(cn={}),void 0!==cn.asn1&&cn.asn1||(cn.asn1={}),void 0!==cn.asn1.cades&&cn.asn1.cades||(cn.asn1.cades={}),cn.asn1.cades.SignaturePolicyIdentifier=function(n){var e=cn.asn1,t=e.DERObjectIdentifier,l=e.DERSequence,i=e.cades,r=i.OtherHashAlgAndValue;if(i.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==n&&"string"==typeof n.oid&&"object"==typeof n.hash){var o=new l({array:[new t({oid:n.oid}),new r(n.hash)]});this.valueList=[o]}},i.lang.extend(cn.asn1.cades.SignaturePolicyIdentifier,cn.asn1.cms.Attribute),cn.asn1.cades.OtherHashAlgAndValue=function(n){var e=cn.asn1,t=e.DERSequence,l=e.DEROctetString,i=e.x509.AlgorithmIdentifier;e.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var n=new t({array:[this.dAlg,this.dHash]});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==n&&"string"==typeof n.alg&&"string"==typeof n.hash&&(this.dAlg=new i({name:n.alg}),this.dHash=new l({hex:n.hash}))},i.lang.extend(cn.asn1.cades.OtherHashAlgAndValue,cn.asn1.ASN1Object),cn.asn1.cades.SignatureTimeStamp=function(n){var e=cn.asn1,t=e.ASN1Object;if(e.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==n){if(void 0!==n.res)if("string"==typeof n.res&&n.res.match(/^[0-9A-Fa-f]+$/));else if(!(n.res instanceof t))throw"res param shall be ASN1Object or hex string";if(void 0!==n.tst)if("string"==typeof n.tst&&n.tst.match(/^[0-9A-Fa-f]+$/)){var l=new t;this.tstHex=n.tst,l.hTLV=this.tstHex,l.getEncodedHex(),this.valueList=[l]}else if(!(n.tst instanceof t))throw"tst param shall be ASN1Object or hex string"}},i.lang.extend(cn.asn1.cades.SignatureTimeStamp,cn.asn1.cms.Attribute),cn.asn1.cades.CompleteCertificateRefs=function(n){var e=cn.asn1.cades;e.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(n){this.valueList=[];for(var t=0;t<n.length;t++){var l=new e.OtherCertID(n[t]);this.valueList.push(l)}},void 0!==n&&"object"==typeof n&&"number"==typeof n.length&&this.setByArray(n)},i.lang.extend(cn.asn1.cades.CompleteCertificateRefs,cn.asn1.cms.Attribute),cn.asn1.cades.OtherCertID=function(n){var e=cn.asn1,t=e.cms,l=e.cades;l.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(n){this.dOtherCertHash=new l.OtherHash(n),this.hasIssuerSerial&&(this.dIssuerSerial=new t.IssuerAndSerialNumber(n))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var n=[this.dOtherCertHash];null!=this.dIssuerSerial&&n.push(this.dIssuerSerial);var t=new e.DERSequence({array:n});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==n&&("string"==typeof n&&-1!=n.indexOf("-----BEGIN ")&&this.setByCertPEM(n),"object"==typeof n&&(!1===n.hasis&&(this.hasIssuerSerial=!1),"string"==typeof n.cert&&this.setByCertPEM(n.cert)))},i.lang.extend(cn.asn1.cades.OtherCertID,cn.asn1.ASN1Object),cn.asn1.cades.OtherHash=function(n){var e=cn.asn1,t=e.cades,l=t.OtherHashAlgAndValue,i=cn.crypto.Util.hashHex;if(t.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(n){if(-1==n.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var e=Nn(n),t=i(e,this.alg);this.dOtherHash=new l({alg:this.alg,hash:t})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==n)if("string"==typeof n)if(-1!=n.indexOf("-----BEGIN "))this.setByCertPEM(n);else{if(!n.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new e.DEROctetString({hex:n})}else"object"==typeof n&&("string"==typeof n.cert?("string"==typeof n.alg&&(this.alg=n.alg),this.setByCertPEM(n.cert)):this.dOtherHash=new l(n))},i.lang.extend(cn.asn1.cades.OtherHash,cn.asn1.ASN1Object),cn.asn1.cades.CAdESUtil=new function(){},cn.asn1.cades.CAdESUtil.addSigTS=function(n,e,t){},cn.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(n){var e=hn.getChildIdx,t=hn.getTLV,l=hn.getIdxbyList,i=cn.asn1,r=i.ASN1Object,o=i.cms.SignedData,s=i.cades.CAdESUtil,a={};if("06092a864886f70d010702"!=(0,hn.getTLVbyList)(n,0,[0]))throw"hex is not CMS SignedData";var u=e(n,l(n,0,[1,0]));if(u.length<4)throw"num of SignedData elem shall be 4 at least";var c=u.shift();a.version=t(n,c);var d=u.shift();a.algs=t(n,d);var p=u.shift();a.encapcontent=t(n,p),a.certs=null,a.revs=null,a.si=[];var h=u.shift();"a0"==n.substr(h,2)&&(a.certs=t(n,h),h=u.shift()),"a1"==n.substr(h,2)&&(a.revs=t(n,h),h=u.shift());var g=h;if("31"!=n.substr(g,2))throw"Can't find signerInfos";for(var f=e(n,g),m=0;m<f.length;m++){var v=s.parseSignerInfoForAddingUnsigned(n,f[m],m);a.si[m]=v}var y=null;for(a.obj=new o,(y=new r).hTLV=a.version,a.obj.dCMSVersion=y,(y=new r).hTLV=a.algs,a.obj.dDigestAlgs=y,(y=new r).hTLV=a.encapcontent,a.obj.dEncapContentInfo=y,(y=new r).hTLV=a.certs,a.obj.dCerts=y,a.obj.signerInfoList=[],m=0;m<a.si.length;m++)a.obj.signerInfoList.push(a.si[m].obj);return a},cn.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(n,e,t){var l=hn.getTLV,i=hn.getV,r=cn.asn1,o=r.ASN1Object,s=r.cms,a=s.AttributeList,u=s.SignerInfo,c={},d=(0,hn.getChildIdx)(n,e);if(6!=d.length)throw"not supported items for SignerInfo (!=6)";var p=d.shift();c.version=l(n,p);var h=d.shift();c.si=l(n,h);var g=d.shift();c.digalg=l(n,g);var f=d.shift();c.sattrs=l(n,f);var m=d.shift();c.sigalg=l(n,m);var v=d.shift();c.sig=l(n,v),c.sigval=i(n,v);var y=null;return c.obj=new u,(y=new o).hTLV=c.version,c.obj.dCMSVersion=y,(y=new o).hTLV=c.si,c.obj.dSignerIdentifier=y,(y=new o).hTLV=c.digalg,c.obj.dDigestAlgorithm=y,(y=new o).hTLV=c.sattrs,c.obj.dSignedAttrs=y,(y=new o).hTLV=c.sigalg,c.obj.dSigAlg=y,(y=new o).hTLV=c.sig,c.obj.dSig=y,c.obj.dUnsignedAttrs=new a,c},void 0!==cn.asn1.csr&&cn.asn1.csr||(cn.asn1.csr={}),cn.asn1.csr.CertificationRequest=function(n){var e=cn,t=e.asn1,l=t.DERBitString,i=t.DERSequence,r=t.x509;t.csr.CertificationRequest.superclass.constructor.call(this),this.sign=function(n,t){null==this.prvKey&&(this.prvKey=t),this.asn1SignatureAlg=new r.AlgorithmIdentifier({name:n});var o=new e.crypto.Signature({alg:n});o.init(this.prvKey),o.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=o.sign(),this.asn1Sig=new l({hex:"00"+this.hexSig});var s=new i({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=s.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return Rn(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==n&&void 0!==n.csrinfo&&(this.asn1CSRInfo=n.csrinfo)},i.lang.extend(cn.asn1.csr.CertificationRequest,cn.asn1.ASN1Object),cn.asn1.csr.CertificationRequestInfo=function(n){var e=cn.asn1,t=e.DERInteger,l=e.DERSequence,i=e.DERSet,r=e.DERNull,o=e.DERTaggedObject,s=e.DERObjectIdentifier,a=e.x509,u=a.X500Name,c=a.Extension,d=Mn;e.csr.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new t({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(n){this.asn1Subject=new u(n)},this.setSubjectPublicKeyByGetKey=function(n){var e=d.getKey(n);this.asn1SubjPKey=new a.SubjectPublicKeyInfo(e)},this.appendExtensionByName=function(n,e){c.appendByNameToArray(n,e,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var n=new l({array:this.extensionsArray}),e=new i({array:[n]}),t=new l({array:[new s({oid:"1.2.840.113549.1.9.14"}),e]}),a=new o({explicit:!0,tag:"a0",obj:t});this.asn1Array.push(a)}else a=new o({explicit:!1,tag:"a0",obj:new r}),this.asn1Array.push(a);var u=new l({array:this.asn1Array});return this.hTLV=u.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},i.lang.extend(cn.asn1.csr.CertificationRequestInfo,cn.asn1.ASN1Object),cn.asn1.csr.CSRUtil=new function(){},cn.asn1.csr.CSRUtil.newCSRPEM=function(n){var e=Mn,t=cn.asn1.csr;if(void 0===n.subject)throw"parameter subject undefined";if(void 0===n.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===n.sigalg)throw"parameter sigalg undefined";if(void 0===n.sbjprvkey)throw"parameter sbjpubkey undefined";var l=new t.CertificationRequestInfo;if(l.setSubjectByParam(n.subject),l.setSubjectPublicKeyByGetKey(n.sbjpubkey),void 0!==n.ext&&void 0!==n.ext.length)for(var i=0;i<n.ext.length;i++)for(key in n.ext[i])l.appendExtensionByName(key,n.ext[i][key]);var r=new t.CertificationRequest({csrinfo:l}),o=e.getKey(n.sbjprvkey);return r.sign(n.sigalg,o),r.getPEMString()},cn.asn1.csr.CSRUtil.getInfo=function(n){var e=hn.getTLVbyListEx,t={subject:{},pubkey:{}};if(-1==n.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var l=Nn(n,"CERTIFICATE REQUEST");try{t.subject.hex=e(l,0,[0,1])}catch(p){}try{t.subject.name=zn.hex2dn(t.subject.hex)}catch(p){}t.pubkey.hex=e(l,0,[0,2]),t.pubkey.obj=Mn.getKey(t.pubkey.hex,null,"pkcs8pub");try{t.ext=[];var i=new zn;i.parseExt(n),t.ext.push({subjectAltName:{array:i.getExtSubjectAltName2()}})}catch(p){}return t},void 0!==cn&&cn||(cn={}),void 0!==cn.asn1&&cn.asn1||(cn.asn1={}),void 0!==cn.asn1.ocsp&&cn.asn1.ocsp||(cn.asn1.ocsp={}),cn.asn1.ocsp.DEFAULT_HASH="sha1",cn.asn1.ocsp.CertID=function(n){var e=cn.asn1,t=e.DEROctetString,l=e.DERInteger,i=e.DERSequence,r=e.x509.AlgorithmIdentifier,o=e.ocsp,s=o.DEFAULT_HASH,a=cn.crypto.Util.hashHex,u=zn,c=hn;if(o.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(n,e,i,o){void 0===o&&(o=s),this.dHashAlg=new r({name:o}),this.dIssuerNameHash=new t({hex:n}),this.dIssuerKeyHash=new t({hex:e}),this.dSerialNumber=new l({hex:i})},this.setByCert=function(n,e,t){void 0===t&&(t=s);var l=new u;l.readCertPEM(e);var i=new u;i.readCertPEM(n);var r=i.getPublicKeyHex(),o=c.getTLVbyList(r,0,[1,0],"30"),d=l.getSerialNumberHex(),p=a(i.getSubjectHex(),t),h=a(o,t);this.setByValue(p,h,d,t),this.hoge=l.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var n=new i({array:[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber]});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==n){var d=n;if(void 0!==d.issuerCert&&void 0!==d.subjectCert){var p=s;void 0===d.alg&&(p=void 0),this.setByCert(d.issuerCert,d.subjectCert,p)}else{if(void 0===d.namehash||void 0===d.keyhash||void 0===d.serial)throw"invalid constructor arguments";p=s,void 0===d.alg&&(p=void 0),this.setByValue(d.namehash,d.keyhash,d.serial,p)}}},i.lang.extend(cn.asn1.ocsp.CertID,cn.asn1.ASN1Object),cn.asn1.ocsp.Request=function(n){var e=cn.asn1,t=e.DERSequence,l=e.ocsp;if(l.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var n=[];if(null===this.dReqCert)throw"reqCert not set";n.push(this.dReqCert);var e=new t({array:n});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n){var i=new l.CertID(n);this.dReqCert=i}},i.lang.extend(cn.asn1.ocsp.Request,cn.asn1.ASN1Object),cn.asn1.ocsp.TBSRequest=function(n){var e=cn.asn1,t=e.DERSequence,l=e.ocsp;l.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(n){for(var e=[],t=0;t<n.length;t++){var i=new l.Request(n[0]);e.push(i)}this.dRequestList=e},this.getEncodedHex=function(){var n=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var e=new t({array:this.dRequestList});if(n.push(e),null!==this.dRequestExt)throw"requestExtensions not supported";var l=new t({array:n});return this.hTLV=l.getEncodedHex(),this.hTLV},void 0!==n&&void 0!==n.reqList&&this.setRequestListByParam(n.reqList)},i.lang.extend(cn.asn1.ocsp.TBSRequest,cn.asn1.ASN1Object),cn.asn1.ocsp.OCSPRequest=function(n){var e=cn.asn1,t=e.DERSequence,l=e.ocsp;if(l.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var n=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(n.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var e=new t({array:n});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==n&&void 0!==n.reqList){var i=new l.TBSRequest(n);this.dTbsRequest=i}},i.lang.extend(cn.asn1.ocsp.OCSPRequest,cn.asn1.ASN1Object),cn.asn1.ocsp.OCSPUtil={},cn.asn1.ocsp.OCSPUtil.getRequestHex=function(n,e,t){var l=cn.asn1.ocsp;return void 0===t&&(t=l.DEFAULT_HASH),new l.OCSPRequest({reqList:[{alg:t,issuerCert:n,subjectCert:e}]}).getEncodedHex()},cn.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(n){var e=hn.getVbyList,t=hn.getVbyListEx,l=hn.getIdxbyList,i=hn.getV,r={};try{var o=t(n,0,[0],"0a");r.responseStatus=parseInt(o,16)}catch(c){}if(0!==r.responseStatus)return r;try{var s=l(n,0,[1,0,1,0,0,2,0,1]);"80"===n.substr(s,2)?r.certStatus="good":"a1"===n.substr(s,2)?(r.certStatus="revoked",r.revocationTime=xn(e(n,s,[0]))):"82"===n.substr(s,2)&&(r.certStatus="unknown")}catch(c){}try{var a=l(n,0,[1,0,1,0,0,2,0,2]);r.thisUpdate=xn(i(n,a))}catch(c){}try{var u=l(n,0,[1,0,1,0,0,2,0,3]);"a0"===n.substr(u,2)&&(r.nextUpdate=xn(e(n,u,[0])))}catch(c){}return r},void 0!==cn&&cn||(cn={}),void 0!==cn.lang&&cn.lang||(cn.lang={}),cn.lang.String=function(){},"function"==typeof Buffer?(dn=function(n){return yn(new Buffer(n,"utf8").toString("base64"))},pn=function(n){return new Buffer(Sn(n),"base64").toString("utf8")}):(dn=function(n){return bn(On(Hn(n)))},pn=function(n){return decodeURIComponent(Dn(Cn(n)))}),cn.lang.String.isInteger=function(n){return!!n.match(/^[0-9]+$/)||!!n.match(/^-[0-9]+$/)},cn.lang.String.isHex=function(n){return!(n.length%2!=0||!n.match(/^[0-9a-f]+$/)&&!n.match(/^[0-9A-F]+$/))},cn.lang.String.isBase64=function(n){return!(!(n=n.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||n.length%4!=0)},cn.lang.String.isBase64URL=function(n){return!n.match(/[+/=]/)&&(n=Sn(n),cn.lang.String.isBase64(n))},cn.lang.String.isIntegerArray=function(n){return!!(n=n.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==cn&&cn||(cn={}),void 0!==cn.crypto&&cn.crypto||(cn.crypto={}),cn.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(n,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+n},this.getPaddedDigestInfoHex=function(n,e,t){var l=this.getDigestInfoHex(n,e),i=t/4;if(l.length+22>i)throw"key is too short for SigAlg: keylen="+t+","+e;for(var r="0001",o="00"+l,s="",a=i-r.length-o.length,u=0;u<a;u+=2)s+="ff";return r+s+o},this.hashString=function(n,e){return new cn.crypto.MessageDigest({alg:e}).digestString(n)},this.hashHex=function(n,e){return new cn.crypto.MessageDigest({alg:e}).digestHex(n)},this.sha1=function(n){return this.hashString(n,"sha1")},this.sha256=function(n){return this.hashString(n,"sha256")},this.sha256Hex=function(n){return this.hashHex(n,"sha256")},this.sha512=function(n){return this.hashString(n,"sha512")},this.sha512Hex=function(n){return this.hashHex(n,"sha512")},this.isKey=function(n){return n instanceof ln||n instanceof cn.crypto.DSA||n instanceof cn.crypto.ECDSA}},cn.crypto.Util.md5=function(n){return new cn.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(n)},cn.crypto.Util.ripemd160=function(n){return new cn.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(n)},cn.crypto.Util.SECURERANDOMGEN=new nn,cn.crypto.Util.getRandomHexOfNbytes=function(n){var e=new Array(n);return cn.crypto.Util.SECURERANDOMGEN.nextBytes(e),mn(e)},cn.crypto.Util.getRandomBigIntegerOfNbytes=function(n){return new E(cn.crypto.Util.getRandomHexOfNbytes(n),16)},cn.crypto.Util.getRandomHexOfNbits=function(n){var e=n%8,t=new Array((n-e)/8+1);return cn.crypto.Util.SECURERANDOMGEN.nextBytes(t),t[0]=(255<<e&255^255)&t[0],mn(t)},cn.crypto.Util.getRandomBigIntegerOfNbits=function(n){return new E(cn.crypto.Util.getRandomHexOfNbits(n),16)},cn.crypto.Util.getRandomBigIntegerZeroToMax=function(n){for(var e=n.bitLength();;){var t=cn.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=n.compareTo(t))return t}},cn.crypto.Util.getRandomBigIntegerMinToMax=function(n,e){var t=n.compareTo(e);if(1==t)throw"biMin is greater than biMax";if(0==t)return n;var l=e.subtract(n);return cn.crypto.Util.getRandomBigIntegerZeroToMax(l).add(n)},cn.crypto.MessageDigest=function(n){this.setAlgAndProvider=function(n,e){if(null!==(n=cn.crypto.MessageDigest.getCanonicalAlgName(n))&&void 0===e&&(e=cn.crypto.Util.DEFAULTPROVIDER[n]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==e){try{this.md=cn.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n].create()}catch(r){throw"setAlgAndProvider hash alg set fail alg="+n+"/"+r}this.updateString=function(n){this.md.update(n)},this.updateHex=function(n){var e=m.enc.Hex.parse(n);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(n){return this.updateString(n),this.digest()},this.digestHex=function(n){return this.updateHex(n),this.digest()}}if(-1!=":sha256:".indexOf(n)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(r){throw"setAlgAndProvider hash alg set fail alg="+n+"/"+r}this.updateString=function(n){this.md.update(n)},this.updateHex=function(n){var e=sjcl.codec.hex.toBits(n);this.md.update(e)},this.digest=function(){var n=this.md.finalize();return sjcl.codec.hex.fromBits(n)},this.digestString=function(n){return this.updateString(n),this.digest()},this.digestHex=function(n){return this.updateHex(n),this.digest()}}},this.updateString=function(n){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(n){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(n){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(n){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==n&&void 0!==n.alg&&(this.algName=n.alg,void 0===n.prov&&(this.provName=cn.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},cn.crypto.MessageDigest.getCanonicalAlgName=function(n){return"string"==typeof n&&(n=(n=n.toLowerCase()).replace(/-/,"")),n},cn.crypto.MessageDigest.getHashLength=function(n){var e=cn.crypto.MessageDigest,t=e.getCanonicalAlgName(n);if(void 0===e.HASHLENGTH[t])throw"not supported algorithm: "+n;return e.HASHLENGTH[t]},cn.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},cn.crypto.Mac=function(n){this.setAlgAndProvider=function(n,e){if(null==(n=n.toLowerCase())&&(n="hmacsha1"),"hmac"!=(n=n.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+n;void 0===e&&(e=cn.crypto.Util.DEFAULTPROVIDER[n]),this.algProv=n+"/"+e;var t=n.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.mac=m.algo.HMAC.create(cn.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t],this.pass)}catch(d){throw"setAlgAndProvider hash alg set fail hashAlg="+t+"/"+d}this.updateString=function(n){this.mac.update(n)},this.updateHex=function(n){var e=m.enc.Hex.parse(n);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(n){return this.updateString(n),this.doFinal()},this.doFinalHex=function(n){return this.updateHex(n),this.doFinal()}}},this.updateString=function(n){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(n){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(n){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(n){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(n){if("string"==typeof n){var e=n;return n.length%2!=1&&n.match(/^[0-9A-Fa-f]+$/)||(e=An(n)),void(this.pass=m.enc.Hex.parse(e))}if("object"!=typeof n)throw"KJUR.crypto.Mac unsupported password type: "+n;if(e=null,void 0!==n.hex){if(n.hex.length%2!=0||!n.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+n.hex;e=n.hex}if(void 0!==n.utf8&&(e=En(n.utf8)),void 0!==n.rstr&&(e=An(n.rstr)),void 0!==n.b64&&(e=b(n.b64)),void 0!==n.b64u&&(e=Cn(n.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+n;this.pass=m.enc.Hex.parse(e)},void 0!==n&&(void 0!==n.pass&&this.setPassword(n.pass),void 0!==n.alg&&(this.algName=n.alg,void 0===n.prov&&(this.provName=cn.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},cn.crypto.Signature=function(n){var e=null;if(this._setAlgNames=function(){var n=this.algName.match(/^(.+)with(.+)$/);n&&(this.mdAlgName=n[1].toLowerCase(),this.pubkeyAlgName=n[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(n,e){for(var t="",l=e/4-n.length,i=0;i<l;i++)t+="0";return t+n},this.setAlgAndProvider=function(n,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw new Error("provider not supported: "+e);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new cn.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t)}this.init=function(n,e){var t=null;try{t=void 0===e?Mn.getKey(n):Mn.getKey(n,e)}catch(l){throw"init failed:"+l}if(!0===t.isPrivate)this.prvKey=t,this.state="SIGN";else{if(!0!==t.isPublic)throw"init failed.:"+t;this.pubKey=t,this.state="VERIFY"}},this.updateString=function(n){this.md.updateString(n)},this.updateHex=function(n){this.md.updateHex(n)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==cn.crypto.ECDSA&&(this.prvKey=new cn.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ln&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ln&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof cn.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof cn.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(n){return this.updateString(n),this.sign()},this.signHex=function(n){return this.updateHex(n),this.sign()},this.verify=function(n){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==cn.crypto.ECDSA&&(this.pubKey=new cn.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ln&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,n,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ln&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,n);if(void 0!==cn.crypto.ECDSA&&this.pubKey instanceof cn.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,n);if(void 0!==cn.crypto.DSA&&this.pubKey instanceof cn.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,n);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(n,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(n){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(n){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(n){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(n){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(n){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=n,void 0!==n&&(void 0!==n.alg&&(this.algName=n.alg,this.provName=void 0===n.prov?cn.crypto.Util.DEFAULTPROVIDER[this.algName]:n.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==n.psssaltlen&&(this.pssSaltLen=n.psssaltlen),void 0!==n.prvkeypem)){if(void 0!==n.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=Mn.getKey(n.prvkeypem),this.init(e)}catch(c){throw"fatal error to load pem private key: "+c}}},cn.crypto.Cipher=function(n){},cn.crypto.Cipher.encrypt=function(n,e,t){if(e instanceof ln&&e.isPublic){var l=cn.crypto.Cipher.getAlgByKeyAndName(e,t);if("RSA"===l)return e.encrypt(n);if("RSAOAEP"===l)return e.encryptOAEP(n,"sha1");var i=l.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.encryptOAEP(n,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+t}throw"Cipher.encrypt: unsupported key or algorithm"},cn.crypto.Cipher.decrypt=function(n,e,t){if(e instanceof ln&&e.isPrivate){var l=cn.crypto.Cipher.getAlgByKeyAndName(e,t);if("RSA"===l)return e.decrypt(n);if("RSAOAEP"===l)return e.decryptOAEP(n,"sha1");var i=l.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.decryptOAEP(n,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+t}throw"Cipher.decrypt: unsupported key or algorithm"},cn.crypto.Cipher.getAlgByKeyAndName=function(n,e){if(n instanceof ln){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null==e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},cn.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==cn&&cn||(cn={}),void 0!==cn.crypto&&cn.crypto||(cn.crypto={}),cn.crypto.ECDSA=function(n){var e=Error,t=E,l=sn,i=cn.crypto.ECDSA,r=cn.crypto.ECParameterDB,o=i.getName,s=hn.getVbyListEx,a=hn.isASN1HEX,u=new nn;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(n){return new t(n.bitLength(),u).mod(n.subtract(t.ONE)).add(t.ONE)},this.setNamedCurve=function(n){this.ecparams=r.getByName(n),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=n},this.setPrivateKeyHex=function(n){this.isPrivate=!0,this.prvKeyHex=n},this.setPublicKeyHex=function(n){this.isPublic=!0,this.pubKeyHex=n},this.getPublicKeyXYHex=function(){var n=this.pubKeyHex;if("04"!==n.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keylen/4;if(n.length!==2+2*e)throw"malformed public key hex length";var t={};return t.x=n.substr(2,e),t.y=n.substr(2+e),t},this.getShortNISTPCurveName=function(){var n=this.curveName;return"secp256r1"===n||"NIST P-256"===n||"P-256"===n||"prime256v1"===n?"P-256":"secp384r1"===n||"NIST P-384"===n||"P-384"===n?"P-384":null},this.generateKeyPairHex=function(){var n=this.getBigRandom(this.ecparams.n),e=this.ecparams.G.multiply(n),t=e.getX().toBigInteger(),l=e.getY().toBigInteger(),i=this.ecparams.keylen/4,r=("0000000000"+n.toString(16)).slice(-i),o="04"+("0000000000"+t.toString(16)).slice(-i)+("0000000000"+l.toString(16)).slice(-i);return this.setPrivateKeyHex(r),this.setPublicKeyHex(o),{ecprvhex:r,ecpubhex:o}},this.signWithMessageHash=function(n){return this.signHex(n,this.prvKeyHex)},this.signHex=function(n,e){var l=new t(e,16),r=this.ecparams.n,o=new t(n.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(r),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(r)}while(a.compareTo(t.ZERO)<=0);var u=s.modInverse(r).multiply(o.add(l.multiply(a))).mod(r);return i.biRSSigToASN1Sig(a,u)},this.sign=function(n,e){var l=e,i=this.ecparams.n,r=t.fromByteArrayUnsigned(n);do{var o=this.getBigRandom(i),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(s.compareTo(E.ZERO)<=0);var a=o.modInverse(i).multiply(r.add(l.multiply(s))).mod(i);return this.serializeSig(s,a)},this.verifyWithMessageHash=function(n,e){return this.verifyHex(n,e,this.pubKeyHex)},this.verifyHex=function(n,e,r){try{var o,s,a=i.parseSigHex(e);o=a.r,s=a.s;var u=l.decodeFromHex(this.ecparams.curve,r),c=new t(n.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(c,o,s,u)}catch(d){return!1}},this.verify=function(n,e,i){var r,o,s;if(Bitcoin.Util.isArray(e)){var a=this.parseSig(e);r=a.r,o=a.s}else{if("object"!=typeof e||!e.r||!e.s)throw"Invalid value for signature";r=e.r,o=e.s}if(i instanceof sn)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=l.decodeFrom(this.ecparams.curve,i)}var u=t.fromByteArrayUnsigned(n);return this.verifyRaw(u,r,o,s)},this.verifyRaw=function(n,e,l,i){var r=this.ecparams.n,o=this.ecparams.G;if(e.compareTo(t.ONE)<0||e.compareTo(r)>=0)return!1;if(l.compareTo(t.ONE)<0||l.compareTo(r)>=0)return!1;var s=l.modInverse(r),a=n.multiply(s).mod(r),u=e.multiply(s).mod(r);return o.multiply(a).add(i.multiply(u)).getX().toBigInteger().mod(r).equals(e)},this.serializeSig=function(n,e){var t=n.toByteArraySigned(),l=e.toByteArraySigned(),i=[];return i.push(2),i.push(t.length),(i=i.concat(t)).push(2),i.push(l.length),(i=i.concat(l)).unshift(i.length),i.unshift(48),i},this.parseSig=function(n){var e;if(48!=n[0])throw new Error("Signature not a valid DERSequence");if(2!=n[e=2])throw new Error("First element in signature must be a DERInteger");var l=n.slice(e+2,e+2+n[e+1]);if(2!=n[e+=2+n[e+1]])throw new Error("Second element in signature must be a DERInteger");var i=n.slice(e+2,e+2+n[e+1]);return e+=2+n[e+1],{r:t.fromByteArrayUnsigned(l),s:t.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(n){if(65!==n.length)throw"Signature has the wrong length";var e=n[0]-27;if(e<0||e>7)throw"Invalid signature type";var l=this.ecparams.n;return{r:t.fromByteArrayUnsigned(n.slice(1,33)).mod(l),s:t.fromByteArrayUnsigned(n.slice(33,65)).mod(l),i:e}},this.readPKCS5PrvKeyHex=function(n){if(!1===a(n))throw new Error("not ASN.1 hex string");var e,t,l;try{e=s(n,0,["[0]",0],"06"),t=s(n,0,[1],"04");try{l=s(n,0,["[1]",0],"03")}catch(i){}}catch(i){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(l),this.setPrivateKeyHex(t),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(n){if(!1===a(n))throw new e("not ASN.1 hex string");var t,l,i;try{s(n,0,[1,0],"06"),t=s(n,0,[1,1],"06"),l=s(n,0,[2,0,1],"04");try{i=s(n,0,[2,0,"[1]",0],"03")}catch(r){}}catch(r){throw new e("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(l),this.isPublic=!1},this.readPKCS8PubKeyHex=function(n){if(!1===a(n))throw new e("not ASN.1 hex string");var t,l;try{s(n,0,[0,0],"06"),t=s(n,0,[0,1],"06"),l=s(n,0,[1],"03")}catch(i){throw new e("malformed PKCS#8 ECC public key")}if(this.curveName=o(t),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(l)},this.readCertPubKeyHex=function(n,t){if(!1===a(n))throw new e("not ASN.1 hex string");var l,i;try{l=s(n,0,[0,5,0,1],"06"),i=s(n,0,[0,5,1],"03")}catch(r){throw new e("malformed X.509 certificate ECC public key")}if(this.curveName=o(l),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==n&&void 0!==n.curve&&(this.curveName=n.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==n&&(void 0!==n.prv&&this.setPrivateKeyHex(n.prv),void 0!==n.pub&&this.setPublicKeyHex(n.pub))},cn.crypto.ECDSA.parseSigHex=function(n){var e=cn.crypto.ECDSA.parseSigHexInHexRS(n);return{r:new E(e.r,16),s:new E(e.s,16)}},cn.crypto.ECDSA.parseSigHexInHexRS=function(n){var e=hn.getChildIdx,t=hn.getV;if(hn.checkStrictDER(n,0),"30"!=n.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var l=e(n,0);if(2!=l.length)throw new Error("signature shall have two elements");var i=l[0],r=l[1];if("02"!=n.substr(i,2))throw new Error("1st item not ASN.1 integer");if("02"!=n.substr(r,2))throw new Error("2nd item not ASN.1 integer");return{r:t(n,i),s:t(n,r)}},cn.crypto.ECDSA.asn1SigToConcatSig=function(n){var e=cn.crypto.ECDSA.parseSigHexInHexRS(n),t=e.r,l=e.s;if("00"==t.substr(0,2)&&t.length%32==2&&(t=t.substr(2)),"00"==l.substr(0,2)&&l.length%32==2&&(l=l.substr(2)),t.length%32==30&&(t="00"+t),l.length%32==30&&(l="00"+l),t.length%32!=0)throw"unknown ECDSA sig r length error";if(l.length%32!=0)throw"unknown ECDSA sig s length error";return t+l},cn.crypto.ECDSA.concatSigToASN1Sig=function(n){if(n.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var e=n.substr(0,n.length/2),t=n.substr(n.length/2);return cn.crypto.ECDSA.hexRSSigToASN1Sig(e,t)},cn.crypto.ECDSA.hexRSSigToASN1Sig=function(n,e){var t=new E(n,16),l=new E(e,16);return cn.crypto.ECDSA.biRSSigToASN1Sig(t,l)},cn.crypto.ECDSA.biRSSigToASN1Sig=function(n,e){var t=cn.asn1,l=new t.DERInteger({bigint:n}),i=new t.DERInteger({bigint:e});return new t.DERSequence({array:[l,i]}).getEncodedHex()},cn.crypto.ECDSA.getName=function(n){return"2b8104001f"===n?"secp192k1":"2a8648ce3d030107"===n?"secp256r1":"2b8104000a"===n?"secp256k1":"2b81040021"===n?"secp224r1":"2b81040022"===n?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(n)?"secp256r1":-1!=="|secp256k1|".indexOf(n)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(n)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(n)?"secp384r1":null},void 0!==cn&&cn||(cn={}),void 0!==cn.crypto&&cn.crypto||(cn.crypto={}),cn.crypto.ECParameterDB=new function(){var n={},e={};function t(n){return new E(n,16)}this.getByName=function(t){var l=t;if(void 0!==e[l]&&(l=e[t]),void 0!==n[l])return n[l];throw"unregistered EC curve name: "+l},this.regist=function(l,i,r,o,s,a,u,c,d,p,h,g){n[l]={};var f=t(r),m=t(o),v=t(s),y=t(a),S=t(u),b=new an(f,m,v),C=b.decodePointHex("04"+c+d);n[l].name=l,n[l].keylen=i,n[l].curve=b,n[l].G=C,n[l].n=y,n[l].h=S,n[l].oid=h,n[l].info=g;for(var E=0;E<p.length;E++)e[p[E]]=l}},cn.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),cn.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),cn.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),cn.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),cn.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),cn.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),cn.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),cn.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),cn.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),cn.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==cn&&cn||(cn={}),void 0!==cn.crypto&&cn.crypto||(cn.crypto={}),cn.crypto.DSA=function(){var n=hn.getVbyListEx,e=hn.isASN1HEX,t=E;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(n,e,t,l,i){this.isPrivate=!0,this.p=n,this.q=e,this.g=t,this.y=l,this.x=i},this.setPrivateHex=function(n,e,t,l,i){var r,o,s,a,u;r=new E(n,16),o=new E(e,16),s=new E(t,16),a="string"==typeof l&&l.length>1?new E(l,16):null,u=new E(i,16),this.setPrivate(r,o,s,a,u)},this.setPublic=function(n,e,t,l){this.isPublic=!0,this.p=n,this.q=e,this.g=t,this.y=l,this.x=null},this.setPublicHex=function(n,e,t,l){var i,r,o,s;i=new E(n,16),r=new E(e,16),o=new E(t,16),s=new E(l,16),this.setPublic(i,r,o,s)},this.signWithMessageHash=function(n){var e=this.p,t=this.q,l=this.g,i=this.x,r=cn.crypto.Util.getRandomBigIntegerMinToMax(E.ONE.add(E.ONE),t.subtract(E.ONE)),o=new E(n.substr(0,t.bitLength()/4),16),s=l.modPow(r,e).mod(t),a=r.modInverse(t).multiply(o.add(i.multiply(s))).mod(t);return cn.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:s}},{int:{bigint:a}}]})},this.verifyWithMessageHash=function(n,e){var t=this.p,l=this.q,i=this.g,r=this.y,o=this.parseASN1Signature(e),s=o[0],a=o[1],u=new E(n.substr(0,l.bitLength()/4),16);if(E.ZERO.compareTo(s)>0||s.compareTo(l)>0)throw"invalid DSA signature";if(E.ZERO.compareTo(a)>=0||a.compareTo(l)>0)throw"invalid DSA signature";var c=a.modInverse(l),d=u.multiply(c).mod(l),p=s.multiply(c).mod(l);return 0==i.modPow(d,t).multiply(r.modPow(p,t)).mod(t).mod(l).compareTo(s)},this.parseASN1Signature=function(e){try{return[new t(n(e,0,[0],"02"),16),new t(n(e,0,[1],"02"),16)]}catch(l){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(t){var l,i,r,o,s;if(!1===e(t))throw new Error("not ASN.1 hex string");try{l=n(t,0,[1],"02"),i=n(t,0,[2],"02"),r=n(t,0,[3],"02"),o=n(t,0,[4],"02"),s=n(t,0,[5],"02")}catch(a){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(l,i,r,o,s)},this.readPKCS8PrvKeyHex=function(t){var l,i,r,o;if(!1===e(t))throw new Error("not ASN.1 hex string");try{l=n(t,0,[1,1,0],"02"),i=n(t,0,[1,1,1],"02"),r=n(t,0,[1,1,2],"02"),o=n(t,0,[2,0],"02")}catch(s){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(l,i,r,null,o)},this.readPKCS8PubKeyHex=function(t){var l,i,r,o;if(!1===e(t))throw new Error("not ASN.1 hex string");try{l=n(t,0,[0,1,0],"02"),i=n(t,0,[0,1,1],"02"),r=n(t,0,[0,1,2],"02"),o=n(t,0,[1,0],"02")}catch(s){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(l,i,r,o)},this.readCertPubKeyHex=function(t,l){var i,r,o,s;if(!1===e(t))throw new Error("not ASN.1 hex string");try{i=n(t,0,[0,5,0,1,0],"02"),r=n(t,0,[0,5,0,1,1],"02"),o=n(t,0,[0,5,0,1,2],"02"),s=n(t,0,[0,5,1,0],"02")}catch(a){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,r,o,s)}};var Mn=function(){var n=function(n,t,l){return e(m.AES,n,t,l)},e=function(n,e,t,l){var i=m.enc.Hex.parse(e),r=m.enc.Hex.parse(t),o=m.enc.Hex.parse(l),s={};s.key=r,s.iv=o,s.ciphertext=i;var a=n.decrypt(s,r,{iv:o});return m.enc.Hex.stringify(a)},t=function(n,e,t){return l(m.AES,n,e,t)},l=function(n,e,t,l){var i=m.enc.Hex.parse(e),r=m.enc.Hex.parse(t),o=m.enc.Hex.parse(l),s=n.encrypt(i,r,{iv:o}),a=m.enc.Hex.parse(s.toString());return m.enc.Base64.stringify(a)},i={"AES-256-CBC":{proc:n,eproc:t,keylen:32,ivlen:16},"AES-192-CBC":{proc:n,eproc:t,keylen:24,ivlen:16},"AES-128-CBC":{proc:n,eproc:t,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(n,t,l){return e(m.TripleDES,n,t,l)},eproc:function(n,e,t){return l(m.TripleDES,n,e,t)},keylen:24,ivlen:8},"DES-CBC":{proc:function(n,t,l){return e(m.DES,n,t,l)},eproc:function(n,e,t){return l(m.DES,n,e,t)},keylen:8,ivlen:8}},r=function(n){var e={},t=n.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));t&&(e.cipher=t[1],e.ivsalt=t[2]);var l=n.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));l&&(e.type=l[1]);var i=-1,r=0;-1!=n.indexOf("\r\n\r\n")&&(i=n.indexOf("\r\n\r\n"),r=2),-1!=n.indexOf("\n\n")&&(i=n.indexOf("\n\n"),r=1);var o=n.indexOf("-----END");if(-1!=i&&-1!=o){var s=n.substring(i+2*r,o-r);s=s.replace(/\s+/g,""),e.data=s}return e},o=function(n,e,t){for(var l=t.substring(0,16),r=m.enc.Hex.parse(l),o=m.enc.Utf8.parse(e),s=i[n].keylen+i[n].ivlen,a="",u=null;;){var c=m.algo.MD5.create();if(null!=u&&c.update(u),c.update(o),c.update(r),u=c.finalize(),(a+=m.enc.Hex.stringify(u)).length>=2*s)break}var d={};return d.keyhex=a.substr(0,2*i[n].keylen),d.ivhex=a.substr(2*i[n].keylen,2*i[n].ivlen),d},s=function(n,e,t,l){var r=m.enc.Base64.parse(n),o=m.enc.Hex.stringify(r);return(0,i[e].proc)(o,t,l)};return{version:"1.0.0",parsePKCS5PEM:function(n){return r(n)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(n,e,t){return o(n,e,t)},decryptKeyB64:function(n,e,t,l){return s(n,e,t,l)},getDecryptedKeyHex:function(n,e){var t=r(n),l=t.cipher,i=t.ivsalt,a=t.data,u=o(l,e,i);return s(a,l,u.keyhex,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(n,e,t,l,r){var s="";if(void 0!==l&&null!=l||(l="AES-256-CBC"),void 0===i[l])throw"KEYUTIL unsupported algorithm: "+l;void 0!==r&&null!=r||(r=function(n){var e=m.lib.WordArray.random(n);return m.enc.Hex.stringify(e)}(i[l].ivlen).toUpperCase());var a=function(n,e,t,l){return(0,i[e].eproc)(n,t,l)}(e,l,o(l,t,r).keyhex,r);return s="-----BEGIN "+n+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+l+","+r+"\r\n",s+="\r\n",(s+=a.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+n+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(n){var e=hn.getChildIdx,t=hn.getV,l={},i=e(n,0);if(2!=i.length)throw"malformed format: SEQUENCE(0).items != 2: "+i.length;l.ciphertext=t(n,i[1]);var r=e(n,i[0]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+r.length;if("2a864886f70d01050d"!=t(n,r[0]))throw"this only supports pkcs5PBES2";var o=e(n,r[1]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length;var s=e(n,o[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+s.length;if("2a864886f70d0307"!=t(n,s[0]))throw"this only supports TripleDES";l.encryptionSchemeAlg="TripleDES",l.encryptionSchemeIV=t(n,s[1]);var a=e(n,o[0]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+a.length;if("2a864886f70d01050c"!=t(n,a[0]))throw"this only supports pkcs5PBKDF2";var u=e(n,a[1]);if(u.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+u.length;l.pbkdf2Salt=t(n,u[0]);var c=t(n,u[1]);try{l.pbkdf2Iter=parseInt(c,16)}catch(d){throw"malformed format pbkdf2Iter: "+c}return l},getPBKDF2KeyHexFromParam:function(n,e){var t=m.enc.Hex.parse(n.pbkdf2Salt),l=m.PBKDF2(e,t,{keySize:6,iterations:n.pbkdf2Iter});return m.enc.Hex.stringify(l)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(n,e){var t=Nn(n,"ENCRYPTED PRIVATE KEY"),l=this.parseHexOfEncryptedPKCS8(t),i=Mn.getPBKDF2KeyHexFromParam(l,e),r={};r.ciphertext=m.enc.Hex.parse(l.ciphertext);var o=m.enc.Hex.parse(i),s=m.enc.Hex.parse(l.encryptionSchemeIV),a=m.TripleDES.decrypt(r,o,{iv:s});return m.enc.Hex.stringify(a)},getKeyFromEncryptedPKCS8PEM:function(n,e){var t=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(n,e);return this.getKeyFromPlainPrivatePKCS8Hex(t)},parsePlainPrivatePKCS8Hex:function(n){var e=hn,t=e.getChildIdx,l=e.getV,i={algparam:null};if("30"!=n.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var r=t(n,0);if(3!=r.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=n.substr(r[1],2))throw"malformed PKCS8 private key(code:003)";var o=t(n,r[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=n.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=l(n,o[0]),"06"==n.substr(o[1],2)&&(i.algparam=l(n,o[1])),"04"!=n.substr(r[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=e.getVidx(n,r[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(n){var e=Nn(n,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(n){var e,t=this.parsePlainPrivatePKCS8Hex(n);if("2a864886f70d010101"==t.algoid)e=new ln;else if("2a8648ce380401"==t.algoid)e=new cn.crypto.DSA;else{if("2a8648ce3d0201"!=t.algoid)throw"unsupported private key algorithm";e=new cn.crypto.ECDSA}return e.readPKCS8PrvKeyHex(n),e},_getKeyFromPublicPKCS8Hex:function(n){var e,t=hn.getVbyList(n,0,[0,0],"06");if("2a864886f70d010101"===t)e=new ln;else if("2a8648ce380401"===t)e=new cn.crypto.DSA;else{if("2a8648ce3d0201"!==t)throw"unsupported PKCS#8 public key hex";e=new cn.crypto.ECDSA}return e.readPKCS8PubKeyHex(n),e},parsePublicRawRSAKeyHex:function(n){var e=hn.getChildIdx,t=hn.getV,l={};if("30"!=n.substr(0,2))throw"malformed RSA key(code:001)";var i=e(n,0);if(2!=i.length)throw"malformed RSA key(code:002)";if("02"!=n.substr(i[0],2))throw"malformed RSA key(code:003)";if(l.n=t(n,i[0]),"02"!=n.substr(i[1],2))throw"malformed RSA key(code:004)";return l.e=t(n,i[1]),l},parsePublicPKCS8Hex:function(n){var e=hn,t=e.getChildIdx,l=e.getV,i={algparam:null},r=t(n,0);if(2!=r.length)throw"outer DERSequence shall have 2 elements: "+r.length;var o=r[0];if("30"!=n.substr(o,2))throw"malformed PKCS8 public key(code:001)";var s=t(n,o);if(2!=s.length)throw"malformed PKCS8 public key(code:002)";if("06"!=n.substr(s[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=l(n,s[0]),"06"==n.substr(s[1],2)?i.algparam=l(n,s[1]):"30"==n.substr(s[1],2)&&(i.algparam={},i.algparam.p=e.getVbyList(n,s[1],[0],"02"),i.algparam.q=e.getVbyList(n,s[1],[1],"02"),i.algparam.g=e.getVbyList(n,s[1],[2],"02")),"03"!=n.substr(r[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=l(n,r[1]).substr(2),i}}}();Mn.getKey=function(n,e,t){var l,i=(S=hn).getChildIdx,r=S.getVbyList,o=cn.crypto,s=o.ECDSA,a=o.DSA,u=ln,c=Nn,d=Mn;if(void 0!==u&&n instanceof u)return n;if(void 0!==s&&n instanceof s)return n;if(void 0!==a&&n instanceof a)return n;if(void 0!==n.curve&&void 0!==n.xy&&void 0===n.d)return new s({pub:n.xy,curve:n.curve});if(void 0!==n.curve&&void 0!==n.d)return new s({prv:n.d,curve:n.curve});if(void 0===n.kty&&void 0!==n.n&&void 0!==n.e&&void 0===n.d)return(F=new u).setPublic(n.n,n.e),F;if(void 0===n.kty&&void 0!==n.n&&void 0!==n.e&&void 0!==n.d&&void 0!==n.p&&void 0!==n.q&&void 0!==n.dp&&void 0!==n.dq&&void 0!==n.co&&void 0===n.qi)return(F=new u).setPrivateEx(n.n,n.e,n.d,n.p,n.q,n.dp,n.dq,n.co),F;if(void 0===n.kty&&void 0!==n.n&&void 0!==n.e&&void 0!==n.d&&void 0===n.p)return(F=new u).setPrivate(n.n,n.e,n.d),F;if(void 0!==n.p&&void 0!==n.q&&void 0!==n.g&&void 0!==n.y&&void 0===n.x)return(F=new a).setPublic(n.p,n.q,n.g,n.y),F;if(void 0!==n.p&&void 0!==n.q&&void 0!==n.g&&void 0!==n.y&&void 0!==n.x)return(F=new a).setPrivate(n.p,n.q,n.g,n.y,n.x),F;if("RSA"===n.kty&&void 0!==n.n&&void 0!==n.e&&void 0===n.d)return(F=new u).setPublic(Cn(n.n),Cn(n.e)),F;if("RSA"===n.kty&&void 0!==n.n&&void 0!==n.e&&void 0!==n.d&&void 0!==n.p&&void 0!==n.q&&void 0!==n.dp&&void 0!==n.dq&&void 0!==n.qi)return(F=new u).setPrivateEx(Cn(n.n),Cn(n.e),Cn(n.d),Cn(n.p),Cn(n.q),Cn(n.dp),Cn(n.dq),Cn(n.qi)),F;if("RSA"===n.kty&&void 0!==n.n&&void 0!==n.e&&void 0!==n.d)return(F=new u).setPrivate(Cn(n.n),Cn(n.e),Cn(n.d)),F;if("EC"===n.kty&&void 0!==n.crv&&void 0!==n.x&&void 0!==n.y&&void 0===n.d){var p=(N=new s({curve:n.crv})).ecparams.keylen/4,h=("0000000000"+Cn(n.x)).slice(-p),g=("0000000000"+Cn(n.y)).slice(-p);return N.setPublicKeyHex(f="04"+h+g),N}if("EC"===n.kty&&void 0!==n.crv&&void 0!==n.x&&void 0!==n.y&&void 0!==n.d){p=(N=new s({curve:n.crv})).ecparams.keylen/4;var f="04"+(h=("0000000000"+Cn(n.x)).slice(-p))+(g=("0000000000"+Cn(n.y)).slice(-p)),m=("0000000000"+Cn(n.d)).slice(-p);return N.setPublicKeyHex(f),N.setPrivateKeyHex(m),N}if("pkcs5prv"===t){var v,y=n,S=hn;if(9===(v=i(y,0)).length)(F=new u).readPKCS5PrvKeyHex(y);else if(6===v.length)(F=new a).readPKCS5PrvKeyHex(y);else{if(!(v.length>2&&"04"===y.substr(v[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(F=new s).readPKCS5PrvKeyHex(y)}return F}if("pkcs8prv"===t)return d.getKeyFromPlainPrivatePKCS8Hex(n);if("pkcs8pub"===t)return d._getKeyFromPublicPKCS8Hex(n);if("x509pub"===t)return zn.getPublicKeyFromCertHex(n);if(-1!=n.indexOf("-END CERTIFICATE-",0)||-1!=n.indexOf("-END X509 CERTIFICATE-",0)||-1!=n.indexOf("-END TRUSTED CERTIFICATE-",0))return zn.getPublicKeyFromCertPEM(n);if(-1!=n.indexOf("-END PUBLIC KEY-")){var b=Nn(n,"PUBLIC KEY");return d._getKeyFromPublicPKCS8Hex(b)}if(-1!=n.indexOf("-END RSA PRIVATE KEY-")&&-1==n.indexOf("4,ENCRYPTED")){var C=c(n,"RSA PRIVATE KEY");return d.getKey(C,null,"pkcs5prv")}if(-1!=n.indexOf("-END DSA PRIVATE KEY-")&&-1==n.indexOf("4,ENCRYPTED")){var x=r(l=c(n,"DSA PRIVATE KEY"),0,[1],"02"),w=r(l,0,[2],"02"),A=r(l,0,[3],"02"),_=r(l,0,[4],"02"),T=r(l,0,[5],"02");return(F=new a).setPrivate(new E(x,16),new E(w,16),new E(A,16),new E(_,16),new E(T,16)),F}if(-1!=n.indexOf("-END EC PRIVATE KEY-")&&-1==n.indexOf("4,ENCRYPTED"))return C=c(n,"EC PRIVATE KEY"),d.getKey(C,null,"pkcs5prv");if(-1!=n.indexOf("-END PRIVATE KEY-"))return d.getKeyFromPlainPrivatePKCS8PEM(n);if(-1!=n.indexOf("-END RSA PRIVATE KEY-")&&-1!=n.indexOf("4,ENCRYPTED")){var I=d.getDecryptedKeyHex(n,e),R=new ln;return R.readPKCS5PrvKeyHex(I),R}if(-1!=n.indexOf("-END EC PRIVATE KEY-")&&-1!=n.indexOf("4,ENCRYPTED")){var N,F=r(l=d.getDecryptedKeyHex(n,e),0,[1],"04"),P=r(l,0,[2,0],"06"),O=r(l,0,[3,0],"03").substr(2);if(void 0===cn.crypto.OID.oidhex2name[P])throw"undefined OID(hex) in KJUR.crypto.OID: "+P;return(N=new s({curve:cn.crypto.OID.oidhex2name[P]})).setPublicKeyHex(O),N.setPrivateKeyHex(F),N.isPublic=!1,N}if(-1!=n.indexOf("-END DSA PRIVATE KEY-")&&-1!=n.indexOf("4,ENCRYPTED"))return x=r(l=d.getDecryptedKeyHex(n,e),0,[1],"02"),w=r(l,0,[2],"02"),A=r(l,0,[3],"02"),_=r(l,0,[4],"02"),T=r(l,0,[5],"02"),(F=new a).setPrivate(new E(x,16),new E(w,16),new E(A,16),new E(_,16),new E(T,16)),F;if(-1!=n.indexOf("-END ENCRYPTED PRIVATE KEY-"))return d.getKeyFromEncryptedPKCS8PEM(n,e);throw new Error("not supported argument")},Mn.generateKeypair=function(n,e){if("RSA"==n){var t=e;(o=new ln).generate(t,"10001"),o.isPrivate=!0,o.isPublic=!0;var l=new ln,i=o.n.toString(16),r=o.e.toString(16);return l.setPublic(i,r),l.isPrivate=!1,l.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=l,s}if("EC"==n){var o,s,a=e,u=new cn.crypto.ECDSA({curve:a}).generateKeyPairHex();return(o=new cn.crypto.ECDSA({curve:a})).setPublicKeyHex(u.ecpubhex),o.setPrivateKeyHex(u.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(l=new cn.crypto.ECDSA({curve:a})).setPublicKeyHex(u.ecpubhex),l.isPrivate=!1,l.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=l,s}throw"unknown algorithm: "+n},Mn.getPEM=function(n,e,t,l,i,r){var o=cn.asn1,s=o.DERObjectIdentifier,a=o.DERInteger,u=o.ASN1Util.newObject,c=cn.crypto,d=c.DSA,p=c.ECDSA,h=ln;function g(n){return u({seq:[{int:0},{int:{bigint:n.n}},{int:n.e},{int:{bigint:n.d}},{int:{bigint:n.p}},{int:{bigint:n.q}},{int:{bigint:n.dmp1}},{int:{bigint:n.dmq1}},{int:{bigint:n.coeff}}]})}function f(n){return u({seq:[{int:1},{octstr:{hex:n.prvKeyHex}},{tag:["a0",!0,{oid:{name:n.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+n.pubKeyHex}}]}]})}function v(n){return u({seq:[{int:0},{int:{bigint:n.p}},{int:{bigint:n.q}},{int:{bigint:n.g}},{int:{bigint:n.y}},{int:{bigint:n.x}}]})}if((void 0!==h&&n instanceof h||void 0!==d&&n instanceof d||void 0!==p&&n instanceof p)&&1==n.isPublic&&(void 0===e||"PKCS8PUB"==e))return Rn(C=new(0,o.x509.SubjectPublicKeyInfo)(n).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==h&&n instanceof h&&(void 0===t||null==t)&&1==n.isPrivate)return Rn(C=g(n).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==p&&n instanceof p&&(void 0===t||null==t)&&1==n.isPrivate){var y=new s({name:n.curveName}).getEncodedHex(),S=f(n).getEncodedHex(),b="";return(b+=Rn(y,"EC PARAMETERS"))+Rn(S,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==d&&n instanceof d&&(void 0===t||null==t)&&1==n.isPrivate)return Rn(C=v(n).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==h&&n instanceof h&&void 0!==t&&null!=t&&1==n.isPrivate){var C=g(n).getEncodedHex();return void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",C,t,l,r)}if("PKCS5PRV"==e&&void 0!==p&&n instanceof p&&void 0!==t&&null!=t&&1==n.isPrivate)return C=f(n).getEncodedHex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",C,t,l,r);if("PKCS5PRV"==e&&void 0!==d&&n instanceof d&&void 0!==t&&null!=t&&1==n.isPrivate)return C=v(n).getEncodedHex(),void 0===l&&(l="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",C,t,l,r);var E=function(n,e){var t=x(n,e);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:t.pbkdf2Salt}},{int:t.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:t.encryptionSchemeIV}}]}]}]},{octstr:{hex:t.ciphertext}}]}).getEncodedHex()},x=function(n,e){var t=m.lib.WordArray.random(8),l=m.lib.WordArray.random(8),i=m.PBKDF2(e,t,{keySize:6,iterations:100}),r=m.enc.Hex.parse(n),o=m.TripleDES.encrypt(r,i,{iv:l})+"",s={};return s.ciphertext=o,s.pbkdf2Salt=m.enc.Hex.stringify(t),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=m.enc.Hex.stringify(l),s};if("PKCS8PRV"==e&&null!=h&&n instanceof h&&1==n.isPrivate){var w=g(n).getEncodedHex();return C=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:w}}]}).getEncodedHex(),void 0===t||null==t?Rn(C,"PRIVATE KEY"):Rn(S=E(C,t),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==p&&n instanceof p&&1==n.isPrivate)return w=new u({seq:[{int:1},{octstr:{hex:n.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+n.pubKeyHex}}]}]}).getEncodedHex(),C=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:n.curveName}}]},{octstr:{hex:w}}]}).getEncodedHex(),void 0===t||null==t?Rn(C,"PRIVATE KEY"):Rn(S=E(C,t),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==e&&void 0!==d&&n instanceof d&&1==n.isPrivate)return w=new a({bigint:n.x}).getEncodedHex(),C=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:n.p}},{int:{bigint:n.q}},{int:{bigint:n.g}}]}]},{octstr:{hex:w}}]}).getEncodedHex(),void 0===t||null==t?Rn(C,"PRIVATE KEY"):Rn(S=E(C,t),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},Mn.getKeyFromCSRPEM=function(n){var e=Nn(n,"CERTIFICATE REQUEST");return Mn.getKeyFromCSRHex(e)},Mn.getKeyFromCSRHex=function(n){var e=Mn.parseCSRHex(n);return Mn.getKey(e.p8pubkeyhex,null,"pkcs8pub")},Mn.parseCSRHex=function(n){var e=hn.getChildIdx,t=hn.getTLV,l={},i=n;if("30"!=i.substr(0,2))throw"malformed CSR(code:001)";var r=e(i,0);if(r.length<1)throw"malformed CSR(code:002)";if("30"!=i.substr(r[0],2))throw"malformed CSR(code:003)";var o=e(i,r[0]);if(o.length<3)throw"malformed CSR(code:004)";return l.p8pubkeyhex=t(i,o[2]),l},Mn.getKeyID=function(n){var e=Mn,t=hn;"string"==typeof n&&-1!=n.indexOf("BEGIN ")&&(n=e.getKey(n));var l=Nn(e.getPEM(n)),i=t.getIdxbyList(l,0,[1]),r=t.getV(l,i).substring(2);return cn.crypto.Util.hashHex(r,"sha1")},Mn.getJWKFromKey=function(n){var e={};if(n instanceof ln&&n.isPrivate)return e.kty="RSA",e.n=bn(n.n.toString(16)),e.e=bn(n.e.toString(16)),e.d=bn(n.d.toString(16)),e.p=bn(n.p.toString(16)),e.q=bn(n.q.toString(16)),e.dp=bn(n.dmp1.toString(16)),e.dq=bn(n.dmq1.toString(16)),e.qi=bn(n.coeff.toString(16)),e;if(n instanceof ln&&n.isPublic)return e.kty="RSA",e.n=bn(n.n.toString(16)),e.e=bn(n.e.toString(16)),e;if(n instanceof cn.crypto.ECDSA&&n.isPrivate){if("P-256"!==(l=n.getShortNISTPCurveName())&&"P-384"!==l)throw"unsupported curve name for JWT: "+l;var t=n.getPublicKeyXYHex();return e.kty="EC",e.crv=l,e.x=bn(t.x),e.y=bn(t.y),e.d=bn(n.prvKeyHex),e}if(n instanceof cn.crypto.ECDSA&&n.isPublic){var l;if("P-256"!==(l=n.getShortNISTPCurveName())&&"P-384"!==l)throw"unsupported curve name for JWT: "+l;return t=n.getPublicKeyXYHex(),e.kty="EC",e.crv=l,e.x=bn(t.x),e.y=bn(t.y),e}throw"not supported key object"},ln.getPosArrayOfChildrenFromHex=function(n){return hn.getChildIdx(n,0)},ln.getHexValueArrayOfChildrenFromHex=function(n){var e,t=hn.getV,l=t(n,(e=ln.getPosArrayOfChildrenFromHex(n))[0]),i=t(n,e[1]),r=t(n,e[2]),o=t(n,e[3]),s=t(n,e[4]),a=t(n,e[5]),u=t(n,e[6]),c=t(n,e[7]),d=t(n,e[8]);return(e=new Array).push(l,i,r,o,s,a,u,c,d),e},ln.prototype.readPrivateKeyFromPEMString=function(n){var e=Nn(n),t=ln.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ln.prototype.readPKCS5PrvKeyHex=function(n){var e=ln.getHexValueArrayOfChildrenFromHex(n);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},ln.prototype.readPKCS8PrvKeyHex=function(n){var e,t,l,i,r,o,s,a,u=hn.getVbyListEx;if(!1===hn.isASN1HEX(n))throw new Error("not ASN.1 hex string");try{e=u(n,0,[2,0,1],"02"),t=u(n,0,[2,0,2],"02"),l=u(n,0,[2,0,3],"02"),i=u(n,0,[2,0,4],"02"),r=u(n,0,[2,0,5],"02"),o=u(n,0,[2,0,6],"02"),s=u(n,0,[2,0,7],"02"),a=u(n,0,[2,0,8],"02")}catch(c){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(e,t,l,i,r,o,s,a)},ln.prototype.readPKCS5PubKeyHex=function(n){var e=hn,t=e.getV;if(!1===e.isASN1HEX(n))throw"keyHex is not ASN.1 hex string";var l=e.getChildIdx(n,0);if(2!==l.length||"02"!==n.substr(l[0],2)||"02"!==n.substr(l[1],2))throw"wrong hex for PKCS#5 public key";var i=t(n,l[0]),r=t(n,l[1]);this.setPublic(i,r)},ln.prototype.readPKCS8PubKeyHex=function(n){var e=hn;if(!1===e.isASN1HEX(n))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==e.getTLVbyListEx(n,0,[0,0]))throw new Error("not PKCS8 RSA public key");var t=e.getTLVbyListEx(n,0,[1,0]);this.readPKCS5PubKeyHex(t)},ln.prototype.readCertPubKeyHex=function(n,e){var t,l;(t=new zn).readCertHex(n),l=t.getPublicKeyHex(),this.readPKCS8PubKeyHex(l)};var qn=new RegExp("[^0-9a-f]","gi");function jn(n,e){for(var t="",l=e/4-n.length,i=0;i<l;i++)t+="0";return t+n}function Kn(n,e,t){for(var l="",i=0;l.length<e;)l+=wn(t(An(n+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return l}function Gn(n){for(var e in cn.crypto.Util.DIGESTINFOHEAD){var t=cn.crypto.Util.DIGESTINFOHEAD[e],l=t.length;if(n.substring(0,l)==t)return[e,n.substring(l)]}return[]}function zn(){var n,e=hn,t=e.getChildIdx,l=e.getV,i=e.getTLV,r=e.getVbyList,o=e.getVbyListEx,s=e.getTLVbyList,u=e.getTLVbyListEx,c=e.getIdxbyList,d=e.getVidx,p=e.oidname,h=zn,g=Nn;try{n=cn.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(a){}this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==s(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return r(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){var e=u(this.hex,0,[0,1]);for(var t in n)if(e===n[t])return t;return p(o(this.hex,0,[0,1,0],"06"))},this.getIssuerHex=function(){return s(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return h.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return s(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return h.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var n=r(this.hex,0,[0,4+this.foffset,0]);return n=n.replace(/(..)/g,"%$1"),decodeURIComponent(n)},this.getNotAfter=function(){var n=r(this.hex,0,[0,4+this.foffset,1]);return n=n.replace(/(..)/g,"%$1"),decodeURIComponent(n)},this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return c(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var n=this.getPublicKeyIdx();return c(this.hex,n,[1,0],"30")},this.getPublicKey=function(){return Mn.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return p(r(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return r(this.hex,0,[2],"03",!0)},this.verifySignature=function(n){var e=this.getSignatureAlgorithmField(),t=this.getSignatureValueHex(),l=s(this.hex,0,[0],"30"),i=new cn.crypto.Signature({alg:e});return i.init(n),i.updateHex(l),i.verify(t)},this.parseExt=function(n){var i,o,s;if(void 0===n){if(3!==this.version)return-1;i=c(s=this.hex,0,[0,7,0],"30"),o=t(s,i)}else{s=Nn(n);var a=c(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=l(s,a))return void(this.aExtInfo=new Array);i=c(s,0,[0,3,0,1,0],"30"),o=t(s,i),this.hex=s}this.aExtInfo=new Array;for(var u=0;u<o.length;u++){var p={critical:!1},h=0;3===t(s,o[u]).length&&(p.critical=!0,h=1),p.oid=e.hextooidstr(r(s,o[u],[0],"06"));var g=c(s,o[u],[1+h]);p.vidx=d(s,g),this.aExtInfo.push(p)}},this.getExtInfo=function(n){var e=this.aExtInfo,t=n;if(n.match(/^[0-9.]+$/)||(t=cn.asn1.x509.OID.name2oid(n)),""!==t)for(var l=0;l<e.length;l++)if(e[l].oid===t)return e[l]},this.getExtBasicConstraints=function(){var n=this.getExtInfo("basicConstraints");if(void 0===n)return n;var e=l(this.hex,n.vidx);if(""===e)return{};if("0101ff"===e)return{cA:!0};if("0101ff02"===e.substr(0,8)){var t=l(e,6);return{cA:!0,pathLen:parseInt(t,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var n=this.getExtInfo("keyUsage");if(void 0===n)return"";var e=l(this.hex,n.vidx);if(e.length%2!=0||e.length<=2)throw new Error("malformed key usage value");var t=parseInt(e.substr(0,2)),i=parseInt(e.substr(2),16).toString(2);return(i=("0000000"+i).slice(-8)).substr(0,i.length-t)},this.getExtKeyUsageString=function(){for(var n=this.getExtKeyUsageBin(),e=new Array,t=0;t<n.length;t++)"1"==n.substr(t,1)&&e.push(zn.KEYUSAGE_NAME[t]);return e.join(",")},this.getExtSubjectKeyIdentifier=function(){var n=this.getExtInfo("subjectKeyIdentifier");return void 0===n?n:l(this.hex,n.vidx)},this.getExtAuthorityKeyIdentifier=function(){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return n;for(var e={},r=i(this.hex,n.vidx),o=t(r,0),s=0;s<o.length;s++)"80"===r.substr(o[s],2)&&(e.kid=l(r,o[s]));return e},this.getExtExtKeyUsageName=function(){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return n;var e=new Array,r=i(this.hex,n.vidx);if(""===r)return e;for(var o=t(r,0),s=0;s<o.length;s++)e.push(p(l(r,o[s])));return e},this.getExtSubjectAltName=function(){for(var n=this.getExtSubjectAltName2(),e=new Array,t=0;t<n.length;t++)"DNS"===n[t][0]&&e.push(n[t][1]);return e},this.getExtSubjectAltName2=function(){var n,e,r,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var s=new Array,a=i(this.hex,o.vidx),u=t(a,0),c=0;c<u.length;c++)r=a.substr(u[c],2),n=l(a,u[c]),"81"===r&&(e=xn(n),s.push(["MAIL",e])),"82"===r&&(e=xn(n),s.push(["DNS",e])),"84"===r&&(e=zn.hex2dn(n,0),s.push(["DN",e])),"86"===r&&(e=xn(n),s.push(["URI",e])),"87"===r&&(e=Ln(n),s.push(["IP",e]));return s},this.getExtCRLDistributionPointsURI=function(){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return n;for(var e=new Array,l=t(this.hex,n.vidx),i=0;i<l.length;i++)try{var o=xn(r(this.hex,l[i],[0,0,0],"86"));e.push(o)}catch(s){}return e},this.getExtAIAInfo=function(){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return n;for(var e={ocsp:[],caissuer:[]},l=t(this.hex,n.vidx),i=0;i<l.length;i++){var o=r(this.hex,l[i],[0],"06"),s=r(this.hex,l[i],[1],"86");"2b06010505073001"===o&&e.ocsp.push(xn(s)),"2b06010505073002"===o&&e.caissuer.push(xn(s))}return e},this.getExtCertificatePolicies=function(){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return n;for(var e=i(this.hex,n.vidx),o=[],s=t(e,0),a=0;a<s.length;a++){var u={},c=t(e,s[a]);if(u.id=p(l(e,c[0])),2===c.length)for(var d=t(e,c[1]),h=0;h<d.length;h++){var g=r(e,d[h],[0],"06");"2b06010505070201"===g?u.cps=xn(r(e,d[h],[1])):"2b06010505070202"===g&&(u.unotice=xn(r(e,d[h],[1,0])))}o.push(u)}return o},this.readCertPEM=function(n){this.readCertHex(g(n))},this.readCertHex=function(n){this.hex=n,this.getVersion();try{c(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getInfo=function(){var n,e,t;if(n="Basic Fields\n",n+="  serial number: "+this.getSerialNumberHex()+"\n",n+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",n+="  issuer: "+this.getIssuerString()+"\n",n+="  notBefore: "+this.getNotBefore()+"\n",n+="  notAfter: "+this.getNotAfter()+"\n",n+="  subject: "+this.getSubjectString()+"\n",n+="  subject public key info: \n",n+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(n+="    n="+Bn(e.n.toString(16)).substr(0,16)+"...\n",n+="    e="+Bn(e.e.toString(16))+"\n"),null!=(t=this.aExtInfo)){n+="X509v3 Extensions:\n";for(var l=0;l<t.length;l++){var i=t[l],r=cn.asn1.x509.OID.oid2name(i.oid);""===r&&(r=i.oid);var o="";if(!0===i.critical&&(o="CRITICAL"),n+="  "+r+" "+o+":\n","basicConstraints"===r){var s=this.getExtBasicConstraints();void 0===s.cA?n+="    {}\n":(n+="    cA=true",void 0!==s.pathLen&&(n+=", pathLen="+s.pathLen),n+="\n")}else if("keyUsage"===r)n+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===r)n+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===r){var a=this.getExtAuthorityKeyIdentifier();void 0!==a.kid&&(n+="    kid="+a.kid+"\n")}else if("extKeyUsage"===r)n+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===r)n+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===r)n+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===r){var u=this.getExtAIAInfo();void 0!==u.ocsp&&(n+="    ocsp: "+u.ocsp.join(",")+"\n"),void 0!==u.caissuer&&(n+="    caissuer: "+u.caissuer.join(",")+"\n")}else if("certificatePolicies"===r)for(var c=this.getExtCertificatePolicies(),d=0;d<c.length;d++)void 0!==c[d].id&&(n+="    policy oid: "+c[d].id+"\n"),void 0!==c[d].cps&&(n+="    cps: "+c[d].cps+"\n")}}return(n+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}ln.prototype.sign=function(n,e){var t=function(n){return cn.crypto.Util.hashString(n,e)}(n);return this.signWithMessageHash(t,e)},ln.prototype.signWithMessageHash=function(n,e){var t=en(cn.crypto.Util.getPaddedDigestInfoHex(n,e,this.n.bitLength()),16);return jn(this.doPrivate(t).toString(16),this.n.bitLength())},ln.prototype.signPSS=function(n,e,t){var l,i=(l=An(n),cn.crypto.Util.hashHex(l,e));return void 0===t&&(t=-1),this.signWithMessageHashPSS(i,e,t)},ln.prototype.signWithMessageHashPSS=function(n,e,t){var l,i=wn(n),r=i.length,o=this.n.bitLength()-1,s=Math.ceil(o/8),a=function(n){return cn.crypto.Util.hashHex(n,e)};if(-1===t||void 0===t)t=r;else if(-2===t)t=s-r-2;else if(t<-2)throw"invalid salt length";if(s<r+t+2)throw"data too long";var u="";t>0&&(u=new Array(t),(new nn).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=wn(a(An("\0\0\0\0\0\0\0\0"+i+u))),d=[];for(l=0;l<s-t-r-2;l+=1)d[l]=0;var p=String.fromCharCode.apply(String,d)+"\x01"+u,h=Kn(c,p.length,a),g=[];for(l=0;l<p.length;l+=1)g[l]=p.charCodeAt(l)^h.charCodeAt(l);for(g[0]&=~(65280>>8*s-o&255),l=0;l<r;l++)g.push(c.charCodeAt(l));return g.push(188),jn(this.doPrivate(new E(g)).toString(16),this.n.bitLength())},ln.prototype.verify=function(n,e){var t=en(e=(e=e.replace(qn,"")).replace(/[ \n]+/g,""),16);if(t.bitLength()>this.n.bitLength())return 0;var l=Gn(this.doPublic(t).toString(16).replace(/^1f+00/,""));if(0==l.length)return!1;var i=l[0];return l[1]==function(n){return cn.crypto.Util.hashString(n,i)}(n)},ln.prototype.verifyWithMessageHash=function(n,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var t=en(e,16);if(t.bitLength()>this.n.bitLength())return 0;var l=Gn(this.doPublic(t).toString(16).replace(/^1f+00/,""));return 0!=l.length&&l[1]==n},ln.prototype.verifyPSS=function(n,e,t,l){var i,r=(i=An(n),cn.crypto.Util.hashHex(i,t));return void 0===l&&(l=-1),this.verifyWithMessageHashPSS(r,e,t,l)},ln.prototype.verifyWithMessageHashPSS=function(n,e,t,l){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,r=new E(e,16),o=function(n){return cn.crypto.Util.hashHex(n,t)},s=wn(n),a=s.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===l||void 0===l)l=a;else if(-2===l)l=c-a-2;else if(l<-2)throw"invalid salt length";if(c<a+l+2)throw"data too long";var d=this.doPublic(r).toByteArray();for(i=0;i<d.length;i+=1)d[i]&=255;for(;d.length<c;)d.unshift(0);if(188!==d[c-1])throw"encoded message does not end in 0xbc";var p=(d=String.fromCharCode.apply(String,d)).substr(0,c-a-1),h=d.substr(p.length,a),g=65280>>8*c-u&255;if(0!=(p.charCodeAt(0)&g))throw"bits beyond keysize not zero";var f=Kn(h,p.length,o),m=[];for(i=0;i<p.length;i+=1)m[i]=p.charCodeAt(i)^f.charCodeAt(i);m[0]&=~g;var v=c-a-l-2;for(i=0;i<v;i+=1)if(0!==m[i])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return h===wn(o(An("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,m.slice(-l)))))},ln.SALT_LEN_HLEN=-1,ln.SALT_LEN_MAX=-2,ln.SALT_LEN_RECOVER=-2,zn.hex2dn=function(n,e){if(void 0===e&&(e=0),"30"!==n.substr(e,2))throw"malformed DN";for(var t=new Array,l=hn.getChildIdx(n,e),i=0;i<l.length;i++)t.push(zn.hex2rdn(n,l[i]));return"/"+(t=t.map((function(n){return n.replace("/","\\/")}))).join("/")},zn.hex2rdn=function(n,e){if(void 0===e&&(e=0),"31"!==n.substr(e,2))throw"malformed RDN";for(var t=new Array,l=hn.getChildIdx(n,e),i=0;i<l.length;i++)t.push(zn.hex2attrTypeValue(n,l[i]));return(t=t.map((function(n){return n.replace("+","\\+")}))).join("+")},zn.hex2attrTypeValue=function(n,e){var t=hn,l=t.getV;if(void 0===e&&(e=0),"30"!==n.substr(e,2))throw"malformed attribute type and value";var i=t.getChildIdx(n,e);2!==i.length||n.substr(i[0],2);var r=l(n,i[0]),o=cn.asn1.ASN1Util.oidHexToInt(r);return cn.asn1.x509.OID.oid2atype(o)+"="+wn(l(n,i[1]))},zn.getPublicKeyFromCertHex=function(n){var e=new zn;return e.readCertHex(n),e.getPublicKey()},zn.getPublicKeyFromCertPEM=function(n){var e=new zn;return e.readCertPEM(n),e.getPublicKey()},zn.getPublicKeyInfoPropOfCertPEM=function(n){var e,t,l=hn.getVbyList,i={algparam:null};return(e=new zn).readCertPEM(n),t=e.getPublicKeyHex(),i.keyhex=l(t,0,[1],"03").substr(2),i.algoid=l(t,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=l(t,0,[0,1],"06")),i},zn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==cn&&cn||(cn={}),void 0!==cn.jws&&cn.jws||(cn.jws={}),cn.jws.JWS=function(){var n=cn.jws.JWS.isSafeJSONString;this.parseJWS=function(e,t){if(void 0===this.parsedJWS||!t&&void 0===this.parsedJWS.sigvalH){var l=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==l)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=l[1],r=l[2],o=l[3],s=i+"."+r;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=r,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=s,!t){var a=Cn(o),u=en(a,16);this.parsedJWS.sigvalH=a,this.parsedJWS.sigvalBI=u}var c=pn(i),d=pn(r);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=d,!n(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},cn.jws.JWS.sign=function(n,e,t,l,i){var r,o,s,a=cn.jws.JWS,u=a.readSafeJSONString,c=a.isSafeJSONString,d=cn.crypto,p=d.Mac,h=d.Signature,g=JSON;if("string"!=typeof e&&"object"!=typeof e)throw"spHeader must be JSON string or object: "+e;if("object"==typeof e&&(r=g.stringify(o=e)),"string"==typeof e){if(!c(r=e))throw"JWS Head is not safe JSON string: "+r;o=u(r)}if(s=t,"object"==typeof t&&(s=g.stringify(t)),""!=n&&null!=n||void 0===o.alg||(n=o.alg),""!=n&&null!=n&&void 0===o.alg&&(o.alg=n,r=g.stringify(o)),n!==o.alg)throw"alg and sHeader.alg doesn't match: "+n+"!="+o.alg;var f=null;if(void 0===a.jwsalg2sigalg[n])throw"unsupported alg name: "+n;f=a.jwsalg2sigalg[n];var m=dn(r)+"."+dn(s),v="";if("Hmac"==f.substr(0,4)){if(void 0===l)throw"mac key shall be specified for HS* alg";var y=new p({alg:f,prov:"cryptojs",pass:l});y.updateString(m),v=y.doFinal()}else if(-1!=f.indexOf("withECDSA")){(b=new h({alg:f})).init(l,i),b.updateString(m);var S=b.sign();v=cn.crypto.ECDSA.asn1SigToConcatSig(S)}else{var b;"none"!=f&&((b=new h({alg:f})).init(l,i),b.updateString(m),v=b.sign())}return m+"."+bn(v)},cn.jws.JWS.verify=function(n,e,t){var l,i=cn.jws.JWS,r=i.readSafeJSONString,o=cn.crypto,s=o.ECDSA,a=o.Mac,u=o.Signature;l=ln;var c=n.split(".");if(3!==c.length)return!1;var d,p=c[0]+"."+c[1],h=Cn(c[2]),g=r(pn(c[0])),f=null;if(void 0===g.alg)throw"algorithm not specified in header";if(d=(f=g.alg).substr(0,2),null!=t&&"[object Array]"===Object.prototype.toString.call(t)&&t.length>0&&-1==(":"+t.join(":")+":").indexOf(":"+f+":"))throw"algorithm '"+f+"' not accepted in the list";if("none"!=f&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=Mn.getKey(e)),!("RS"!=d&&"PS"!=d||e instanceof l))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==d&&!(e instanceof s))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===i.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+f;if("none"==(m=i.jwsalg2sigalg[f]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var v=new a({alg:m,pass:e});return v.updateString(p),h==v.doFinal()}if(-1!=m.indexOf("withECDSA")){var y,S=null;try{S=s.concatSigToASN1Sig(h)}catch(b){return!1}return(y=new u({alg:m})).init(e),y.updateString(p),y.verify(S)}return(y=new u({alg:m})).init(e),y.updateString(p),y.verify(h)},cn.jws.JWS.parse=function(n){var e,t,l=n.split("."),i={};if(2!=l.length&&3!=l.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=l[1],3==l.length&&(t=l[2]),i.headerObj=cn.jws.JWS.readSafeJSONString(pn(l[0])),i.payloadObj=cn.jws.JWS.readSafeJSONString(pn(e)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),i.payloadPP=null==i.payloadObj?pn(e):JSON.stringify(i.payloadObj,null,"  "),void 0!==t&&(i.sigHex=Cn(t)),i},cn.jws.JWS.verifyJWT=function(n,e,t){var l=cn.jws,i=l.JWS,r=i.readSafeJSONString,o=i.inArray,s=i.includedArray,a=n.split("."),u=a[0],c=a[1],d=(Cn(a[2]),r(pn(u))),p=r(pn(c));if(void 0===d.alg)return!1;if(void 0===t.alg)throw"acceptField.alg shall be specified";if(!o(d.alg,t.alg))return!1;if(void 0!==p.iss&&"object"==typeof t.iss&&!o(p.iss,t.iss))return!1;if(void 0!==p.sub&&"object"==typeof t.sub&&!o(p.sub,t.sub))return!1;if(void 0!==p.aud&&"object"==typeof t.aud)if("string"==typeof p.aud){if(!o(p.aud,t.aud))return!1}else if("object"==typeof p.aud&&!s(p.aud,t.aud))return!1;var h=l.IntDate.getNow();return void 0!==t.verifyAt&&"number"==typeof t.verifyAt&&(h=t.verifyAt),void 0!==t.gracePeriod&&"number"==typeof t.gracePeriod||(t.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+t.gracePeriod<h||void 0!==p.nbf&&"number"==typeof p.nbf&&h<p.nbf-t.gracePeriod||void 0!==p.iat&&"number"==typeof p.iat&&h<p.iat-t.gracePeriod||void 0!==p.jti&&void 0!==t.jti&&p.jti!==t.jti||!i.verify(n,e,t.alg))},cn.jws.JWS.includedArray=function(n,e){var t=cn.jws.JWS.inArray;if(null===n)return!1;if("object"!=typeof n)return!1;if("number"!=typeof n.length)return!1;for(var l=0;l<n.length;l++)if(!t(n[l],e))return!1;return!0},cn.jws.JWS.inArray=function(n,e){if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var t=0;t<e.length;t++)if(e[t]==n)return!0;return!1},cn.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},cn.jws.JWS.isSafeJSONString=function(n,e,t){var l=null;try{return"object"!=typeof(l=un(n))||l.constructor===Array?0:(e&&(e[t]=l),1)}catch(o){return 0}},cn.jws.JWS.readSafeJSONString=function(n){var e=null;try{return"object"!=typeof(e=un(n))||e.constructor===Array?null:e}catch(o){return null}},cn.jws.JWS.getEncodedSignatureValueFromJWS=function(n){var e=n.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},cn.jws.JWS.getJWKthumbprint=function(n){if("RSA"!==n.kty&&"EC"!==n.kty&&"oct"!==n.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===n.kty){if("string"!=typeof n.n||"string"!=typeof n.e)throw"wrong n and e value for RSA key";e+='"e":"'+n.e+'",',e+='"kty":"'+n.kty+'",',e+='"n":"'+n.n+'"}'}else if("EC"===n.kty){if("string"!=typeof n.crv||"string"!=typeof n.x||"string"!=typeof n.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+n.crv+'",',e+='"kty":"'+n.kty+'",',e+='"x":"'+n.x+'",',e+='"y":"'+n.y+'"}'}else if("oct"===n.kty){if("string"!=typeof n.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+n.kty+'",',e+='"k":"'+n.k+'"}'}var t=An(e);return bn(cn.crypto.Util.hashHex(t,"sha256"))},cn.jws.IntDate={},cn.jws.IntDate.get=function(n){var e=cn.jws.IntDate,t=e.getNow,l=e.getZulu;if("now"==n)return t();if("now + 1hour"==n)return t()+3600;if("now + 1day"==n)return t()+86400;if("now + 1month"==n)return t()+2592e3;if("now + 1year"==n)return t()+31536e3;if(n.match(/Z$/))return l(n);if(n.match(/^[0-9]+$/))return parseInt(n);throw"unsupported format: "+n},cn.jws.IntDate.getZulu=function(n){return Pn(n)},cn.jws.IntDate.getNow=function(){return~~(new Date/1e3)},cn.jws.IntDate.intDate2UTCString=function(n){return new Date(1e3*n).toUTCString()},cn.jws.IntDate.intDate2Zulu=function(n){var e=new Date(1e3*n);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},void 0!==cn&&cn||(cn={}),void 0!==cn.jws&&cn.jws||(cn.jws={}),cn.jws.JWSJS=function(){var n=cn.jws.JWS,e=n.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(n){this.init();var e=n.split(".");if(3!=e.length)throw"malformed input JWS";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(n,e,t,l){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var r=cn.jws.JWS.sign(n,e,this.sPayload,t,l).split(".");this.aHeader.push(r[0]),this.aSignature.push(r[2])}catch(g){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+g}},this.verifyAll=function(n){if(this.aHeader.length!==n.length||this.aSignature.length!==n.length)return!1;for(var e=0;e<n.length;e++){var t=n[e];if(2!==t.length)return!1;if(!1===this.verifyNth(e,t[0],t[1]))return!1}return!0},this.verifyNth=function(e,t,l){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var i=this.aHeader[e]+"."+this.sPayload+"."+this.aSignature[e],r=!1;try{r=n.verify(i,t,l)}catch(g){return!1}return r},this.readJWSJS=function(n){if("string"==typeof n){var t=e(n);if(null==t)throw"argument is not safe JSON object string";this.aHeader=t.headers,this.sPayload=t.payload,this.aSignature=t.signatures}else try{if(!(n.headers.length>0))throw"malformed header";if(this.aHeader=n.headers,"string"!=typeof n.payload)throw"malformed signatures";if(this.sPayload=n.payload,!(n.signatures.length>0))throw"malformed signatures";this.aSignature=n.signatures}catch(r){throw"malformed JWS-JS JSON object: "+r}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},e.SecureRandom=nn,e.rng_seed_time=$,e.BigInteger=E,e.RSAKey=ln,e.ECDSA=cn.crypto.ECDSA,e.DSA=cn.crypto.DSA,e.Signature=cn.crypto.Signature,e.MessageDigest=cn.crypto.MessageDigest,e.Mac=cn.crypto.Mac,e.Cipher=cn.crypto.Cipher,e.KEYUTIL=Mn,e.ASN1HEX=hn,e.X509=zn,e.CryptoJS=m,e.b64tohex=b,e.b64toBA=C,e.ECFieldElementFp=on,e.ECPointFp=sn,e.ECCurveFp=an,e.stoBA=gn,e.BAtos=fn,e.BAtohex=mn,e.stohex=vn,e.stob64=function(n){return S(vn(n))},e.stob64u=function(n){return yn(S(vn(n)))},e.b64utos=function(n){return fn(C(Sn(n)))},e.b64tob64u=yn,e.b64utob64=Sn,e.hex2b64=S,e.hextob64u=bn,e.b64utohex=Cn,e.utf8tob64u=dn,e.b64utoutf8=pn,e.utf8tob64=function(n){return S(On(Hn(n)))},e.b64toutf8=function(n){return decodeURIComponent(Dn(b(n)))},e.utf8tohex=En,e.hextoutf8=xn,e.hextorstr=wn,e.rstrtohex=An,e.hextob64=_n,e.hextob64nl=Tn,e.b64nltohex=In,e.hextopem=Rn,e.pemtohex=Nn,e.hextoArrayBuffer=function(n){if(n.length%2!=0)throw"input is not even length";if(null==n.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var e=new ArrayBuffer(n.length/2),t=new DataView(e),l=0;l<n.length/2;l++)t.setUint8(l,parseInt(n.substr(2*l,2),16));return e},e.ArrayBuffertohex=function(n){for(var e="",t=new DataView(n),l=0;l<n.byteLength;l++)e+=("00"+t.getUint8(l).toString(16)).slice(-2);return e},e.zulutomsec=Fn,e.zulutosec=Pn,e.zulutodate=function(n){return new Date(Fn(n))},e.datetozulu=function(n,e,t){var l,i=n.getUTCFullYear();if(e){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;l=(""+i).slice(-2)}else l=("000"+i).slice(-4);if(l+=("0"+(n.getUTCMonth()+1)).slice(-2),l+=("0"+n.getUTCDate()).slice(-2),l+=("0"+n.getUTCHours()).slice(-2),l+=("0"+n.getUTCMinutes()).slice(-2),l+=("0"+n.getUTCSeconds()).slice(-2),t){var r=n.getUTCMilliseconds();0!==r&&(l+="."+(r=(r=("00"+r).slice(-3)).replace(/0+$/g,"")))}return l+"Z"},e.uricmptohex=On,e.hextouricmp=Dn,e.ipv6tohex=kn,e.hextoipv6=Vn,e.hextoip=Ln,e.iptohex=function(n){var e="malformed IP address";if(!(n=n.toLowerCase(n)).match(/^[0-9.]+$/)){if(n.match(/^[0-9a-f:]+$/)&&-1!==n.indexOf(":"))return kn(n);throw e}var t=n.split(".");if(4!==t.length)throw e;var l="";try{for(var i=0;i<4;i++)l+=("0"+parseInt(t[i]).toString(16)).slice(-2);return l}catch(h){throw e}},e.encodeURIComponentAll=Hn,e.newline_toUnix=function(n){return n.replace(/\r\n/gm,"\n")},e.newline_toDos=function(n){return(n=n.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},e.hextoposhex=Bn,e.intarystrtohex=Un,e.strdiffidx=function(n,e){var t=n.length;n.length>e.length&&(t=e.length);for(var l=0;l<t;l++)if(n.charCodeAt(l)!=e.charCodeAt(l))return l;return n.length!=e.length?t:-1},e.KJUR=cn,e.crypto=cn.crypto,e.asn1=cn.asn1,e.jws=cn.jws,e.lang=cn.lang},k3Z3:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("Ip0R"),i=t("CcnG"),r=t("DtyJ"),o=t("p4DR");e.RECAPTCHA_V3_SITE_KEY=new i.InjectionToken("recaptcha-v3-site-key"),e.ReCaptchaV3Service=function(){function n(n,e,t,i,r){var o=this;this.onLoadComplete=function(n){o.grecaptcha=n,o.actionBacklog&&o.actionBacklog.length>0&&(o.actionBacklog.forEach((function(n){return o.executeActionWithSubject(n[0],n[1])})),o.actionBacklog=void 0)},this.zone=n,this.isBrowser=l.isPlatformBrowser(t),this.siteKey=e,this.nonce=r,this.baseUrl=i,this.init()}return Object.defineProperty(n.prototype,"onExecute",{get:function(){return this.onExecuteSubject||(this.onExecuteSubject=new r.Subject,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable},enumerable:!0,configurable:!0}),n.prototype.execute=function(n){var e=new r.Subject;return this.isBrowser&&(this.grecaptcha?this.executeActionWithSubject(n,e):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([n,e]))),e.asObservable()},n.prototype.executeActionWithSubject=function(n,e){var t=this;this.zone.runOutsideAngular((function(){t.grecaptcha.execute(t.siteKey,{action:n}).then((function(l){t.zone.run((function(){e.next(l),e.complete(),t.onExecuteSubject&&t.onExecuteSubject.next({action:n,token:l})}))}))}))},n.prototype.init=function(){this.isBrowser&&("grecaptcha"in window?this.grecaptcha=grecaptcha:o.loadScript(this.siteKey,this.onLoadComplete,"",this.baseUrl,this.nonce))},n.decorators=[{type:i.Injectable}],n}()},p4DR:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("Ip0R"),i=t("CcnG"),r=t("DtyJ");function o(n,e,t,l,i){window.ng2recaptchaloaded=function(){e(grecaptcha)};var r=document.createElement("script");r.innerHTML="",r.src=(l||"https://www.google.com/recaptcha/api.js")+"?render="+n+"&onload=ng2recaptchaloaded"+t,i&&(r.nonce=i),r.async=!0,r.defer=!0,document.head.appendChild(r)}e.RECAPTCHA_LANGUAGE=new i.InjectionToken("recaptcha-language"),e.RECAPTCHA_BASE_URL=new i.InjectionToken("recaptcha-base-url"),e.RECAPTCHA_NONCE=new i.InjectionToken("recaptcha-nonce-tag"),e.loadScript=o,e.RecaptchaLoaderService=function(){function n(e,t,i,o){this.platformId=e,this.language=t,this.baseUrl=i,this.nonce=o,this.init(),this.ready=l.isPlatformBrowser(this.platformId)?n.ready.asObservable():r.of()}return n.prototype.init=function(){if(!n.ready&&l.isPlatformBrowser(this.platformId)){var e=new r.BehaviorSubject(null);n.ready=e,o("explicit",(function(n){return e.next(n)}),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}},n.ready=null,n.decorators=[{type:i.Injectable}],n}()},"uOf+":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("CcnG"),i=t("WH67"),r=t("p4DR"),o=t("15PL");e.RecaptchaModule=function(){function n(){}return n.forRoot=function(){return n},n.decorators=[{type:l.NgModule,args:[{exports:[o.RecaptchaComponent],imports:[i.RecaptchaCommonModule],providers:[r.RecaptchaLoaderService]}]}],n}()},wrqk:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("CcnG");e.RECAPTCHA_SETTINGS=new l.InjectionToken("recaptcha-settings")}}]);